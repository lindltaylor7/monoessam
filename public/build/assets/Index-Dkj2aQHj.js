import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-JVKtn89k.js";import{d as j,r as g,c as y,o as v,a as t,u as e,m as I,w as a,b as l,e as o,t as m,F as S,l as R,g as U,W as F}from"./app-B_X2URcC.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-BSJmuv54.js";import{_ as f}from"./CardContent.vue_vue_type_script_setup_true_lang-ClBeuiMj.js";import{_ as b}from"./CardDescription.vue_vue_type_script_setup_true_lang-DgKS0Q12.js";import{_ as u,a as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-Du1bGMgt.js";import{_ as w}from"./index-CTH2T4zU.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang--BkW1AqD.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-DjSi3jMP.js";import{_ as q,a as W,b as L,c as O,d as h}from"./SelectValue.vue_vue_type_script_setup_true_lang-CLOdz0gT.js";import{C as P,_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-AB42qGDk.js";import{_ as A}from"./SalesReportTable.vue_vue_type_script_setup_true_lang-CegFAWBg.js";import{_ as G}from"./index-urJBVAA1.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DjKTa_L-.js";import"./Presence-DCvHu-Yt.js";import"./Primitive-BXKzue1x.js";import"./useForwardExpose-DoCFXPLs.js";import"./PopperContent-C9M_HwsM.js";import"./Teleport-DxZIQ5JP.js";import"./VisuallyHidden-DDW0ye8C.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Cl-0Qk3h.js";import"./utils-LkDV3Oq8.js";import"./useTypeahead-DLfcuVD2.js";import"./RovingFocusGroup-DyTLKveA.js";import"./usePrimitiveElement-4-1kWd8L.js";import"./Collection-KGQbAXD-.js";import"./utensils-D1h-RE8k.js";import"./createLucideIcon-DISZ_8zv.js";import"./DialogTitle-WjMicmp-.js";import"./x-YF0p4YfW.js";import"./DialogDescription-D-p8h2id.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-CzsLohRG.js";import"./building-2-BfedG3ab.js";import"./user-C4nmppP6.js";import"./chevron-right-UsN7y6or.js";import"./chevron-down-BIOWO2yR.js";import"./chevron-up-D8QADS19.js";import"./check-Db9yxzY-.js";import"./useFormControl-Du2SbSIn.js";import"./settings-2-AiDaonRQ.js";import"./briefcase-D7Qqc-oG.js";import"./lock-ZUg5P-g9.js";import"./shopping-bag-piZPVS1-.js";import"./between-horizontal-start-DpWIIfr_.js";import"./user-round-BNfMPZz_.js";import"./person-standing-dTErO0WU.js";import"./paperclip-B7jl16Vp.js";import"./calendar-B8fqe1sf.js";import"./chevron-left-B-p4WMGt.js";import"./circle-alert-B28rXrN4.js";import"./triangle-alert-sjeYYM7K.js";import"./circle-check-BWoNsnbK.js";import"./circle-plus-Bt8VZGBh.js";import"./shirt-zuNTm0TB.js";import"./dollar-sign-CBqOCOz4.js";import"./message-square-CbbpzILq.js";import"./eye-f6GmzPK_.js";import"./file-chart-column-C1lhbwrk.js";import"./upload-BrihE277.js";import"./info-CZ2OWqBp.js";import"./lamp-desk-bbHJQRrF.js";import"./list-check-DF1CllOe.js";import"./sheet-DkuUvHBZ.js";import"./loader-circle-CHi62ioM.js";import"./mail-DGiOT-pt.js";import"./monitor-D0XkXWog.js";import"./sun-s7qJRUcH.js";import"./package-plus-CGzrgN6r.js";import"./package-DDu4-Uw4.js";import"./pencil-D9t5Se2o.js";import"./phone-BzqaRx_y.js";import"./plus-D8fB2pBw.js";import"./search-Cc1wbunF.js";import"./shield-BR4Nin3Y.js";import"./shopping-cart-BlIugFDQ.js";import"./soup-CQ1blr7w.js";import"./trash-2-zbY6OQ_t.js";import"./trash-DarvRUnp.js";import"./truck-CKraXqWc.js";import"./user-plus-DX6_vOJp.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-BBgjNVsR.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DWSyfxV1.js";const H={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6"},J={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},K={class:"flex items-center gap-3"},M={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30"},Q={class:"grid gap-4 md:grid-cols-3"},X={class:"text-3xl font-black text-emerald-600"},Y={class:"text-3xl font-black text-blue-600"},Z={class:"text-3xl font-black text-purple-600"},tt={class:"grid gap-4 md:grid-cols-4"},et={class:"space-y-2"},at={class:"space-y-2"},st={class:"space-y-2"},lt={class:"flex items-end gap-2"},ot={class:"flex items-center justify-between"},Re=j({__name:"Index",props:{sales:{},cafes:{},filters:{},statistics:{}},setup(B){var V;const x=B,c=g(x.filters.start_date),_=g(x.filters.end_date),n=g(((V=x.filters.cafe_id)==null?void 0:V.toString())||"all"),k=()=>{F.get(route("reportsales.index"),{start_date:c.value,end_date:_.value,cafe_id:n.value!=="all"?n.value:null},{preserveState:!0,preserveScroll:!0})},T=()=>{const r=new Date().toISOString().split("T")[0];c.value=r,_.value=r,n.value="all",k()},E=r=>{confirm("¿Estás seguro de que deseas eliminar esta venta? Esta acción no se puede deshacer.")&&F.delete(route("reportsales.destroy",r),{preserveScroll:!0})},D=()=>{alert("Funcionalidad de exportación en desarrollo")};return(r,s)=>(v(),y(S,null,[t(e(I),{title:"Reporte de ventas"}),t(N,null,{default:a(()=>[l("div",H,[l("div",J,[l("div",K,[l("div",M,[t(e(P),{class:"text-white"})]),s[3]||(s[3]=l("div",null,[l("h1",{class:"text-2xl font-bold tracking-tight text-slate-900"},"Reporte de Ventas"),l("p",{class:"text-sm text-slate-500"},"Consulta y gestiona las ventas registradas")],-1))]),t(e(w),{onClick:D,variant:"outline",class:"gap-2"},{default:a(()=>[t(d,{name:"download",size:"16"}),s[4]||(s[4]=o(" Exportar a Excel "))]),_:1})]),l("div",Q,[t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"currency-dollar",size:"14"}),s[5]||(s[5]=o(" Total Vendido "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",X," S/"+m(Number(r.statistics.total_amount).toFixed(2)),1)]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"shopping-cart",size:"14"}),s[6]||(s[6]=o(" Total de Ventas "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",Y,m(r.statistics.total_sales),1)]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"chart-line",size:"14"}),s[7]||(s[7]=o(" Promedio por Venta "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",Z," S/"+m(Number(r.statistics.average_sale).toFixed(2)),1)]),_:1})]),_:1})]),t(e(p),{class:"border-slate-200 shadow-sm"},{default:a(()=>[t(e(u),null,{default:a(()=>[t(e(C),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[t(d,{name:"filter",size:"18"}),s[8]||(s[8]=o(" Filtros de Búsqueda "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",tt,[l("div",et,[t(e($),{for:"start-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[9]||(s[9]=[o(" Fecha Inicio ")])),_:1}),t(e(z),{id:"start-date",modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=i=>c.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",at,[t(e($),{for:"end-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[10]||(s[10]=[o(" Fecha Fin ")])),_:1}),t(e(z),{id:"end-date",modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=i=>_.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",st,[t(e($),{for:"cafe",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[11]||(s[11]=[o(" Cafetería ")])),_:1}),t(e(q),{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=i=>n.value=i)},{default:a(()=>[t(e(W),{id:"cafe",class:"border-slate-300"},{default:a(()=>[t(e(L),{placeholder:"Todas las cafeterías"})]),_:1}),t(e(O),null,{default:a(()=>[t(e(h),{value:"all"},{default:a(()=>s[12]||(s[12]=[o("Todas las cafeterías")])),_:1}),(v(!0),y(S,null,R(r.cafes,i=>(v(),U(e(h),{key:i.id,value:i.id.toString()},{default:a(()=>[o(m(i.name)+" "+m(i.unit?`- ${i.unit.name}`:""),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",lt,[t(e(w),{onClick:k,class:"flex-1 gap-2"},{default:a(()=>[t(d,{name:"search",size:"16"}),s[13]||(s[13]=o(" Buscar "))]),_:1}),t(e(w),{onClick:T,variant:"outline",size:"icon"},{default:a(()=>[t(d,{name:"x",size:"16"})]),_:1})])])]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 shadow-sm"},{default:a(()=>[t(e(u),null,{default:a(()=>[l("div",ot,[t(e(C),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[t(d,{name:"table",size:"18"}),s[14]||(s[14]=o(" Ventas Registradas "))]),_:1}),t(e(G),{variant:"secondary",class:"font-bold"},{default:a(()=>[o(m(r.sales.total)+" resultados ",1)]),_:1})])]),_:1}),t(e(f),{class:"p-0"},{default:a(()=>[t(A,{sales:r.sales.data,"paginate-data":r.sales,onDeleteSale:E},null,8,["sales","paginate-data"])]),_:1})]),_:1})])]),_:1})],64))}});export{Re as default};
