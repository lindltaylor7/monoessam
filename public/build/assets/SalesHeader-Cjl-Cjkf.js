import{c as Z,u as ee,a as te}from"./Presence-gyLMYwB6.js";import{u as ae}from"./usePrimitiveElement-C-ZJ2oTg.js";import{i as j,u as O}from"./useFormControl-Bw7zWBgI.js";import{b as L,u as D}from"./useForwardExpose-VjQ2_pkl.js";import{P as G}from"./Primitive-RUlYZo3M.js";import{i as J,V as K}from"./Checkbox.vue_vue_type_script_setup_true_lang-BiaBBKlh.js";import{v as k,d as C,B as se,g as h,o as f,w as g,a as m,u as e,k as F,i as P,L as Q,G as R,H as I,I as E,bc as oe,J as W,aR as re,j as w,s as A,r as le,c as x,b as p,e as S,F as T,p as $,t as B,n as ie}from"./app-DPIyPfP6.js";import{R as ne}from"./RovingFocusGroup-CxEV_-4Z.js";import{c as X}from"./utils-bRKmu4jq.js";import{R as de}from"./RovingFocusItem-gQ7Uoae4.js";import{c as ue}from"./index-dkW4UkYo.js";import{_ as pe}from"./DatePicker.vue_vue_type_script_setup_true_lang-CJgm1Vup.js";import{_ as ce}from"./DinnersTable.vue_vue_type_script_setup_true_lang-RFwho1Yr.js";import{_ as me}from"./ExcelDialog.vue_vue_type_script_setup_true_lang-tsdHmmtz.js";import{_ as fe}from"./NewDinnerDialog.vue_vue_type_script_setup_true_lang-HYFDVZye.js";import{_ as ve}from"./ReportDialog.vue_vue_type_script_setup_true_lang-DT5y0fYc.js";import{_ as q}from"./Icon.vue_vue_type_script_setup_true_lang-DO9LizxT.js";import{_ as M}from"./Card.vue_vue_type_script_setup_true_lang-CSC0qB02.js";import{_ as U}from"./CardContent.vue_vue_type_script_setup_true_lang-xlaaiLHG.js";import{S as ge}from"./utensils-D5ahX8L2.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisuallyHidden-BQSTESJX.js";import"./check-9NVF4aMl.js";import"./createLucideIcon-CmVClo_N.js";import"./Collection-Dw4GtWyL.js";import"./useCalendar-DWgKDlUU.js";import"./index-BSY35j65.js";import"./CalendarPrevButton.vue_vue_type_script_setup_true_lang-DuqxC43H.js";import"./chevron-right-DPpMDZIN.js";import"./chevron-left-DvRlfOzU.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-C9akZe-i.js";import"./Teleport-Dl654XWN.js";import"./PopperContent-Dt3M4fTp.js";import"./calendar-CZbyeBnm.js";import"./Input.vue_vue_type_script_setup_true_lang-BkBhVn0L.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BvNu743n.js";import"./DialogTitle-CPzsuWRD.js";import"./utils-Gj-DVLb5.js";import"./x-Bo4NCI4F.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-B3M0nq-F.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-DghAfP4r.js";import"./sheet-BcDXty5r.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CoZsvi9r.js";import"./chevron-down-CLJfm_sO.js";import"./chevron-up-B6oMSLb2.js";import"./useTypeahead-KoQ0TJE9.js";import"./SelectLabel.vue_vue_type_script_setup_true_lang-NYN3jR_F.js";import"./user-plus-CORXD_-e.js";import"./file-chart-column-V3lU5551.js";import"./loader-circle-CawVu4wf.js";import"./between-horizontal-start-m5D_4MTd.js";import"./user-round-CyCEOgav.js";import"./building-2-CfkvSQ0g.js";import"./person-standing-CQhxtmri.js";import"./paperclip-Dwk_INAV.js";import"./circle-alert-C0F4eXmY.js";import"./triangle-alert-CvVNCnyv.js";import"./search-CKm69XSi.js";import"./circle-plus-g0N8AyFC.js";import"./dollar-sign-xrL3m_Mj.js";import"./upload-DZazRtdY.js";import"./hand-helping-DcfY2zmJ.js";import"./info-Bv5YsnfX.js";import"./lamp-desk-CXoGa2E_.js";import"./list-check-zyNRMtJG.js";import"./lock-DIX4xGuu.js";import"./mail-CeefDNMQ.js";import"./sun-kf33qZ2W.js";import"./pencil-DQwG7MOA.js";import"./plus-C3doKKr_.js";import"./shield-BPFN-M17.js";import"./shopping-cart-DQOQ9w4d.js";import"./soup-DcrPkuH4.js";import"./trash-2-B9mQKF3-.js";import"./trash-C9-aXFbu.js";import"./user-Cds7FcI6.js";function be({type:o,defaultValue:r,modelValue:t}){const n=t||r;return t!==void 0||r!==void 0?Array.isArray(n)?"multiple":"single":o??"single"}function he({type:o,defaultValue:r,modelValue:t}){return o||be({type:o,defaultValue:r,modelValue:t})}function ye({type:o,defaultValue:r}){return r!==void 0?r:o==="single"?void 0:[]}function xe(o,r){const t=k(()=>he(o)),n=L(o,"modelValue",r,{defaultValue:ye(o),passive:o.modelValue===void 0,deep:!0});function u(a){if(t.value==="single")n.value=j(a,n.value)?void 0:a;else{const s=Array.isArray(n.value)?[...n.value||[]]:[n.value].filter(Boolean);if(J(s,a)){const c=s.findIndex(b=>j(b,a));s.splice(c,1)}else s.push(a);n.value=s}}const i=k(()=>t.value==="single");return{modelValue:n,changeModelValue:u,isSingle:i}}const[Y,we]=Z("ToggleGroupRoot");var Ve=C({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(o,{emit:r}){const t=o,n=r,{loop:u,rovingFocus:i,disabled:a,dir:s}=se(t),c=ae(s),{forwardRef:b,currentElement:y}=D(),{modelValue:v,changeModelValue:_,isSingle:d}=xe(t,n),z=O(y);return we({isSingle:d,modelValue:v,changeModelValue:_,dir:c,orientation:t.orientation,loop:u,rovingFocus:i,disabled:a}),(l,V)=>(f(),h(Q(e(i)?e(ne):e(G)),{"as-child":"",orientation:e(i)?l.orientation:void 0,dir:e(c),loop:e(i)?e(u):void 0},{default:g(()=>[m(e(G),{ref:e(b),role:"group","as-child":l.asChild,as:l.as},{default:g(()=>[F(l.$slots,"default",{modelValue:e(v)}),e(z)&&l.name?(f(),h(K,{key:0,name:l.name,required:l.required,value:e(v)},null,8,["name","required","value"])):P("v-if",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),Se=Ve,qe=C({__name:"Toggle",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(o,{emit:r}){const t=o,n=r,{forwardRef:u,currentElement:i}=D(),a=Y(null),s=L(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0});function c(){s.value=!s.value}const b=k(()=>s.value?"on":"off"),y=O(i);return(v,_)=>(f(),h(e(G),{ref:e(u),type:v.as==="button"?"button":void 0,"as-child":t.asChild,as:v.as,"aria-pressed":e(s),"data-state":b.value,"data-disabled":v.disabled?"":void 0,disabled:v.disabled,onClick:c},{default:g(()=>[F(v.$slots,"default",{modelValue:e(s),disabled:v.disabled,pressed:e(s),state:b.value}),e(y)&&v.name&&!e(a)?(f(),h(K,{key:0,type:"checkbox",name:v.name,value:e(s),required:v.required},null,8,["name","value","required"])):P("v-if",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Ce=qe,ze=C({__name:"ToggleGroupItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const r=o,t=Y(),n=k(()=>{var a;return((a=t.disabled)==null?void 0:a.value)||r.disabled}),u=k(()=>J(t.modelValue.value,r.value)),{forwardRef:i}=D();return(a,s)=>(f(),h(Q(e(t).rovingFocus.value?e(de):e(G)),R({"as-child":""},e(t).rovingFocus.value?{focusable:!n.value,active:u.value}:{}),{default:g(()=>[m(e(Ce),R(r,{ref:e(i),disabled:n.value,"model-value":u.value,"onUpdate:modelValue":s[0]||(s[0]=c=>e(t).changeModelValue(a.value))}),{default:g(c=>[F(a.$slots,"default",I(E(c)))]),_:3},16,["disabled","model-value"])]),_:3},16))}}),Be=ze;const H=C({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(o,{emit:r}){const t=o,n=r;oe("toggleGroup",{variant:t.variant,size:t.size});const u=W(t,"class","size","variant"),i=ee(u,n);return(a,s)=>(f(),h(e(Se),R({"data-slot":"toggle-group","data-size":a.size,"data-variant":a.variant},e(i),{class:e(X)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",t.class)}),{default:g(c=>[F(a.$slots,"default",I(E(c)))]),_:3},16,["data-size","data-variant","class"]))}}),ke=ue("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(o){const r=o,t=re("toggleGroup"),n=W(r,"class","size","variant"),u=te(n);return(i,a)=>{var s,c,b,y;return f(),h(e(Be),R({"data-slot":"toggle-group-item","data-variant":((s=e(t))==null?void 0:s.variant)||i.variant,"data-size":((c=e(t))==null?void 0:c.size)||i.size},e(u),{class:e(X)(e(ke)({variant:((b=e(t))==null?void 0:b.variant)||i.variant,size:((y=e(t))==null?void 0:y.size)||i.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",r.class)}),{default:g(v=>[F(i.$slots,"default",I(E(v)))]),_:3},16,["data-variant","data-size","class"])}}}),Fe={class:"space-y-6"},Te={class:"bg-red-600 px-6 py-4 flex items-center gap-3"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ge={class:"space-y-2"},Re={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},De={class:"space-y-2"},Pe={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},Ie={class:"space-y-3"},Ee={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},je={class:"space-y-4 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar"},Ae={class:"flex items-center gap-2"},Me={class:"text-[10px] font-black uppercase text-slate-900 bg-slate-100 px-2 py-0.5 rounded"},Ue={class:"grid grid-cols-2 gap-2"},He=["onClick"],Ne={class:"truncate"},Oe={key:0,class:"text-[10px] italic text-slate-400 pl-2"},Le={class:"pt-4 border-t border-slate-100 grid grid-cols-2 gap-3"},Je={class:"bg-emerald-600 px-6 py-4 flex items-center justify-between"},Ke={class:"flex items-center gap-3 text-white"},Qe={class:"grid grid-cols-2 gap-4"},We=C({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{},subdealerships:{},units:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(o,{emit:r}){const t=r,n=o;w(!1);const u=w(0),i=w(0),a=w([]),s=w([]),c=w(0);w(!1);const b=()=>{t("updateFormData",{receipt_type_id:c.value,sale_type_id:i.value,cafe_id:u.value})};A(u,_=>{const d=n.cafes.find(z=>z.id===_);d?(a.value=d.services||[],s.value=d.sales||[],t("showServicesFromCafeSelected",a.value,s.value)):(a.value=[],t("showServicesFromCafeSelected",a.value))}),A([c,i,u],()=>{b()});const y=_=>{t("updateDate",_)},v=_=>{t("addServiceSelected",_)};return(_,d)=>{const z=le("Badge");return f(),x("div",Fe,[m(e(M),{class:"border-none shadow-sm bg-white overflow-hidden py-0"},{default:g(()=>[p("div",Te,[m(e(ge),{class:"text-white"}),d[2]||(d[2]=p("h3",{class:"text-white font-bold tracking-tight text-sm uppercase"},"Configuración de Venta",-1))]),m(e(U),{class:"p-6 space-y-6"},{default:g(()=>[p("div",$e,[p("div",Ge,[p("label",Re,[m(q,{name:"file-text",size:"12",class:"text-blue-500"}),d[3]||(d[3]=S(" Documento "))]),m(e(H),{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=l=>c.value=l),type:"single",class:"flex flex-wrap gap-1 bg-slate-50 p-1 rounded-xl"},{default:g(()=>[(f(!0),x(T,null,$(_.receipt_types,l=>(f(),h(e(N),{value:l.id,key:l.id,class:"flex-1 h-9 rounded-lg text-xs font-bold transition-all data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:shadow-md"},{default:g(()=>[S(B(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),p("div",De,[p("label",Pe,[m(q,{name:"tag",size:"12",class:"text-purple-500"}),d[4]||(d[4]=S(" Categoría "))]),m(e(H),{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=l=>i.value=l),type:"single",class:"flex flex-wrap gap-1 bg-slate-50 p-1 rounded-xl"},{default:g(()=>[(f(!0),x(T,null,$(_.sale_types,l=>(f(),h(e(N),{value:l.id,key:l.id,class:"flex-1 h-9 rounded-lg text-xs font-bold transition-all data-[state=on]:bg-purple-600 data-[state=on]:text-white data-[state=on]:shadow-md"},{default:g(()=>[S(B(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),p("div",Ie,[p("label",Ee,[m(q,{name:"map-pin",size:"12",class:"text-amber-500"}),d[5]||(d[5]=S(" Punto de Servicio (Unidad / Cafetería) "))]),p("div",je,[(f(!0),x(T,null,$(_.units,l=>(f(),x("div",{key:l.id,class:"space-y-2"},[p("div",Ae,[p("span",Me,B(l.name),1),d[6]||(d[6]=p("div",{class:"h-[1px] flex-1 bg-slate-100"},null,-1))]),p("div",Ue,[(f(!0),x(T,null,$(l.cafes,V=>(f(),x("button",{key:V.id,onClick:Xe=>u.value=V.id,class:ie(["text-left px-3 py-2.5 rounded-xl text-xs font-bold border transition-all flex items-center justify-between group",u.value===V.id?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-200":"bg-white border-slate-200 text-slate-600 hover:border-amber-300 hover:bg-amber-50"])},[p("span",Ne,B(V.name),1),u.value===V.id?(f(),h(q,{key:0,name:"check-circle",size:"14"})):(f(),h(q,{key:1,name:"coffee",size:"14",class:"text-slate-300 group-hover:text-amber-500 transition-colors"}))],10,He))),128))]),l.cafes.length===0?(f(),x("p",Oe,"Sin cafeterías asignadas")):P("",!0)]))),128))])]),p("div",Le,[m(pe,{onUpdateDate:y,class:"w-full h-11"}),m(fe,{cafes:_.cafes,subdealerships:_.subdealerships},null,8,["cafes","subdealerships"])])]),_:1})]),_:1}),m(e(M),{class:"border-none shadow-sm bg-white overflow-hidden py-0"},{default:g(()=>[p("div",Je,[p("div",Ke,[m(q,{name:"utensils",class:"h-5 w-5"}),d[7]||(d[7]=p("h3",{class:"font-bold tracking-tight text-sm uppercase"},"Servicios Disponibles",-1))]),m(z,{variant:"outline",class:"bg-white/20 text-white border-white/20 font-bold border-none rounded p-1"},{default:g(()=>[S(B(a.value.length),1)]),_:1})]),m(e(U),{class:"p-0"},{default:g(()=>[m(ce,{services:a.value,onAddServiceSelected:v},null,8,["services"])]),_:1})]),_:1}),p("div",Qe,[m(me,{class:"w-full"}),m(ve,{class:"w-full"})])])}}}),ya=_e(We,[["__scopeId","data-v-7e8ed3b9"]]);export{ya as default};
