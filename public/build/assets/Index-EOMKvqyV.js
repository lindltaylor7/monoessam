import{d as S,r as k,C as L,g as u,o as n,w as o,a as e,b as i,u as s,m as T,e as l,c as d,i as h,F as f,l as _,t as p,P as z,n as B}from"./app-C6NgE5un.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bfz7RLeB.js";import{_ as b}from"./index-BmJWyXmo.js";import{e as V,_ as A,a as C,b as g,c as D,d as c}from"./TableHeader.vue_vue_type_script_setup_true_lang-DttXGtY5.js";import{_ as $}from"./index-B7Y7Swmj.js";import{_ as y}from"./Icon.vue_vue_type_script_setup_true_lang-DdcXvFqV.js";import F from"./UserModal-AjErIrxJ.js";import I from"./PermissionModal-aUw0nk2Z.js";import{S as O}from"./shield-BDqDk_E1.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CCrX9P3n.js";import"./Presence-C16l6f-G.js";import"./Primitive-Dz6BdNAh.js";import"./useForwardExpose-BDT-UiQT.js";import"./PopperContent-B_JZLYSE.js";import"./Teleport-BBbXjpWz.js";import"./VisuallyHidden-C2WY4yzo.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Dvu_yPnN.js";import"./utils-CCA9cgE0.js";import"./useTypeahead-Dlbq4Drc.js";import"./RovingFocusGroup-DUjpD9wM.js";import"./usePrimitiveElement-C_w-ra6U.js";import"./Collection-B31zlixO.js";import"./utensils-SXUV3_1e.js";import"./createLucideIcon-pIRXmFBY.js";import"./DialogTitle-pKaoQwGU.js";import"./x-FW5yYcVL.js";import"./DialogDescription-CNBlE0bV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-DpA0nQ7T.js";import"./building-2-BaGfwV9A.js";import"./user-D381w6S0.js";import"./chevron-right-CXPRo_oF.js";import"./settings-2-Z0_N8aW6.js";import"./briefcase-DbXjoM5U.js";import"./lock-BCAGohpt.js";import"./shopping-bag-CqKw3JF-.js";import"./between-horizontal-start-YvfhDmVy.js";import"./user-round-YdiyTD60.js";import"./person-standing-C_uxTpWq.js";import"./paperclip-Bt3-EBzH.js";import"./calendar-BPD7dOMY.js";import"./check-DTc0zkRx.js";import"./chevron-down-CUDz6jDX.js";import"./chevron-left-I6WNv15m.js";import"./chevron-up-Cm2KSEGw.js";import"./circle-alert-B0QtNVvI.js";import"./triangle-alert-DakYSp0v.js";import"./circle-check-qKimrRig.js";import"./circle-plus-DIIMjnvQ.js";import"./shirt-Bz2bPrSj.js";import"./dollar-sign-BDPolzNe.js";import"./message-square-DLpEsMO0.js";import"./eye-D3NUh0UK.js";import"./file-chart-column-B9PfWGKS.js";import"./upload-CbGEQMSL.js";import"./info-DykMJMNb.js";import"./lamp-desk-1DxmQ-cF.js";import"./list-check-CD6MMguq.js";import"./sheet-l63kWwTi.js";import"./loader-circle-Bdd3n5dg.js";import"./mail-Cc3htuuI.js";import"./monitor-LaA8iJfE.js";import"./sun-C0z-lIJb.js";import"./package-plus-Cs4Lm_Ox.js";import"./package-DQPdHXKJ.js";import"./pencil-Ds7PI5jk.js";import"./phone-Co4xXJTo.js";import"./plus-3kbiyMl6.js";import"./search-DSA6q9gj.js";import"./shopping-cart-D-LgB7Px.js";import"./soup-Dtx74fsj.js";import"./trash-2-BgQSWW6E.js";import"./trash-XPAzA87D.js";import"./truck-BoGdqZzJ.js";import"./user-plus-BwITTWRX.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CXfPcHb6.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-ntb8WBlm.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-vrE2xWgX.js";import"./Input.vue_vue_type_script_setup_true_lang-Dj7OXP1P.js";import"./Label.vue_vue_type_script_setup_true_lang-C6oWO7ic.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-CVTY1Om0.js";import"./useFormControl-BuEAf5cm.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-DwFCXSiF.js";import"./RovingFocusItem-BW90cXYf.js";const q={class:"p-6"},R={class:"flex justify-between items-center mb-6"},G={class:"border bg-card overflow-hidden rounded-xl shadow-sm"},J={class:"flex items-center gap-3"},K={class:"h-9 w-9 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-primary font-semibold text-sm"},Q={class:"flex flex-col"},W={class:"text-sm font-semibold"},X={class:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium"},Y={class:"flex flex-col gap-1"},Z={class:"flex flex-wrap gap-1"},tt={class:"flex flex-wrap gap-1"},et={key:0,class:"text-muted-foreground text-xs italic"},st={class:"flex flex-wrap gap-1 max-w-[200px]"},rt={key:0,class:"text-muted-foreground text-xs italic"},ot={class:"flex justify-end gap-1"},it={class:"flex flex-col items-center justify-center gap-2"},at={key:0,class:"flex items-center justify-between px-6 py-4 border-t bg-muted/20"},nt={class:"text-sm text-muted-foreground text-xs"},lt={class:"font-medium"},mt={class:"font-medium"},dt={class:"font-medium"},pt={class:"flex items-center gap-1"},ut=["innerHTML"],Ge=S({__name:"Index",props:{users:{},roles:{},areas:{},units:{},permissions:{}},setup(ft){const M=[{title:"Usuarios",href:"/users"}],v=k(!1),w=k(!1),x=k(null),U=L({}),j=()=>{x.value=null,v.value=!0},N=a=>{x.value=a,v.value=!0},E=a=>{x.value=a,w.value=!0},P=a=>{confirm("¿Estás seguro de que deseas eliminar este usuario?")&&U.delete(route("users.destroy",a),{preserveScroll:!0})};return(a,t)=>(n(),u(H,{breadcrumbs:M},{default:o(()=>[e(s(T),{title:"Usuarios"}),i("div",q,[i("div",R,[t[3]||(t[3]=i("div",null,[i("h1",{class:"text-2xl font-bold tracking-tight"},"Usuarios"),i("p",{class:"text-muted-foreground text-sm"},"Administra los usuarios del sistema, sus roles, áreas y unidades.")],-1)),e(s(b),{onClick:j},{default:o(()=>[e(y,{name:"plus",class:"mr-2 h-4 w-4"}),t[2]||(t[2]=l(" Nuevo Usuario "))]),_:1})]),i("div",G,[e(s(V),null,{default:o(()=>[e(s(A),null,{default:o(()=>[e(s(C),{class:"bg-muted/30"},{default:o(()=>[e(s(g),{class:"w-[280px]"},{default:o(()=>t[4]||(t[4]=[l("Nombre")])),_:1}),e(s(g),null,{default:o(()=>t[5]||(t[5]=[l("Email")])),_:1}),e(s(g),null,{default:o(()=>t[6]||(t[6]=[l("Rol / Área")])),_:1}),e(s(g),null,{default:o(()=>t[7]||(t[7]=[l("Unidades")])),_:1}),e(s(g),{class:"text-right"},{default:o(()=>t[8]||(t[8]=[l("Acciones")])),_:1})]),_:1})]),_:1}),e(s(D),null,{default:o(()=>[(n(!0),d(f,null,_(a.users.data,r=>(n(),u(s(C),{key:r.id,class:"hover:bg-muted/50 transition-colors"},{default:o(()=>[e(s(c),{class:"font-medium"},{default:o(()=>[i("div",J,[i("div",K,p(r.name.charAt(0).toUpperCase()),1),i("div",Q,[i("span",W,p(r.name),1),i("span",X,"ID: "+p(r.id),1)])])]),_:2},1024),e(s(c),{class:"text-sm text-muted-foreground"},{default:o(()=>[l(p(r.email),1)]),_:2},1024),e(s(c),null,{default:o(()=>[i("div",Y,[i("div",Z,[(n(!0),d(f,null,_(r.roles,m=>(n(),u(s($),{key:m.id,variant:"secondary",class:"font-normal px-2 py-0 h-5"},{default:o(()=>[l(p(m.name),1)]),_:2},1024))),128))]),i("div",tt,[(n(!0),d(f,null,_(r.areas,m=>(n(),u(s($),{key:m.id,variant:"outline",class:"font-normal border-primary/20 bg-primary/5 text-primary px-2 py-0 h-5"},{default:o(()=>[l(p(m.name),1)]),_:2},1024))),128))]),r.roles.length===0&&r.areas.length===0?(n(),d("span",et,"Sin asignar")):h("",!0)])]),_:2},1024),e(s(c),null,{default:o(()=>[i("div",st,[(n(!0),d(f,null,_(r.units,m=>(n(),u(s($),{key:m.id,variant:"outline",class:"font-normal bg-orange-50 text-orange-700 border-orange-200 px-2 py-0 h-5"},{default:o(()=>[l(p(m.name),1)]),_:2},1024))),128)),r.units.length===0?(n(),d("span",rt,"Sin unidades")):h("",!0)])]),_:2},1024),e(s(c),{class:"text-right"},{default:o(()=>[i("div",ot,[e(s(b),{variant:"ghost",size:"icon",onClick:m=>N(r),title:"Editar",class:"h-8 w-8 text-primary hover:text-primary hover:bg-primary/10"},{default:o(()=>[e(y,{name:"pencil",class:"h-4 w-4"})]),_:2},1032,["onClick"]),e(s(b),{variant:"ghost",size:"icon",onClick:m=>E(r),title:"Permisos",class:"h-8 w-8 text-orange-600 hover:text-orange-600 hover:bg-orange-50"},{default:o(()=>[e(s(O),{class:"h-4 w-4"})]),_:2},1032,["onClick"]),e(s(b),{variant:"ghost",size:"icon",class:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:m=>P(r.id),title:"Eliminar"},{default:o(()=>[e(y,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),a.users.data.length===0?(n(),u(s(C),{key:0},{default:o(()=>[e(s(c),{colspan:"5",class:"h-32 text-center text-muted-foreground"},{default:o(()=>[i("div",it,[e(y,{name:"users",class:"h-8 w-8 opacity-20"}),t[9]||(t[9]=i("p",{class:"text-sm"},"No se encontraron usuarios registrados.",-1))])]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1}),a.users.total>a.users.per_page?(n(),d("div",at,[i("div",nt,[t[10]||(t[10]=l(" Mostrando ")),i("span",lt,p(a.users.from),1),t[11]||(t[11]=l(" a ")),i("span",mt,p(a.users.to),1),t[12]||(t[12]=l(" de ")),i("span",dt,p(a.users.total),1),t[13]||(t[13]=l(" resultados "))]),i("div",pt,[(n(!0),d(f,null,_(a.users.links,(r,m)=>(n(),d(f,{key:m},[r.url===null?(n(),d("div",{key:0,class:"h-8 min-w-[32px] px-2 flex items-center justify-center text-xs text-muted-foreground/50 rounded-md border border-transparent",innerHTML:r.label},null,8,ut)):(n(),u(s(z),{key:1,href:r.url,class:B(["h-8 min-w-[32px] px-2 flex items-center justify-center text-xs rounded-md border transition-all",{"bg-primary text-primary-foreground border-primary shadow-sm font-bold":r.active,"bg-background hover:bg-muted border-muted-foreground/20 text-muted-foreground":!r.active}]),innerHTML:r.label,"preserve-scroll":""},null,8,["href","class","innerHTML"]))],64))),128))])])):h("",!0)])]),e(F,{open:v.value,"onUpdate:open":t[0]||(t[0]=r=>v.value=r),user:x.value,roles:a.roles,areas:a.areas,units:a.units},null,8,["open","user","roles","areas","units"]),e(I,{open:w.value,"onUpdate:open":t[1]||(t[1]=r=>w.value=r),user:x.value,permissions:a.permissions},null,8,["open","user","permissions"])]),_:1}))}});export{Ge as default};
