import{d as E,j as C,C as L,g as p,o as a,w as s,a as r,b as o,u as e,m as T,e as l,c as d,i as v,F as f,p as _,t as u,P as B,n as H}from"./app-DHaWASGs.js";import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-Chdxxy-w.js";import{_ as h}from"./index-DugFCX-b.js";import{e as V,_ as z,a as w,b as x,c as A,d as c}from"./TableHeader.vue_vue_type_script_setup_true_lang-CjvtOub9.js";import{_ as k}from"./index-CpnASZy_.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang-DTerDolt.js";import D from"./UserModal-CGLC8TRd.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-J0CiHlNm.js";import"./Presence-C3SvcCxZ.js";import"./Primitive-tBCOSnLX.js";import"./useForwardExpose-Bro4_Myj.js";import"./PopperContent-BHJV5yJC.js";import"./Teleport-nRBCHDkQ.js";import"./VisuallyHidden-BqOzgzWc.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BOltGrsg.js";import"./utils-CIsYqnC8.js";import"./useTypeahead-BpWzT4GM.js";import"./RovingFocusGroup-rscWlNFd.js";import"./usePrimitiveElement-BXxKKAKx.js";import"./Collection-2QV-Wjc-.js";import"./utensils-CMSHCEnc.js";import"./createLucideIcon-CwVU_XBn.js";import"./DialogTitle-Cd2TOZBO.js";import"./x-DiRws2QM.js";import"./DialogDescription-BqAPQkLQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-D-x7MPlQ.js";import"./building-2-DFOIrQD-.js";import"./user-BPmdqIWL.js";import"./chevron-right-tpyrcjJw.js";import"./sandwich-LQPJ_2BJ.js";import"./between-horizontal-start-D1gFDSIy.js";import"./user-round-C1Wts4hU.js";import"./building-YtZ4Bd5c.js";import"./person-standing-CoFLATjM.js";import"./paperclip-DuwVUeC0.js";import"./calendar-BYBGSNwQ.js";import"./check-DG9H7RV-.js";import"./chevron-down-DNYKOvr8.js";import"./chevron-left-CRJhaYdN.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-ajK6f8PH.js";import"./circle-alert-Way-lIMf.js";import"./triangle-alert-MWOmAk3X.js";import"./search-DH__hV28.js";import"./circle-plus-Bnvy9ueP.js";import"./tag-DUPe3KyA.js";import"./dollar-sign-Cw2afZJG.js";import"./upload-DL7K1Yal.js";import"./file-chart-column-CITc0Q3Y.js";import"./file-Ce5EUqHw.js";import"./info-DXAXYm5o.js";import"./lamp-desk-B6-ogNx9.js";import"./list-check-B5hrXAK-.js";import"./list-B4KGL_GS.js";import"./loader-circle-BZUXqJgO.js";import"./lock-D8YOZq2E.js";import"./mail-BV3eQDyT.js";import"./sun-CGoxGlZs.js";import"./pencil-BG0mzKe6.js";import"./phone-Duv4noxC.js";import"./plus-3sYIKzVS.js";import"./sheet-BRFN6Ha6.js";import"./shield-DtkHsUAo.js";import"./shopping-cart-DmX6wcNg.js";import"./soup-B5ebva0u.js";import"./trash-2-vkcGeRRe.js";import"./trash-CeWi2HHZ.js";import"./user-plus-CxwED8fw.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-0mbjowD6.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-DK5vTktY.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-DsyqJLQZ.js";import"./Input.vue_vue_type_script_setup_true_lang-Bfjd_9Oz.js";import"./Label.vue_vue_type_script_setup_true_lang-DZmw_v8h.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-CHdWWeyv.js";import"./RovingFocusItem-ZoXuaIky.js";const F={class:"p-6"},I={class:"flex justify-between items-center mb-6"},P={class:"border bg-card overflow-hidden rounded-xl shadow-sm"},q={class:"flex items-center gap-3"},O={class:"h-9 w-9 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-primary font-semibold text-sm"},R={class:"flex flex-col"},G={class:"text-sm font-semibold"},J={class:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium"},K={class:"flex flex-col gap-1"},Q={class:"flex flex-wrap gap-1"},W={class:"flex flex-wrap gap-1"},X={key:0,class:"text-muted-foreground text-xs italic"},Y={class:"flex flex-wrap gap-1 max-w-[200px]"},Z={key:0,class:"text-muted-foreground text-xs italic"},tt={class:"flex justify-end gap-1"},et={class:"flex flex-col items-center justify-center gap-2"},st={key:0,class:"flex items-center justify-between px-6 py-4 border-t bg-muted/20"},rt={class:"text-sm text-muted-foreground text-xs"},ot={class:"font-medium"},it={class:"font-medium"},at={class:"font-medium"},nt={class:"flex items-center gap-1"},lt=["innerHTML"],Be=E({__name:"Index",props:{users:{},roles:{},areas:{},units:{}},setup(mt){const $=[{title:"Usuarios",href:"/users"}],g=C(!1),y=C(null),U=L({}),M=()=>{y.value=null,g.value=!0},j=n=>{y.value=n,g.value=!0},N=n=>{confirm("¿Estás seguro de que deseas eliminar este usuario?")&&U.delete(route("users.destroy",n),{preserveScroll:!0})};return(n,t)=>(a(),p(S,{breadcrumbs:$},{default:s(()=>[r(e(T),{title:"Usuarios"}),o("div",F,[o("div",I,[t[2]||(t[2]=o("div",null,[o("h1",{class:"text-2xl font-bold tracking-tight"},"Usuarios"),o("p",{class:"text-muted-foreground text-sm"},"Administra los usuarios del sistema, sus roles, áreas y unidades.")],-1)),r(e(h),{onClick:M},{default:s(()=>[r(b,{name:"plus",class:"mr-2 h-4 w-4"}),t[1]||(t[1]=l(" Nuevo Usuario "))]),_:1})]),o("div",P,[r(e(V),null,{default:s(()=>[r(e(z),null,{default:s(()=>[r(e(w),{class:"bg-muted/30"},{default:s(()=>[r(e(x),{class:"w-[280px]"},{default:s(()=>t[3]||(t[3]=[l("Nombre")])),_:1}),r(e(x),null,{default:s(()=>t[4]||(t[4]=[l("Email")])),_:1}),r(e(x),null,{default:s(()=>t[5]||(t[5]=[l("Rol / Área")])),_:1}),r(e(x),null,{default:s(()=>t[6]||(t[6]=[l("Unidades")])),_:1}),r(e(x),{class:"text-right"},{default:s(()=>t[7]||(t[7]=[l("Acciones")])),_:1})]),_:1})]),_:1}),r(e(A),null,{default:s(()=>[(a(!0),d(f,null,_(n.users.data,i=>(a(),p(e(w),{key:i.id,class:"hover:bg-muted/50 transition-colors"},{default:s(()=>[r(e(c),{class:"font-medium"},{default:s(()=>[o("div",q,[o("div",O,u(i.name.charAt(0).toUpperCase()),1),o("div",R,[o("span",G,u(i.name),1),o("span",J,"ID: "+u(i.id),1)])])]),_:2},1024),r(e(c),{class:"text-sm text-muted-foreground"},{default:s(()=>[l(u(i.email),1)]),_:2},1024),r(e(c),null,{default:s(()=>[o("div",K,[o("div",Q,[(a(!0),d(f,null,_(i.roles,m=>(a(),p(e(k),{key:m.id,variant:"secondary",class:"font-normal px-2 py-0 h-5"},{default:s(()=>[l(u(m.name),1)]),_:2},1024))),128))]),o("div",W,[(a(!0),d(f,null,_(i.areas,m=>(a(),p(e(k),{key:m.id,variant:"outline",class:"font-normal border-primary/20 bg-primary/5 text-primary px-2 py-0 h-5"},{default:s(()=>[l(u(m.name),1)]),_:2},1024))),128))]),i.roles.length===0&&i.areas.length===0?(a(),d("span",X,"Sin asignar")):v("",!0)])]),_:2},1024),r(e(c),null,{default:s(()=>[o("div",Y,[(a(!0),d(f,null,_(i.units,m=>(a(),p(e(k),{key:m.id,variant:"outline",class:"font-normal bg-orange-50 text-orange-700 border-orange-200 px-2 py-0 h-5"},{default:s(()=>[l(u(m.name),1)]),_:2},1024))),128)),i.units.length===0?(a(),d("span",Z,"Sin unidades")):v("",!0)])]),_:2},1024),r(e(c),{class:"text-right"},{default:s(()=>[o("div",tt,[r(e(h),{variant:"ghost",size:"icon",onClick:m=>j(i),title:"Editar",class:"h-8 w-8"},{default:s(()=>[r(b,{name:"pencil",class:"h-4 w-4 text-muted-foreground"})]),_:2},1032,["onClick"]),r(e(h),{variant:"ghost",size:"icon",class:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:m=>N(i.id),title:"Eliminar"},{default:s(()=>[r(b,{name:"trash-2",class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),n.users.data.length===0?(a(),p(e(w),{key:0},{default:s(()=>[r(e(c),{colspan:"5",class:"h-32 text-center text-muted-foreground"},{default:s(()=>[o("div",et,[r(b,{name:"users",class:"h-8 w-8 opacity-20"}),t[8]||(t[8]=o("p",{class:"text-sm"},"No se encontraron usuarios registrados.",-1))])]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1}),n.users.total>n.users.per_page?(a(),d("div",st,[o("div",rt,[t[9]||(t[9]=l(" Mostrando ")),o("span",ot,u(n.users.from),1),t[10]||(t[10]=l(" a ")),o("span",it,u(n.users.to),1),t[11]||(t[11]=l(" de ")),o("span",at,u(n.users.total),1),t[12]||(t[12]=l(" resultados "))]),o("div",nt,[(a(!0),d(f,null,_(n.users.links,(i,m)=>(a(),d(f,{key:m},[i.url===null?(a(),d("div",{key:0,class:"h-8 min-w-[32px] px-2 flex items-center justify-center text-xs text-muted-foreground/50 rounded-md border border-transparent",innerHTML:i.label},null,8,lt)):(a(),p(e(B),{key:1,href:i.url,class:H(["h-8 min-w-[32px] px-2 flex items-center justify-center text-xs rounded-md border transition-all",{"bg-primary text-primary-foreground border-primary shadow-sm font-bold":i.active,"bg-background hover:bg-muted border-muted-foreground/20 text-muted-foreground":!i.active}]),innerHTML:i.label,"preserve-scroll":""},null,8,["href","class","innerHTML"]))],64))),128))])])):v("",!0)])]),r(D,{open:g.value,"onUpdate:open":t[0]||(t[0]=i=>g.value=i),user:y.value,roles:n.roles,areas:n.areas,units:n.units},null,8,["open","user","roles","areas","units"])]),_:1}))}});export{Be as default};
