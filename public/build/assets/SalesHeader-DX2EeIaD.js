import{c as Z,u as ee,a as te}from"./Presence-BDi5Z3rN.js";import{u as ae}from"./usePrimitiveElement-BENlFLak.js";import{i as j,u as O}from"./useFormControl-DkuT1R3v.js";import{b as L,u as $}from"./useForwardExpose-B4-SmJpO.js";import{P as D}from"./Primitive-HxoesleM.js";import{i as J,V as K}from"./Checkbox.vue_vue_type_script_setup_true_lang-Dy10UoXk.js";import{v as k,d as C,E as se,g as h,o as m,w as g,a as v,u as e,k as F,i as P,N as Q,I as G,J as I,K as E,bc as oe,L as W,aR as re,j as w,s as A,r as le,c as x,b as p,e as S,F as T,p as R,t as B,n as ie}from"./app-B7WdqXcl.js";import{R as ne}from"./RovingFocusGroup-8CdnFVCO.js";import{c as X}from"./utils-bRKmu4jq.js";import{R as de}from"./RovingFocusItem-Bjz3iU7E.js";import{c as ue}from"./index-dkW4UkYo.js";import{_ as pe}from"./DatePicker.vue_vue_type_script_setup_true_lang-CBlnRECV.js";import{_ as ce}from"./DinnersTable.vue_vue_type_script_setup_true_lang-BDGHg_YH.js";import{_ as me}from"./ReportDialog.vue_vue_type_script_setup_true_lang-CUbZ2kEL.js";import{_ as q}from"./Icon.vue_vue_type_script_setup_true_lang-Cfl5y12G.js";import{_ as M}from"./Card.vue_vue_type_script_setup_true_lang-CqpVWRYp.js";import{_ as N}from"./CardContent.vue_vue_type_script_setup_true_lang-48MzfDuU.js";import{S as fe}from"./utensils-BJTnrLi0.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisuallyHidden-Ojn2niG0.js";import"./check-B-Pf2WUn.js";import"./createLucideIcon-BM0Y5dgR.js";import"./Collection-C1XaxlYL.js";import"./useCalendar-DiFOxfCj.js";import"./index-CN-HqOWX.js";import"./CalendarPrevButton.vue_vue_type_script_setup_true_lang-BsgRUgJQ.js";import"./chevron-right-DcpXLV7w.js";import"./chevron-left--KUrm2hn.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-DX0T5qP8.js";import"./Teleport-DHLrd6YJ.js";import"./PopperContent-M-OCLf11.js";import"./calendar-CxnSCOIT.js";import"./Input.vue_vue_type_script_setup_true_lang-DI-DE2jc.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-DvhPyUG9.js";import"./DialogTitle-DWITSh2Y.js";import"./utils-B3dR3Fkc.js";import"./x-Ckj070SL.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-D7HAM9qi.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-Dwh_DAG2.js";import"./file-chart-column-BeMnwFz7.js";import"./loader-circle-CVf62IXp.js";import"./shirt-CBAWHjfz.js";import"./between-horizontal-start-B0Su9E2S.js";import"./user-round-CEUgVfG_.js";import"./building-2-hef9Saeb.js";import"./person-standing-WbxGskIT.js";import"./paperclip-XR-iQcxM.js";import"./chevron-down-DOPp-MoB.js";import"./chevron-up-BMZL74tZ.js";import"./circle-alert-DZLq6OZ1.js";import"./triangle-alert-D0OAwW88.js";import"./search-C-EXjxki.js";import"./circle-plus-IwnjLVgW.js";import"./dollar-sign-B-w5V5UQ.js";import"./eye-24CjmhB_.js";import"./upload-DRhQBLJt.js";import"./hand-helping-Bzwoaxl-.js";import"./info-DoZUXwt2.js";import"./lamp-desk-Cl_sjupg.js";import"./list-check-DBEjarm5.js";import"./sheet-BV67fu8A.js";import"./lock-BkmSGafU.js";import"./mail-VAH0x7xf.js";import"./sun-BzXCPjKQ.js";import"./pencil-D1OyW6n_.js";import"./plus-BNrKV-Js.js";import"./shield-DXpwxCMQ.js";import"./shopping-cart-BoQ8G7pm.js";import"./soup-vne9AoVZ.js";import"./trash-2-Dt4t2p18.js";import"./trash-gNhEbyto.js";import"./user-plus-v94wjwTk.js";import"./user-snDpyLrB.js";function ge({type:s,defaultValue:o,modelValue:t}){const n=t||o;return t!==void 0||o!==void 0?Array.isArray(n)?"multiple":"single":s??"single"}function _e({type:s,defaultValue:o,modelValue:t}){return s||ge({type:s,defaultValue:o,modelValue:t})}function be({type:s,defaultValue:o}){return o!==void 0?o:s==="single"?void 0:[]}function he(s,o){const t=k(()=>_e(s)),n=L(s,"modelValue",o,{defaultValue:be(s),passive:s.modelValue===void 0,deep:!0});function u(a){if(t.value==="single")n.value=j(a,n.value)?void 0:a;else{const r=Array.isArray(n.value)?[...n.value||[]]:[n.value].filter(Boolean);if(J(r,a)){const c=r.findIndex(b=>j(b,a));r.splice(c,1)}else r.push(a);n.value=r}}const i=k(()=>t.value==="single");return{modelValue:n,changeModelValue:u,isSingle:i}}const[Y,ye]=Z("ToggleGroupRoot");var xe=C({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,n=o,{loop:u,rovingFocus:i,disabled:a,dir:r}=se(t),c=ae(r),{forwardRef:b,currentElement:y}=$(),{modelValue:f,changeModelValue:_,isSingle:d}=he(t,n),z=O(y);return ye({isSingle:d,modelValue:f,changeModelValue:_,dir:c,orientation:t.orientation,loop:u,rovingFocus:i,disabled:a}),(l,V)=>(m(),h(Q(e(i)?e(ne):e(D)),{"as-child":"",orientation:e(i)?l.orientation:void 0,dir:e(c),loop:e(i)?e(u):void 0},{default:g(()=>[v(e(D),{ref:e(b),role:"group","as-child":l.asChild,as:l.as},{default:g(()=>[F(l.$slots,"default",{modelValue:e(f)}),e(z)&&l.name?(m(),h(K,{key:0,name:l.name,required:l.required,value:e(f)},null,8,["name","required","value"])):P("v-if",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),we=xe,Ve=C({__name:"Toggle",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,n=o,{forwardRef:u,currentElement:i}=$(),a=Y(null),r=L(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0});function c(){r.value=!r.value}const b=k(()=>r.value?"on":"off"),y=O(i);return(f,_)=>(m(),h(e(D),{ref:e(u),type:f.as==="button"?"button":void 0,"as-child":t.asChild,as:f.as,"aria-pressed":e(r),"data-state":b.value,"data-disabled":f.disabled?"":void 0,disabled:f.disabled,onClick:c},{default:g(()=>[F(f.$slots,"default",{modelValue:e(r),disabled:f.disabled,pressed:e(r),state:b.value}),e(y)&&f.name&&!e(a)?(m(),h(K,{key:0,type:"checkbox",name:f.name,value:e(r),required:f.required},null,8,["name","value","required"])):P("v-if",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Se=Ve,qe=C({__name:"ToggleGroupItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const o=s,t=Y(),n=k(()=>{var a;return((a=t.disabled)==null?void 0:a.value)||o.disabled}),u=k(()=>J(t.modelValue.value,o.value)),{forwardRef:i}=$();return(a,r)=>(m(),h(Q(e(t).rovingFocus.value?e(de):e(D)),G({"as-child":""},e(t).rovingFocus.value?{focusable:!n.value,active:u.value}:{}),{default:g(()=>[v(e(Se),G(o,{ref:e(i),disabled:n.value,"model-value":u.value,"onUpdate:modelValue":r[0]||(r[0]=c=>e(t).changeModelValue(a.value))}),{default:g(c=>[F(a.$slots,"default",I(E(c)))]),_:3},16,["disabled","model-value"])]),_:3},16))}}),Ce=qe;const U=C({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,n=o;oe("toggleGroup",{variant:t.variant,size:t.size});const u=W(t,"class","size","variant"),i=ee(u,n);return(a,r)=>(m(),h(e(we),G({"data-slot":"toggle-group","data-size":a.size,"data-variant":a.variant},e(i),{class:e(X)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",t.class)}),{default:g(c=>[F(a.$slots,"default",I(E(c)))]),_:3},16,["data-size","data-variant","class"]))}}),ze=ue("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(s){const o=s,t=re("toggleGroup"),n=W(o,"class","size","variant"),u=te(n);return(i,a)=>{var r,c,b,y;return m(),h(e(Ce),G({"data-slot":"toggle-group-item","data-variant":((r=e(t))==null?void 0:r.variant)||i.variant,"data-size":((c=e(t))==null?void 0:c.size)||i.size},e(u),{class:e(X)(e(ze)({variant:((b=e(t))==null?void 0:b.variant)||i.variant,size:((y=e(t))==null?void 0:y.size)||i.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",o.class)}),{default:g(f=>[F(i.$slots,"default",I(E(f)))]),_:3},16,["data-variant","data-size","class"])}}}),Be={class:"space-y-6"},ke={class:"bg-red-600 px-6 py-4 flex items-center gap-3"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Te={class:"space-y-2"},Re={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},De={class:"space-y-2"},Ge={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},$e={class:"space-y-3"},Pe={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},Ie={class:"space-y-4 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar"},Ee={class:"flex items-center gap-2"},je={class:"text-[10px] font-black uppercase text-slate-900 bg-slate-100 px-2 py-0.5 rounded"},Ae={class:"grid grid-cols-2 gap-2"},Me=["onClick"],Ne={class:"truncate"},Ue={key:0,class:"text-[10px] italic text-slate-400 pl-2"},He={class:"pt-4 border-t border-slate-100 grid grid-cols-2 gap-3"},Oe={class:"bg-emerald-600 px-6 py-4 flex items-center justify-between"},Le={class:"flex items-center gap-3 text-white"},Je={class:"grid grid-cols-2 gap-4"},Ke=C({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{},subdealerships:{},units:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(s,{emit:o}){const t=o,n=s;w(!1);const u=w(0),i=w(0),a=w([]),r=w([]),c=w(0);w(!1);const b=()=>{t("updateFormData",{receipt_type_id:c.value,sale_type_id:i.value,cafe_id:u.value})};A(u,_=>{const d=n.cafes.find(z=>z.id===_);d?(a.value=d.services||[],r.value=d.sales||[],t("showServicesFromCafeSelected",a.value,_)):(a.value=[],t("showServicesFromCafeSelected",a.value))}),A([c,i,u],()=>{b()});const y=_=>{t("updateDate",_)},f=_=>{t("addServiceSelected",_)};return(_,d)=>{const z=le("Badge");return m(),x("div",Be,[v(e(M),{class:"border-none shadow-sm bg-white overflow-hidden py-0"},{default:g(()=>[p("div",ke,[v(e(fe),{class:"text-white"}),d[2]||(d[2]=p("h3",{class:"text-white font-bold tracking-tight text-sm uppercase"},"Configuración de Venta",-1))]),v(e(N),{class:"p-6 space-y-6"},{default:g(()=>[p("div",Fe,[p("div",Te,[p("label",Re,[v(q,{name:"file-text",size:"12",class:"text-blue-500"}),d[3]||(d[3]=S(" Documento "))]),v(e(U),{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=l=>c.value=l),type:"single",class:"flex flex-wrap gap-1 bg-slate-50 p-1 rounded-xl"},{default:g(()=>[(m(!0),x(T,null,R(_.receipt_types,l=>(m(),h(e(H),{value:l.id,key:l.id,class:"flex-1 h-9 rounded-lg text-xs font-bold transition-all data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:shadow-md"},{default:g(()=>[S(B(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),p("div",De,[p("label",Ge,[v(q,{name:"tag",size:"12",class:"text-purple-500"}),d[4]||(d[4]=S(" Categoría "))]),v(e(U),{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=l=>i.value=l),type:"single",class:"flex flex-wrap gap-1 bg-slate-50 p-1 rounded-xl"},{default:g(()=>[(m(!0),x(T,null,R(_.sale_types,l=>(m(),h(e(H),{value:l.id,key:l.id,class:"flex-1 h-9 rounded-lg text-xs font-bold transition-all data-[state=on]:bg-purple-600 data-[state=on]:text-white data-[state=on]:shadow-md"},{default:g(()=>[S(B(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),p("div",$e,[p("label",Pe,[v(q,{name:"map-pin",size:"12",class:"text-amber-500"}),d[5]||(d[5]=S(" Punto de Servicio (Unidad / Cafetería) "))]),p("div",Ie,[(m(!0),x(T,null,R(_.units,l=>(m(),x("div",{key:l.id,class:"space-y-2"},[p("div",Ee,[p("span",je,B(l.name),1),d[6]||(d[6]=p("div",{class:"h-[1px] flex-1 bg-slate-100"},null,-1))]),p("div",Ae,[(m(!0),x(T,null,R(l.cafes,V=>(m(),x("button",{key:V.id,onClick:Qe=>u.value=V.id,class:ie(["text-left px-3 py-2.5 rounded-xl text-xs font-bold border transition-all flex items-center justify-between group",u.value===V.id?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-200":"bg-white border-slate-200 text-slate-600 hover:border-amber-300 hover:bg-amber-50"])},[p("span",Ne,B(V.name),1),u.value===V.id?(m(),h(q,{key:0,name:"check-circle",size:"14"})):(m(),h(q,{key:1,name:"coffee",size:"14",class:"text-slate-300 group-hover:text-amber-500 transition-colors"}))],10,Me))),128))]),l.cafes.length===0?(m(),x("p",Ue,"Sin cafeterías asignadas")):P("",!0)]))),128))])]),p("div",He,[v(pe,{onUpdateDate:y,class:"w-full h-11"})])]),_:1})]),_:1}),v(e(M),{class:"border-none shadow-sm bg-white overflow-hidden py-0"},{default:g(()=>[p("div",Oe,[p("div",Le,[v(q,{name:"utensils",class:"h-5 w-5"}),d[7]||(d[7]=p("h3",{class:"font-bold tracking-tight text-sm uppercase"},"Servicios Disponibles",-1))]),v(z,{variant:"outline",class:"bg-white/20 text-white border-white/20 font-bold border-none rounded p-1"},{default:g(()=>[S(B(a.value.length),1)]),_:1})]),v(e(N),{class:"p-0"},{default:g(()=>[v(ce,{services:a.value,onAddServiceSelected:f},null,8,["services"])]),_:1})]),_:1}),p("div",Je,[v(me,{class:"w-full"})])])}}}),va=ve(Ke,[["__scopeId","data-v-73f0c799"]]);export{va as default};
