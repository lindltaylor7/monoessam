import{d as X,j as c,v as Y,c as f,o as u,a as l,u as e,m as Z,w as s,b as o,e as d,F as _,p as x,g as b,t as r,M as ee,W as L}from"./app-BSYY2x3I.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-7Rp8E7rc.js";import{_ as z}from"./index-CzRwObbK.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-QrOvc_ge.js";import{_ as le}from"./index-oUZTu2XA.js";import{_ as S}from"./Card.vue_vue_type_script_setup_true_lang-CPJVLjeY.js";import{_ as V}from"./CardContent.vue_vue_type_script_setup_true_lang-A9X5Q_H8.js";import{_ as se}from"./CardDescription.vue_vue_type_script_setup_true_lang-Bx6q56ta.js";import{_ as oe,a as ae}from"./CardTitle.vue_vue_type_script_setup_true_lang-CUIV423m.js";import{_ as w,a as y,b as h,c as k,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-B4ra6waW.js";import{c as T,_ as D,a as F,b as E}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Bxq2eJij.js";import{_ as O}from"./DialogDescription.vue_vue_type_script_setup_true_lang-Q3H8nHY_.js";import{_ as R}from"./DialogFooter.vue_vue_type_script_setup_true_lang-wMFcP5fs.js";import{_ as G}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-qTvbS-N7.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-CP6ig4Z2.js";import{P as A,S as I,C as M}from"./shirt-CF-9fCDZ.js";import{P as N,A as de,H as ne}from"./palette-i000GaCQ.js";import{P as re}from"./plus-zqn12DfS.js";import{C as ie}from"./circle-alert-DjdbHsFJ.js";import{S as ue}from"./search-DGydny2m.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-nQoiCY0p.js";import"./Presence-CYnJC9Ch.js";import"./Primitive-DqXB6Jgu.js";import"./useForwardExpose-C86SAsBm.js";import"./PopperContent-BpSOQfhT.js";import"./Teleport-CvhE5Qlz.js";import"./VisuallyHidden-DqryfdbW.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-bC97h4Qu.js";import"./utils-CY7YhvcD.js";import"./useTypeahead-BZu2fJWY.js";import"./RovingFocusGroup-BXWLKtHZ.js";import"./usePrimitiveElement-BmeYF2q3.js";import"./Collection-DuLfU3Sg.js";import"./utensils-DPL8eAw-.js";import"./createLucideIcon-DQy2-422.js";import"./DialogTitle-BVvHrq5Y.js";import"./x-DI0sEkZf.js";import"./DialogDescription-ChWbEjzs.js";import"./hand-helping-DJYhg-QO.js";import"./building-2-rmyYnFo-.js";import"./user-C_NZDzSf.js";import"./chevron-right-CCgcOFeU.js";import"./chevron-down-D7KNJsic.js";import"./chevron-up-GgawKPfE.js";import"./check-BEW7Qrj_.js";import"./useFormControl-B3mg4S4y.js";const fe={class:"flex flex-col h-full w-full overflow-hidden p-4 sm:p-6 gap-6"},pe={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 flex-none"},ce={class:"min-w-0 flex-1"},_e={class:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-3"},ve={class:"flex flex-wrap gap-3"},ge={class:"grid gap-4 py-4"},xe={class:"grid gap-2"},be={class:"grid gap-2"},we={class:"flex gap-2"},ye={class:"grid gap-4 py-4"},he={class:"grid grid-cols-2 gap-4"},ke={class:"grid gap-2"},Ce={class:"grid gap-2"},Se={class:"grid gap-2"},Ve={class:"grid grid-cols-2 gap-4"},$e={class:"grid gap-2"},je={class:"grid gap-2"},Ue={class:"grid grid-cols-1 md:grid-cols-4 gap-4 flex-none"},ze={class:"text-2xl font-bold text-indigo-900 mt-1"},Pe={class:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center"},qe={class:"text-2xl font-bold text-red-900 mt-1"},Ae={class:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center"},Ie={class:"text-2xl font-bold text-amber-900 mt-1"},Ne={class:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center"},Be={class:"text-2xl font-bold text-emerald-900 mt-1"},He={class:"h-10 w-10 rounded-full bg-emerald-100 flex items-center justify-center"},Le={class:"bg-card rounded-xl border shadow-sm p-4 bg-white flex flex-col lg:flex-row gap-4 flex-none"},Te={class:"flex-1 relative"},De={class:"flex flex-col sm:flex-row gap-4"},Fe={class:"flex items-center gap-2"},Ee={class:"flex items-center gap-2"},Oe={class:"flex-1 overflow-auto"},Re={key:0,class:"flex flex-col items-center justify-center h-64 border-2 border-dashed rounded-xl bg-gray-50/50"},Ge={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pb-4"},Me={class:"flex justify-between items-start"},We={class:"flex items-center gap-2"},Qe={class:"p-2 rounded-lg bg-zinc-100 group-hover:bg-primary/10 transition-colors"},Je={class:"mt-2 p-4 bg-zinc-50 rounded-xl border border-zinc-100"},Ke={class:"flex items-end justify-between"},Xe={class:"text-4xl font-black text-zinc-900 leading-none"},Ye={class:"mt-4 flex items-center justify-between text-xs pt-4 border-t border-zinc-100"},Ze={class:"flex items-center gap-1.5 text-zinc-600"},et={class:"font-medium"},tt={class:"text-primary hover:underline font-medium flex items-center gap-1 transition-all"},lt={class:"p-4 border-t bg-gray-50 text-sm text-muted-foreground flex flex-col sm:flex-row justify-between items-center gap-4 flex-none rounded-b-xl"},st={class:"flex items-center gap-6"},ot={class:"flex items-center gap-2"},at={class:"flex items-center gap-2"},dt={class:"flex items-center gap-2 text-xs font-medium"},nt=X({__name:"Index",props:{clothes:{},colors:{},cafes:{},inventory:{}},setup(W){const Q=W,$=c(""),j=c("all"),U=c("all"),B=Y(()=>Q.inventory.filter(n=>{const t=n.cloth.name.toLowerCase().includes($.value.toLowerCase())||n.color.name.toLowerCase().includes($.value.toLowerCase()),a=j.value==="all"||String(n.cafe_id)===j.value,g=U.value==="all"||String(n.cloth_id)===U.value;return t&&a&&g})),P=c(!1),q=c(!1),i=c({cloth_id:"",color_id:"",cafe_id:"",quantity:0,action:"add"}),m=c({name:"",hex_code:"#000000"}),J=()=>{L.post(route("inventory.update"),i.value,{onSuccess:()=>{P.value=!1,i.value={cloth_id:"",color_id:"",cafe_id:"",quantity:0,action:"add"}}})},K=()=>{L.post(route("inventory.colors.store"),m.value,{onSuccess:()=>{q.value=!1,m.value={name:"",hex_code:"#000000"}}})},H=n=>n<=0?{label:"Sin Stock",variant:"destructive"}:n<10?{label:"Bajo Stock",variant:"secondary"}:{label:"En Stock",variant:"outline"};return(n,t)=>(u(),f(_,null,[l(e(Z),{title:"Inventario de Ropa"}),l(te,{breadcrumbs:[{title:"Personal",href:n.route("staff.index")},{title:"Ropa",href:n.route("clothes.index")},{title:"Inventario",href:n.route("inventory.index")}]},{default:s(()=>[o("div",fe,[o("div",pe,[o("div",ce,[o("h1",_e,[l(e(A),{class:"h-8 w-8 text-primary"}),t[13]||(t[13]=o("span",null,"Inventario de Prendas",-1))]),t[14]||(t[14]=o("p",{class:"text-muted-foreground text-sm mt-1"}," Control de existencias por prenda, color y café ",-1))]),o("div",ve,[l(e(T),{open:q.value,"onUpdate:open":t[3]||(t[3]=a=>q.value=a)},{default:s(()=>[l(e(G),{"as-child":""},{default:s(()=>[l(e(z),{variant:"outline",class:"gap-2"},{default:s(()=>[l(e(N),{class:"h-4 w-4"}),t[15]||(t[15]=d(" Nuevo Color "))]),_:1})]),_:1}),l(e(D),null,{default:s(()=>[l(e(F),null,{default:s(()=>[l(e(E),null,{default:s(()=>t[16]||(t[16]=[d("Crear Nuevo Color")])),_:1}),l(e(O),null,{default:s(()=>t[17]||(t[17]=[d("Agregue un color para clasificar las prendas")])),_:1})]),_:1}),o("div",ge,[o("div",xe,[l(e(v),{for:"colorName"},{default:s(()=>t[18]||(t[18]=[d("Nombre del Color")])),_:1}),l(e(C),{id:"colorName",modelValue:m.value.name,"onUpdate:modelValue":t[0]||(t[0]=a=>m.value.name=a),placeholder:"Ej: Azul Marino"},null,8,["modelValue"])]),o("div",be,[l(e(v),{for:"colorHex"},{default:s(()=>t[19]||(t[19]=[d("Código Hex (Opcional)")])),_:1}),o("div",we,[l(e(C),{id:"colorHex",modelValue:m.value.hex_code,"onUpdate:modelValue":t[1]||(t[1]=a=>m.value.hex_code=a),type:"color",class:"w-12 h-10 p-1"},null,8,["modelValue"]),l(e(C),{modelValue:m.value.hex_code,"onUpdate:modelValue":t[2]||(t[2]=a=>m.value.hex_code=a),placeholder:"#000000",class:"flex-1"},null,8,["modelValue"])])])]),l(e(R),null,{default:s(()=>[l(e(z),{onClick:K,disabled:!m.value.name},{default:s(()=>t[20]||(t[20]=[d("Guardar Color")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(e(T),{open:P.value,"onUpdate:open":t[9]||(t[9]=a=>P.value=a)},{default:s(()=>[l(e(G),{"as-child":""},{default:s(()=>[l(e(z),{class:"gap-2"},{default:s(()=>[l(e(re),{class:"h-4 w-4"}),t[21]||(t[21]=d(" Carga de Stock "))]),_:1})]),_:1}),l(e(D),{class:"sm:max-w-[500px]"},{default:s(()=>[l(e(F),null,{default:s(()=>[l(e(E),null,{default:s(()=>t[22]||(t[22]=[d("Cargar Stock al Inventario")])),_:1}),l(e(O),null,{default:s(()=>t[23]||(t[23]=[d("Actualice las cantidades disponibles")])),_:1})]),_:1}),o("div",ye,[o("div",he,[o("div",ke,[l(e(v),null,{default:s(()=>t[24]||(t[24]=[d("Prenda")])),_:1}),l(e(w),{modelValue:i.value.cloth_id,"onUpdate:modelValue":t[4]||(t[4]=a=>i.value.cloth_id=a)},{default:s(()=>[l(e(y),null,{default:s(()=>[l(e(h),{placeholder:"Seleccionar"})]),_:1}),l(e(k),null,{default:s(()=>[(u(!0),f(_,null,x(n.clothes,a=>(u(),b(e(p),{key:a.id,value:String(a.id)},{default:s(()=>[d(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),o("div",Ce,[l(e(v),null,{default:s(()=>t[25]||(t[25]=[d("Color")])),_:1}),l(e(w),{modelValue:i.value.color_id,"onUpdate:modelValue":t[5]||(t[5]=a=>i.value.color_id=a)},{default:s(()=>[l(e(y),null,{default:s(()=>[l(e(h),{placeholder:"Seleccionar"})]),_:1}),l(e(k),null,{default:s(()=>[(u(!0),f(_,null,x(n.colors,a=>(u(),b(e(p),{key:a.id,value:String(a.id)},{default:s(()=>[d(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),o("div",Se,[l(e(v),null,{default:s(()=>t[26]||(t[26]=[d("Café (Destino del Stock)")])),_:1}),l(e(w),{modelValue:i.value.cafe_id,"onUpdate:modelValue":t[6]||(t[6]=a=>i.value.cafe_id=a)},{default:s(()=>[l(e(y),null,{default:s(()=>[l(e(h),{placeholder:"Seleccionar Café"})]),_:1}),l(e(k),null,{default:s(()=>[(u(!0),f(_,null,x(n.cafes,a=>(u(),b(e(p),{key:a.id,value:String(a.id)},{default:s(()=>[d(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),o("div",Ve,[o("div",$e,[l(e(v),null,{default:s(()=>t[27]||(t[27]=[d("Cantidad")])),_:1}),l(e(C),{type:"number",modelValue:i.value.quantity,"onUpdate:modelValue":t[7]||(t[7]=a=>i.value.quantity=a),min:"0"},null,8,["modelValue"])]),o("div",je,[l(e(v),null,{default:s(()=>t[28]||(t[28]=[d("Acción")])),_:1}),l(e(w),{modelValue:i.value.action,"onUpdate:modelValue":t[8]||(t[8]=a=>i.value.action=a)},{default:s(()=>[l(e(y),null,{default:s(()=>[l(e(h))]),_:1}),l(e(k),null,{default:s(()=>[l(e(p),{value:"add"},{default:s(()=>t[29]||(t[29]=[d("Sumar al stock")])),_:1}),l(e(p),{value:"set"},{default:s(()=>t[30]||(t[30]=[d("Fijar cantidad exacta")])),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),l(e(R),null,{default:s(()=>[l(e(z),{onClick:J,disabled:!i.value.cloth_id||!i.value.color_id||!i.value.cafe_id},{default:s(()=>t[31]||(t[31]=[d(" Confirmar Stock ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),o("div",Ue,[l(e(S),{class:"bg-gradient-to-br from-indigo-50 to-white border-indigo-100"},{default:s(()=>[l(e(V),{class:"p-4 flex items-center justify-between"},{default:s(()=>[o("div",null,[t[32]||(t[32]=o("p",{class:"text-xs font-medium text-indigo-700 uppercase tracking-wider"},"Total Unidades",-1)),o("p",ze,r(n.inventory.reduce((a,g)=>a+g.quantity,0)),1)]),o("div",Pe,[l(e(A),{class:"h-5 w-5 text-indigo-600"})])]),_:1})]),_:1}),l(e(S),{class:"bg-gradient-to-br from-red-50 to-white border-red-100"},{default:s(()=>[l(e(V),{class:"p-4 flex items-center justify-between"},{default:s(()=>[o("div",null,[t[33]||(t[33]=o("p",{class:"text-xs font-medium text-red-700 uppercase tracking-wider"},"Sin Existencias",-1)),o("p",qe,r(n.inventory.filter(a=>a.quantity<=0).length),1)]),o("div",Ae,[l(e(ie),{class:"h-5 w-5 text-red-600"})])]),_:1})]),_:1}),l(e(S),{class:"bg-gradient-to-br from-amber-50 to-white border-amber-100"},{default:s(()=>[l(e(V),{class:"p-4 flex items-center justify-between"},{default:s(()=>[o("div",null,[t[34]||(t[34]=o("p",{class:"text-xs font-medium text-amber-700 uppercase tracking-wider"},"Prendas Únicas",-1)),o("p",Ie,r(n.clothes.length),1)]),o("div",Ne,[l(e(I),{class:"h-5 w-5 text-amber-600"})])]),_:1})]),_:1}),l(e(S),{class:"bg-gradient-to-br from-emerald-50 to-white border-emerald-100"},{default:s(()=>[l(e(V),{class:"p-4 flex items-center justify-between"},{default:s(()=>[o("div",null,[t[35]||(t[35]=o("p",{class:"text-xs font-medium text-emerald-700 uppercase tracking-wider"},"Colores Activos",-1)),o("p",Be,r(n.colors.length),1)]),o("div",He,[l(e(N),{class:"h-5 w-5 text-emerald-600"})])]),_:1})]),_:1})]),o("div",Le,[o("div",Te,[l(e(ue),{class:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),l(e(C),{modelValue:$.value,"onUpdate:modelValue":t[10]||(t[10]=a=>$.value=a),placeholder:"Buscar por prenda o color...",class:"pl-9"},null,8,["modelValue"])]),o("div",De,[o("div",Fe,[l(e(M),{class:"h-4 w-4 text-muted-foreground"}),l(e(w),{modelValue:j.value,"onUpdate:modelValue":t[11]||(t[11]=a=>j.value=a)},{default:s(()=>[l(e(y),{class:"w-[180px]"},{default:s(()=>[l(e(h),{placeholder:"Todos los Cafés"})]),_:1}),l(e(k),null,{default:s(()=>[l(e(p),{value:"all"},{default:s(()=>t[36]||(t[36]=[d("Todos los Cafés")])),_:1}),(u(!0),f(_,null,x(n.cafes,a=>(u(),b(e(p),{key:a.id,value:String(a.id)},{default:s(()=>[d(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),o("div",Ee,[l(e(I),{class:"h-4 w-4 text-muted-foreground"}),l(e(w),{modelValue:U.value,"onUpdate:modelValue":t[12]||(t[12]=a=>U.value=a)},{default:s(()=>[l(e(y),{class:"w-[180px]"},{default:s(()=>[l(e(h),{placeholder:"Todas las Prendas"})]),_:1}),l(e(k),null,{default:s(()=>[l(e(p),{value:"all"},{default:s(()=>t[37]||(t[37]=[d("Todas las Prendas")])),_:1}),(u(!0),f(_,null,x(n.clothes,a=>(u(),b(e(p),{key:a.id,value:String(a.id)},{default:s(()=>[d(r(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])])]),o("div",Oe,[B.value.length===0?(u(),f("div",Re,[l(e(A),{class:"h-12 w-12 text-gray-300 mb-4"}),t[38]||(t[38]=o("p",{class:"text-gray-500 font-medium"},"No se encontraron items en el inventario",-1)),t[39]||(t[39]=o("p",{class:"text-gray-400 text-sm mt-1"},"Ajusta los filtros o agrega nuevo stock",-1))])):(u(),f("div",Ge,[(u(!0),f(_,null,x(B.value,a=>(u(),b(e(S),{key:a.id,class:"group hover:shadow-md transition-all duration-300 overflow-hidden border-zinc-200"},{default:s(()=>[o("div",{class:"h-2 w-full",style:ee({backgroundColor:a.color.hex_code||"#cbd5e1"})},null,4),l(e(oe),{class:"pb-2"},{default:s(()=>[o("div",Me,[o("div",We,[o("div",Qe,[l(e(I),{class:"h-4 w-4 text-zinc-600 group-hover:text-primary"})]),o("div",null,[l(e(ae),{class:"text-lg"},{default:s(()=>[d(r(a.cloth.name),1)]),_:2},1024),l(e(se),{class:"flex items-center gap-1"},{default:s(()=>[l(e(N),{class:"h-3 w-3"}),d(" "+r(a.color.name),1)]),_:2},1024)])]),l(e(le),{variant:H(a.quantity).variant,class:"shadow-none"},{default:s(()=>[d(r(H(a.quantity).label),1)]),_:2},1032,["variant"])])]),_:2},1024),l(e(V),{class:"pb-4"},{default:s(()=>{var g;return[o("div",Je,[t[41]||(t[41]=o("p",{class:"text-xs text-zinc-500 uppercase font-semibold tracking-wider mb-1"},"Stock Disponible",-1)),o("div",Ke,[o("span",Xe,r(a.quantity),1),t[40]||(t[40]=o("span",{class:"text-xs font-medium text-zinc-500 bg-white px-2 py-1 rounded-md border border-zinc-200"},"unidades",-1))])]),o("div",Ye,[o("div",Ze,[l(e(M),{class:"h-3 w-3"}),o("span",et,r(((g=a.cafe)==null?void 0:g.name)||"Stock General"),1)]),o("button",tt,[t[42]||(t[42]=d(" Historial ")),l(e(de),{class:"h-3 w-3"})])])]}),_:2},1024)]),_:2},1024))),128))]))]),o("div",lt,[o("div",st,[o("div",ot,[t[43]||(t[43]=o("div",{class:"h-2 w-2 rounded-full bg-red-500 animate-pulse"},null,-1)),o("span",null,r(n.inventory.filter(a=>a.quantity<=0).length)+" items agotados",1)]),o("div",at,[t[44]||(t[44]=o("div",{class:"h-2 w-2 rounded-full bg-amber-500"},null,-1)),o("span",null,r(n.inventory.filter(a=>a.quantity>0&&a.quantity<10).length)+" stock bajo",1)])]),o("div",dt,[l(e(ne),{class:"h-4 w-4"}),d(" Última actualización: "+r(new Date().toLocaleDateString()),1)])])])]),_:1},8,["breadcrumbs"])],64))}}),sl=me(nt,[["__scopeId","data-v-09a04749"]]);export{sl as default};
