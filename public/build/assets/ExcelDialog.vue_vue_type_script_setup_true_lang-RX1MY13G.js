import{_ as m}from"./index-BpsYYNp8.js";import{_ as b,a as u,b as g,c as v}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BFCtyyGx.js";import{_}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B7xDwIDi.js";import{_ as C}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-CGXOUgO5.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-D8eSV_aU.js";import{d as h,r as y,C as E,g as D,o as $,w as a,a as t,u as l,e as o,b as e}from"./app-e41uP4XH.js";import{_ as i}from"./Icon.vue_vue_type_script_setup_true_lang-D0p4akng.js";import{S as c}from"./sheet-CSVveV6u.js";const I={class:"space-y-6 py-4"},N={class:"bg-blue-50 border border-blue-200 rounded-xl p-4"},S={class:"font-bold text-blue-900 text-sm mb-3 flex items-center gap-2"},z={class:"space-y-3"},F={class:"font-bold text-slate-900 text-sm flex items-center gap-2"},k={class:"bg-amber-50 border border-amber-200 rounded-xl p-4"},B={class:"font-bold text-amber-900 text-sm mb-2 flex items-center gap-2"},V={class:"space-y-2"},H=h({__name:"ExcelDialog",setup(j){const n=y(!1),r=E({file:null}),p=d=>{r.file=d.target.files[0]},f=()=>{if(!r.file){alert("Por favor selecciona un archivo");return}new FormData().append("file",r.file),r.post(route("dinners.excel"),{onSuccess:()=>{n.value=!1,r.reset()},onError:s=>{console.error("Error al subir el archivo:",s)}})};return(d,s)=>($(),D(l(v),{open:n.value,"onUpdate:open":s[1]||(s[1]=x=>n.value=x)},{default:a(()=>[t(l(C),{"as-child":""},{default:a(()=>[t(m,{title:"Agregar comensales",class:"w-full h-11 bg-emerald-600 hover:bg-emerald-700 text-white font-bold text-xs rounded-xl shadow-md shadow-emerald-200 transition-all flex items-center justify-center gap-2"},{default:a(()=>[t(l(c),{class:"h-4 w-4"}),s[2]||(s[2]=o(" Carga Masiva (Excel) "))]),_:1})]),_:1}),t(l(b),{class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:a(()=>[t(l(u),null,{default:a(()=>[t(l(g),{class:"text-xl font-bold text-slate-900 flex items-center gap-2"},{default:a(()=>[t(l(c),{class:"h-5 w-5 text-emerald-600"}),s[3]||(s[3]=o(" Carga Masiva de Comensales "))]),_:1}),s[4]||(s[4]=e("p",{class:"text-sm text-slate-500 mt-2"},"Importa múltiples comensales desde un archivo Excel siguiendo el formato especificado",-1))]),_:1}),e("div",I,[e("div",N,[e("h3",S,[t(i,{name:"info",size:"16",class:"text-blue-600"}),s[5]||(s[5]=o(" Instrucciones de Formato "))]),s[6]||(s[6]=e("p",{class:"text-xs text-blue-800 mb-3"},"Tu archivo Excel debe contener las siguientes columnas en este orden:",-1)),s[7]||(s[7]=e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-2"},[e("div",{class:"bg-white rounded-lg p-2 border border-blue-100"},[e("span",{class:"font-bold text-blue-900 text-xs"},"Columna A:"),e("span",{class:"text-xs text-slate-600 ml-1"},"Nombre completo")]),e("div",{class:"bg-white rounded-lg p-2 border border-blue-100"},[e("span",{class:"font-bold text-blue-900 text-xs"},"Columna B:"),e("span",{class:"text-xs text-slate-600 ml-1"},"DNI (8 dígitos)")]),e("div",{class:"bg-white rounded-lg p-2 border border-blue-100"},[e("span",{class:"font-bold text-blue-900 text-xs"},"Columna C:"),e("span",{class:"text-xs text-slate-600 ml-1"},"Teléfono")]),e("div",{class:"bg-white rounded-lg p-2 border border-blue-100"},[e("span",{class:"font-bold text-blue-900 text-xs"},"Columna D:"),e("span",{class:"text-xs text-slate-600 ml-1"},"ID Subconcesionaria")]),e("div",{class:"bg-white rounded-lg p-2 border border-blue-100 md:col-span-2"},[e("span",{class:"font-bold text-blue-900 text-xs"},"Columna E:"),e("span",{class:"text-xs text-slate-600 ml-1"},"ID Cafetería")])],-1))]),e("div",z,[e("h3",F,[t(i,{name:"image",size:"16",class:"text-slate-600"}),s[8]||(s[8]=o(" Ejemplo Visual "))]),s[9]||(s[9]=e("div",{class:"bg-slate-50 rounded-xl p-4 border border-slate-200"},[e("img",{src:"/images/examples/excel_format.png",alt:"Formato de Excel para importación",class:"w-full rounded-lg shadow-md border border-slate-300"}),e("p",{class:"text-xs text-slate-500 mt-3 text-center italic"}," Ejemplo de formato correcto para la importación de comensales ")],-1))]),e("div",k,[e("h3",B,[t(i,{name:"alert-triangle",size:"16",class:"text-amber-600"}),s[10]||(s[10]=o(" Notas Importantes "))]),s[11]||(s[11]=e("ul",{class:"space-y-1.5 text-xs text-amber-800"},[e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-amber-600 mt-0.5"},"•"),e("span",null,"No incluyas encabezados en la primera fila")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-amber-600 mt-0.5"},"•"),e("span",null,"Los IDs de subconcesionaria y cafetería deben ser numéricos y válidos")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-amber-600 mt-0.5"},"•"),e("span",null,"El DNI debe tener exactamente 8 dígitos")]),e("li",{class:"flex items-start gap-2"},[e("span",{class:"text-amber-600 mt-0.5"},"•"),e("span",null,"Formatos aceptados: .xlsx, .xls, .csv")])],-1))]),e("div",V,[s[12]||(s[12]=e("label",{class:"text-sm font-bold text-slate-700"},"Seleccionar Archivo",-1)),t(w,{type:"file",onChange:p,placeholder:"Selecciona un archivo Excel",class:"h-11 border-slate-300 rounded-xl cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100",accept:".xlsx,.xls,.csv"})])]),t(l(_),{class:"gap-2"},{default:a(()=>[t(m,{variant:"outline",onClick:s[0]||(s[0]=x=>n.value=!1),class:"rounded-xl"},{default:a(()=>s[13]||(s[13]=[o(" Cancelar ")])),_:1}),t(m,{onClick:f,class:"bg-emerald-600 hover:bg-emerald-700 rounded-xl"},{default:a(()=>[t(i,{name:"upload",size:"16",class:"mr-2"}),s[14]||(s[14]=o(" Cargar Comensales "))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{H as _};
