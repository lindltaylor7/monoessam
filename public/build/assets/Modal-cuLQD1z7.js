import{d as E,r as q,C as F,q as G,g as f,o as d,w as u,a as o,u as e,b as i,e as t,G as y,c as _,F as p,l as c,t as m,H as C}from"./app-D-LqQbZa.js";import{_ as B}from"./index-DpgMMlKQ.js";import{_ as H,a as L,b as M,c as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DwCCe1VU.js";import{_ as R}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B0NV6Kd9.js";import{_ as T}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-D0htdjR-.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-B6C72Mwn.js";import{_ as v,a as V,b as w,c as $,d as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-CToYXGco.js";import{_ as U}from"./SelectGroup.vue_vue_type_script_setup_true_lang-CaFyVKcA.js";import{_ as b}from"./SelectLabel.vue_vue_type_script_setup_true_lang-B_cwvzXX.js";import{U as j}from"./user-plus-giM89TS3.js";import"./Primitive-D2E4zh-F.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-5rM4SnOx.js";import"./useForwardExpose-C0s566w4.js";import"./DialogTitle-CIiJ2IkS.js";import"./Teleport-C90D5m2n.js";import"./utils-DrB2bsOv.js";import"./x-b92faefF.js";import"./createLucideIcon-Ds2iLTpM.js";import"./chevron-down-CLUrzGV_.js";import"./chevron-up-a8bJVb19.js";import"./Collection-D9d2Sq_a.js";import"./usePrimitiveElement-EZ5wwPph.js";import"./check-DoDSKdKK.js";import"./PopperContent-BmDe8RlA.js";import"./useTypeahead-D3motRUW.js";import"./useFormControl-CdIo0Tlf.js";import"./VisuallyHidden-BMVg-pqG.js";const z={class:"flex w-full flex-row"},I={class:"w-full"},J={class:"w-full"},K={class:"flex flex-row"},O={class:"flex flex-row"},ge=E({__name:"Modal",props:{areas:{},cafes:{},headquarters:{},roles:{}},setup(A){const g=q(!1),n=q([]),x=q([]),k=A,s=F({name:"",email:"",password:"",cafe_id:null,headquarter_id:null,area_id:null,role_id:null});G(s,r=>{if(r.cafe_id){const l=k.cafes.find(a=>a.id==r.cafe_id);console.log(l),l?n.value=l.areas:n.value=[]}else{const l=k.headquarters.find(a=>a.id==r.headquarter_id);l?n.value=l.areas:n.value=[]}if(r.area_id){const l=n.value.find(a=>a.id==r.area_id);console.log(l),l?x.value=l.area_roles:x.value=[]}});const D=()=>{s.post(route("users"),{onSuccess:()=>{g.value=!1,s.reset()}})};return(r,l)=>(d(),f(e(P),{open:g.value,"onUpdate:open":l[7]||(l[7]=a=>g.value=a)},{default:u(()=>[o(e(T),null,{default:u(()=>[o(B,{title:"Agregar Usuario",class:"h-full w-auto bg-blue-400"},{default:u(()=>[o(e(j))]),_:1})]),_:1}),o(e(H),null,{default:u(()=>[o(e(L),null,{default:u(()=>[o(e(M),null,{default:u(()=>l[8]||(l[8]=[t("Nuevo Colaborador")])),_:1}),o(e(N),{modelValue:e(s).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(s).name=a),type:"text",placeholder:"Nombre"},null,8,["modelValue"]),o(e(N),{modelValue:e(s).email,"onUpdate:modelValue":l[1]||(l[1]=a=>e(s).email=a),type:"email",placeholder:"Email"},null,8,["modelValue"]),o(e(N),{modelValue:e(s).password,"onUpdate:modelValue":l[2]||(l[2]=a=>e(s).password=a),type:"password",placeholder:"Contraseña"},null,8,["modelValue"])]),_:1}),i("div",z,[y(i("div",I,[o(e(v),{class:"w-full",modelValue:e(s).cafe_id,"onUpdate:modelValue":l[3]||(l[3]=a=>e(s).cafe_id=a)},{default:u(()=>[o(e(V),{class:"w-full"},{default:u(()=>[o(e(w),{placeholder:"Selecciona una cafetería"})]),_:1}),o(e($),null,{default:u(()=>[o(e(U),null,{default:u(()=>[o(e(b),null,{default:u(()=>l[9]||(l[9]=[t("Cafeterías")])),_:1}),(d(!0),_(p,null,c(k.cafes,a=>(d(),f(e(S),{value:a.id,key:a.id},{default:u(()=>[t(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],512),[[C,e(s).headquarter_id==null]]),y(i("div",null,l[10]||(l[10]=[i("p",{class:"p-2"},"o",-1)]),512),[[C,e(s).cafe_id==null&&e(s).headquarter_id==null]]),y(i("div",J,[o(e(v),{modelValue:e(s).headquarter_id,"onUpdate:modelValue":l[4]||(l[4]=a=>e(s).headquarter_id=a)},{default:u(()=>[o(e(V),{class:"w-full"},{default:u(()=>[o(e(w),{placeholder:"Selecciona una sede"})]),_:1}),o(e($),null,{default:u(()=>[o(e(U),null,{default:u(()=>[o(e(b),null,{default:u(()=>l[11]||(l[11]=[t("Sedes")])),_:1}),(d(!0),_(p,null,c(r.headquarters,a=>(d(),f(e(S),{value:a.id,key:a.id},{default:u(()=>[t(m(a.name)+" - "+m(a.business.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],512),[[C,e(s).cafe_id==null]])]),i("div",K,[o(e(v),{modelValue:e(s).area_id,"onUpdate:modelValue":l[5]||(l[5]=a=>e(s).area_id=a)},{default:u(()=>[o(e(V),{class:"w-full"},{default:u(()=>[o(e(w),{placeholder:"Selecciona un area(depende de cafetería o sede)"})]),_:1}),o(e($),null,{default:u(()=>[o(e(U),null,{default:u(()=>[o(e(b),null,{default:u(()=>l[12]||(l[12]=[t("Areas")])),_:1}),(d(!0),_(p,null,c(n.value,a=>(d(),f(e(S),{value:a.id,key:a.id},{default:u(()=>[t(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),i("div",O,[o(e(v),{modelValue:e(s).role_id,"onUpdate:modelValue":l[6]||(l[6]=a=>e(s).role_id=a)},{default:u(()=>[o(e(V),{class:"w-full"},{default:u(()=>[o(e(w),{placeholder:"Selecciona un rol"})]),_:1}),o(e($),null,{default:u(()=>[o(e(U),null,{default:u(()=>[o(e(b),null,{default:u(()=>l[13]||(l[13]=[t("Roles")])),_:1}),(d(!0),_(p,null,c(x.value,a=>(d(),f(e(S),{value:a.id,key:a.id},{default:u(()=>[t(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),o(e(R),null,{default:u(()=>[o(B,{onClick:D},{default:u(()=>l[14]||(l[14]=[t("Agregar")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{ge as default};
