import{d as k,r as x,C as $,g as h,o as m,w as o,a,u as s,b as u,e as d,c as f,F as w,l as C,G as y,bM as B,t as V}from"./app-CcswF23t.js";import{_}from"./index-_9tT-Ssz.js";import{_ as L,a as M,b as N,c as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-N9wvyaPx.js";import{_ as U}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CxwbNqpJ.js";import{_ as D}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-12uSUoh3.js";import{L as E}from"./list-check-BORNaiB3.js";const F={class:"mt-4 space-y-3"},S=["value"],z={class:"cursor-pointer text-sm"},H=k({__name:"RolePermissionsModal",props:{permissions:{},role:{}},setup(b){var p,c;const r=b,l=x(!1);console.log(r.role);const i=$({role_id:(p=r.role)==null?void 0:p.id,permissions:(c=r.role)==null?void 0:c.permissions.map(n=>n.id)}),v=()=>{i.post(route("roles.permissions"),{onSuccess:()=>{l.value=!1}})};return(n,e)=>(m(),h(s(P),{open:l.value,"onUpdate:open":e[1]||(e[1]=t=>l.value=t)},{default:o(()=>[a(s(D),null,{default:o(()=>[a(_,{title:"Editar Permisos",class:"h-full w-auto bg-blue-400"},{default:o(()=>[a(s(E))]),_:1})]),_:1}),a(s(L),{class:"max-h-[80vh] overflow-y-auto"},{default:o(()=>[a(s(M),null,{default:o(()=>[a(s(N),null,{default:o(()=>e[2]||(e[2]=[d("Permisos del Usuario")])),_:1})]),_:1}),u("div",F,[(m(!0),f(w,null,C(n.permissions,t=>(m(),f("div",{key:t.id,class:"hover:bg-accent flex cursor-pointer items-center gap-3 rounded-lg border p-2"},[y(u("input",{type:"checkbox",class:"h-4 w-4",value:t.id,"onUpdate:modelValue":e[0]||(e[0]=g=>s(i).permissions=g)},null,8,S),[[B,s(i).permissions]]),u("label",z,V(t.name),1)]))),128))]),a(s(U),null,{default:o(()=>[a(_,{class:"bg-blue-500",onClick:v},{default:o(()=>e[3]||(e[3]=[d(" Actualizar permisos ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{H as _};
