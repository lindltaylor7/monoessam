import{d as D,C as E,s as z,g as b,o as d,u as e,w as s,a as t,b as l,e as n,t as m,c as u,i as c,n as f,p as v,F as x,h as I}from"./app-DwaWYn8p.js";import{_ as y}from"./index-CLqjpAQa.js";import{c as M,a as j,b as A,_ as F}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Du96mZi6.js";import{_ as T}from"./DialogDescription.vue_vue_type_script_setup_true_lang-CnMncDEj.js";import{_ as G}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BMFNfLx0.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-CDQRh6HO.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-DFNCWjPy.js";import{_ as k,a as w,b as V,c as $,d as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-B7L_gzdn.js";import{_ as S}from"./Icon.vue_vue_type_script_setup_true_lang-DNgH8PvA.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Primitive-DoGSvLBp.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-CNH3L4EX.js";import"./useForwardExpose-CiTDC6ib.js";import"./DialogTitle-O6YNvC6V.js";import"./Teleport-BqbxKq-r.js";import"./utils-C3F1amCY.js";import"./x-MJyS4FoZ.js";import"./createLucideIcon-CEJBMYZs.js";import"./DialogDescription-DVWlGAzS.js";import"./chevron-down-C8Ok8u0Y.js";import"./Collection-BCdTjnOR.js";import"./usePrimitiveElement-DwI2H6By.js";import"./check-BvdMFmOu.js";import"./PopperContent-DGvHV7EQ.js";import"./useTypeahead-PpzoNTP3.js";import"./VisuallyHidden-CkoFAzKI.js";import"./sandwich-48NZNLc3.js";import"./between-horizontal-start-DQ0jFSs4.js";import"./user-round-BxTfWiVQ.js";import"./building-2-ByXIdxGy.js";import"./building-Bx17nbP3.js";import"./person-standing-BJeCgEiT.js";import"./paperclip-DQelZ2Ki.js";import"./calendar-B63rPRSw.js";import"./chevron-left-kBNVJrco.js";import"./chevron-right-CRf0ocv4.js";import"./utensils-C__cJZmj.js";import"./circle-alert-CikuU7Jh.js";import"./triangle-alert-BNBHAwef.js";import"./search-Bsu0Z01x.js";import"./circle-plus-DW4j9Y8z.js";import"./tag-CKxEG5ZJ.js";import"./dollar-sign-BBNibBxn.js";import"./upload-DuFo-5ft.js";import"./file-chart-column-DlNiyekv.js";import"./file-BqO9DZJg.js";import"./hand-helping-_3RbPUQf.js";import"./info-BA2BEI-H.js";import"./lamp-desk-BUjY45Xw.js";import"./list-check-CjXkBbhE.js";import"./list-Pz4wp_2D.js";import"./loader-circle-BifTIjTR.js";import"./lock-DEPqnyHX.js";import"./mail-Byv4fBUA.js";import"./sun-LhQHvUeo.js";import"./pencil-CTaAYG6b.js";import"./phone-zp10vB1k.js";import"./plus-C2oFA6fD.js";import"./sheet-5X0nQ1f0.js";import"./shield-DhJNmf_B.js";import"./shopping-cart-xvU-hOqj.js";import"./soup-DyWyNi-b.js";import"./trash-2-DBwmyx8F.js";import"./trash-DAT6IAnH.js";import"./user-plus-ugbZFa1N.js";import"./user-vu1-3ada.js";const L={class:"bg-primary px-6 py-8 text-primary-foreground relative"},P={class:"absolute -bottom-6 right-6 h-12 w-12 rounded-full bg-background flex items-center justify-center shadow-lg border"},q={class:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},H={class:"grid gap-2"},K={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},O={class:"grid grid-cols-2 gap-4"},Q={class:"grid gap-2"},R={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},W={class:"grid gap-2"},X={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},Y={class:"grid gap-2"},Z={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},ee={class:"grid gap-2"},re={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},oe=D({__name:"DinnerModal",props:{open:{type:Boolean},dinner:{},cafes:{},subdealerships:{}},emits:["update:open","success"],setup(N,{emit:U}){const p=N,g=U,r=E({name:"",dni:"",phone:"",subdealership_id:"",cafe_id:""});z(()=>p.open,a=>{a&&(p.dinner?(r.name=p.dinner.name,r.dni=p.dinner.dni,r.phone=p.dinner.phone||"",r.subdealership_id=p.dinner.subdealership_id.toString(),r.cafe_id=p.dinner.cafe_id.toString()):r.reset(),r.clearErrors())});const B=()=>{p.dinner?r.put(route("dinners.update",p.dinner.id),{onSuccess:()=>{g("update:open",!1),g("success")}}):r.post(route("dinners.store"),{onSuccess:()=>{g("update:open",!1),g("success")}})};return(a,o)=>(d(),b(e(M),{open:a.open,"onUpdate:open":o[6]||(o[6]=i=>a.$emit("update:open",i))},{default:s(()=>[t(e(F),{class:"sm:max-w-[500px] overflow-hidden p-0 gap-0 border-none shadow-2xl"},{default:s(()=>[l("div",L,[t(e(j),null,{default:s(()=>[t(e(A),{class:"text-2xl font-bold"},{default:s(()=>[n(m(a.dinner?"Editar Comensal":"Nuevo Comensal"),1)]),_:1}),t(e(T),{class:"text-primary-foreground/70"},{default:s(()=>[n(m(a.dinner?"Actualiza la información del comensal.":"Ingresa los datos del nuevo comensal."),1)]),_:1})]),_:1}),l("div",P,[t(S,{name:a.dinner?"user-cog":"user-plus",class:"h-6 w-6 text-primary"},null,8,["name"])])]),l("form",{onSubmit:I(B,["prevent"]),class:"px-6 pt-10 pb-6 bg-background"},[l("div",q,[l("div",H,[t(e(_),{for:"name",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[7]||(o[7]=[n("Nombre Completo")])),_:1}),t(e(h),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=i=>e(r).name=i),placeholder:"Ej. Juan Pérez",class:f([{"border-destructive shadow-sm":e(r).errors.name},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.name?(d(),u("p",K,m(e(r).errors.name),1)):c("",!0)]),l("div",O,[l("div",Q,[t(e(_),{for:"dni",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[8]||(o[8]=[n("DNI")])),_:1}),t(e(h),{id:"dni",modelValue:e(r).dni,"onUpdate:modelValue":o[1]||(o[1]=i=>e(r).dni=i),placeholder:"12345678",class:f([{"border-destructive shadow-sm":e(r).errors.dni},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.dni?(d(),u("p",R,m(e(r).errors.dni),1)):c("",!0)]),l("div",W,[t(e(_),{for:"phone",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[9]||(o[9]=[n("Teléfono")])),_:1}),t(e(h),{id:"phone",modelValue:e(r).phone,"onUpdate:modelValue":o[2]||(o[2]=i=>e(r).phone=i),placeholder:"987654321",class:f([{"border-destructive shadow-sm":e(r).errors.phone},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.phone?(d(),u("p",X,m(e(r).errors.phone),1)):c("",!0)])]),l("div",Y,[t(e(_),{for:"subdealership_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[10]||(o[10]=[n("Subconcesionaria")])),_:1}),t(e(k),{modelValue:e(r).subdealership_id,"onUpdate:modelValue":o[3]||(o[3]=i=>e(r).subdealership_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.subdealership_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.subdealerships,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.subdealership_id?(d(),u("p",Z,m(e(r).errors.subdealership_id),1)):c("",!0)]),l("div",ee,[t(e(_),{for:"cafe_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[11]||(o[11]=[n("Cafetería")])),_:1}),t(e(k),{modelValue:e(r).cafe_id,"onUpdate:modelValue":o[4]||(o[4]=i=>e(r).cafe_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.cafe_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.cafes,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.cafe_id?(d(),u("p",re,m(e(r).errors.cafe_id),1)):c("",!0)])]),t(e(G),{class:"pt-8 flex gap-2"},{default:s(()=>[t(e(y),{type:"button",variant:"ghost",onClick:o[5]||(o[5]=i=>a.$emit("update:open",!1)),class:"border"},{default:s(()=>o[12]||(o[12]=[n("Cancelar")])),_:1}),t(e(y),{type:"submit",disabled:e(r).processing,class:"flex-1 bg-primary hover:bg-primary/90 shadow-md"},{default:s(()=>[e(r).processing?(d(),b(S,{key:0,name:"loader-2",class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),n(" "+m(a.dinner?"Guardar Cambios":"Agregar Comensal"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),br=J(oe,[["__scopeId","data-v-a2c7a430"]]);export{br as default};
