import{_ as p}from"./index-bc1P4zOz.js";import{_ as b,a as x,b as y}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-C1_m0KUe.js";import{d as k,j as f,s as C,C as S,g as w,o as l,w as r,a as o,u as i,b as d,c as m,F as $,p as B,t as H,e as N}from"./app-5LHZ_M4f.js";import{H as V}from"./hand-helping-CFEvpSOh.js";const E={class:"max-h-64 space-y-2 overflow-y-auto"},F=["id","checked","onChange"],I=["for"],O=k({__name:"ServicePopover",props:{services:{},business:{}},setup(v){const u=v,c=f(!1),t=f({});C(()=>u.business,a=>{t.value={},a.services&&a.services.forEach(e=>{t.value[e.id]=!0})},{immediate:!0});const n=S({businessId:0,services:{}});function _(a,e){t.value[a]=e}const g=()=>{c.value=!1,n.businessId=u.business.id,n.services=t.value,n.post(route("businessServices"),{onSuccess:()=>{n.reset()}})};return(a,e)=>(l(),w(i(y),{open:c.value,"onUpdate:open":e[0]||(e[0]=s=>c.value=s)},{default:r(()=>[o(i(b),{asChild:""},{default:r(()=>[o(p,{variant:"outline",class:"flex items-center gap-2"},{default:r(()=>[o(i(V))]),_:1})]),_:1}),o(i(x),{class:"w-64 space-y-3 p-4"},{default:r(()=>[d("div",E,[(l(!0),m($,null,B(a.services,s=>(l(),m("div",{key:s.id,class:"flex items-center space-x-2 rounded p-2 transition-colors hover:bg-gray-50"},[d("input",{class:"text-primary focus:ring-primary h-4 w-4 rounded border-gray-300",type:"checkbox",id:`service-${s.id}`,checked:t.value[s.id]||!1,onChange:h=>_(s.id,h.target.checked)},null,40,F),d("label",{class:"cursor-pointer text-sm font-medium text-gray-700",for:`service-${s.id}`},H(s.name),9,I)]))),128))]),o(p,{onClick:g,class:"mt-2 w-full"},{default:r(()=>e[1]||(e[1]=[N(" Sincronizar")])),_:1})]),_:1})]),_:1},8,["open"]))}});export{O as _};
