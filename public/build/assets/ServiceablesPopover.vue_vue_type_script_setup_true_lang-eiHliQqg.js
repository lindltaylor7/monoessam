import{_ as u}from"./index-CzRwObbK.js";import{b,_ as x,a as S}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CtlRfxeG.js";import{d as k,j as f,s as C,C as w,g as $,o as d,u as c,w as r,a as o,b as p,c as m,F as B,p as H,t as N,e as T}from"./app-BSYY2x3I.js";import{H as V}from"./hand-helping-DJYhg-QO.js";const E={class:"max-h-64 space-y-2 overflow-y-auto"},F=["id","checked","onChange"],I=["for"],O=k({__name:"ServiceablesPopover",props:{services:{},business:{},placeType:{}},setup(v){const i=v,l=f(!1),t=f({});C(()=>i.business,a=>{t.value={},a.services&&a.services.forEach(e=>{t.value[e.id]=!0})},{immediate:!0});const n=w({placeId:0,services:{}});function _(a,e){t.value[a]=e}const g={1:"mineServiceables",2:"unitServiceables",3:"cafeServiceables"},h=()=>{l.value=!1,n.placeId=i.business.id,n.services=t.value,n.post(route(g[i.placeType]),{onSuccess:()=>{n.reset()}})};return(a,e)=>(d(),$(c(b),{open:l.value,"onUpdate:open":e[0]||(e[0]=s=>l.value=s)},{default:r(()=>[o(c(x),{asChild:""},{default:r(()=>[o(u,{variant:"outline",class:"flex items-center gap-2"},{default:r(()=>[o(c(V))]),_:1})]),_:1}),o(c(S),{class:"w-64 space-y-3 p-4"},{default:r(()=>[p("div",E,[(d(!0),m(B,null,H(a.services,s=>(d(),m("div",{key:s.id,class:"flex items-center space-x-2 rounded p-2 transition-colors hover:bg-gray-50"},[p("input",{class:"text-primary focus:ring-primary h-4 w-4 rounded border-gray-300",type:"checkbox",id:`service-${s.id}`,checked:t.value[s.id]||!1,onChange:y=>_(s.id,y.target.checked)},null,40,F),p("label",{class:"cursor-pointer text-sm font-medium text-gray-700",for:`service-${s.id}`},N(s.name),9,I)]))),128))]),o(u,{onClick:h,class:"mt-2 w-full"},{default:r(()=>e[1]||(e[1]=[T(" Sincronizar")])),_:1})]),_:1})]),_:1},8,["open"]))}});export{O as _};
