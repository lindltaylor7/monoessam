import{_ as m}from"./index-D3jLKonI.js";import{_ as x,a as g,b as k}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CvEy-rTL.js";import{B as y}from"./between-horizontal-start-vG3QXsee.js";import{d as h,j as w,v as F,g as B,o as c,w as o,a as l,u as n,b as e,e as _,c as u,F as C,p as S,t as r}from"./app-C2Qa52St.js";const $={class:"p-4"},D={class:"mb-3 flex items-center text-lg font-semibold"},T={class:"space-y-3"},V={class:"font-medium"},j={class:"text-sm text-gray-500"},z={class:"font-semibold"},N={class:"mt-4 flex items-center justify-between border-t pt-3"},E={class:"text-lg font-bold"},H={class:"border-t bg-gray-50 px-4 py-2 text-right"},q=h({__name:"SaleDetailsPopover",props:{ticket:{}},setup(f){const p=f,i=w(!1),b=F(()=>{var t,s;const d=((s=(t=p.ticket)==null?void 0:t.ticket_details)==null?void 0:s.reduce((a,v)=>a+parseFloat(v.total),0))||0;return console.log(d),parseFloat(d).toFixed(2)});return(d,t)=>(c(),B(n(k),{open:i.value,"onUpdate:open":t[1]||(t[1]=s=>i.value=s)},{default:o(()=>[l(n(x),{asChild:""},{default:o(()=>[l(m,{variant:"ghost",size:"sm",class:"text-blue-600 hover:bg-blue-50","aria-label":"Ver detalles del ticket"},{default:o(()=>t[2]||(t[2]=[e("span",{class:"ml-2 hidden sm:inline"},"Detalles",-1)])),_:1})]),_:1}),l(n(g),{class:"w-80 p-0",align:"start"},{default:o(()=>{var s;return[e("div",$,[e("h3",D,[l(n(y),{class:"mr-2 h-4 w-4"}),t[3]||(t[3]=_(" Detalles del Ticket "))]),e("div",T,[(c(!0),u(C,null,S((s=p.ticket)==null?void 0:s.ticket_details,a=>(c(),u("div",{key:a.id,class:"flex items-center justify-between border-b py-2 last:border-b-0"},[e("div",null,[e("p",V,r(a.service_name),1),e("p",j,"Cantidad: "+r(a.amount),1)]),e("span",z,"S./ "+r(parseFloat(a.total).toFixed(2)),1)]))),128))]),e("div",N,[t[4]||(t[4]=e("span",{class:"font-medium"},"Total:",-1)),e("span",E,"S./ "+r(b.value),1)])]),e("div",H,[l(m,{variant:"ghost",size:"sm",onClick:t[0]||(t[0]=a=>i.value=!1),class:"text-blue-600 hover:bg-blue-100"},{default:o(()=>t[5]||(t[5]=[_(" Cerrar ")])),_:1})])]}),_:1})]),_:1},8,["open"]))}});export{q as _};
