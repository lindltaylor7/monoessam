import{d as Ve,r as v,v as Ce,s as oe,c as r,o as n,a as l,u as t,m as Se,w as s,b as a,e as d,i as U,G as Ie,bQ as Ue,F as x,l as j,t as u,g as A,n as je,N as Ae,z as qe,W as F}from"./app-BDzroith.js";import{_ as $e}from"./AppLayout.vue_vue_type_script_setup_true_lang-Bcochm3J.js";import{_ as y}from"./index-CGJRz2mZ.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-DZGucDpy.js";import{_ as Ee}from"./index-CIyXjRnp.js";import{_ as T}from"./Card.vue_vue_type_script_setup_true_lang-CUE-mlIu.js";import{_ as N}from"./CardContent.vue_vue_type_script_setup_true_lang-BubZHBd8.js";import{_ as Te}from"./CardDescription.vue_vue_type_script_setup_true_lang-DQKbirVC.js";import{_ as Ne,a as ze}from"./CardTitle.vue_vue_type_script_setup_true_lang-D4Q6rpf7.js";import{_ as k,a as V,b as C,c as S,d as f}from"./SelectValue.vue_vue_type_script_setup_true_lang-FyIVmiy2.js";import{_ as De,a as Re,b as M}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-HyRZrUDx.js";import{c as H,_ as Q,a as K,b as W}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BzN-X2xZ.js";import{_ as Z}from"./DialogDescription.vue_vue_type_script_setup_true_lang-nAPOyAHZ.js";import{_ as J}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BMR61Fl8.js";import{_ as X}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-By9k9cgj.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-BxpXncJP.js";import{P as Y}from"./package-48fhEaFE.js";import{P as de,B as ee,S as Ge,a as ie,A as Me,H as Be}from"./settings-2-DgapwYdM.js";import{P as ne}from"./plus-DCaaYynX.js";import{S as re}from"./search-rzRZhMQA.js";import{L as Oe}from"./loader-circle-B96gFsi-.js";import{C as ue}from"./check-_IysDdBK.js";import{C as Pe}from"./circle-alert-BB4Ycpqi.js";import{B as pe}from"./building-2-BLy2t7Q4.js";import{S as me,C as Le}from"./shirt-9t4Tcigx.js";import{M as fe}from"./monitor-BFQ2GGT5.js";import{b as ce}from"./utensils-2rCiT2Vx.js";import{_ as Fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-ObIh9Vhc.js";import"./Presence-Dp5J45FE.js";import"./Primitive-uze04WDN.js";import"./useForwardExpose-BittwBOn.js";import"./PopperContent-DMwz6w8j.js";import"./Teleport-DQ_yXiqa.js";import"./VisuallyHidden-ok9-7298.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CPLic7C0.js";import"./utils-CsIMdA7F.js";import"./useTypeahead-DixMZwVN.js";import"./RovingFocusGroup-MiRIM_4m.js";import"./usePrimitiveElement-CBQEiAk4.js";import"./Collection-wNRZIdte.js";import"./DialogTitle-J4hDOT7b.js";import"./x-C3ehsmwO.js";import"./createLucideIcon-eX-ul5Ig.js";import"./DialogDescription-CFemBw1K.js";import"./hand-helping-SmZc_QBH.js";import"./user-BYJgwYhB.js";import"./chevron-right-BpevI6nQ.js";import"./chevron-down-Cr1kx7kT.js";import"./chevron-up-CXiC2TFJ.js";import"./useFormControl-yvkkBFnf.js";import"./RovingFocusItem-CXl7Sd_a.js";const He={class:"flex flex-col h-full w-full overflow-hidden p-4 sm:p-6 gap-6 bg-slate-50/50"},Qe={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 flex-none"},Ke={class:"min-w-0 flex-1"},We={class:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-3 text-slate-900"},Ze={class:"p-2 bg-primary/10 rounded-xl"},Je={class:"flex flex-wrap gap-2"},Xe={class:"grid gap-4 py-4"},Ye={class:"grid gap-2"},et={class:"grid gap-2"},tt={class:"flex gap-2"},lt={class:"grid gap-6 py-4"},st={class:"grid gap-2"},at={class:"grid grid-cols-2 gap-4"},ot={class:"grid gap-2"},dt={class:"grid gap-2"},it={key:0,class:"grid grid-cols-2 gap-4"},nt={class:"grid gap-2"},rt={class:"grid gap-2"},ut={key:1,class:"grid gap-2"},pt={class:"grid gap-2"},mt={class:"grid gap-5 py-4"},ft={class:"grid grid-cols-2 gap-4"},ct={class:"grid gap-2"},vt={class:"grid gap-2 relative"},gt={class:"relative"},xt={key:0,class:"absolute right-2.5 top-2.5"},bt={key:0,class:"absolute z-50 w-full mt-1 top-full bg-white border rounded-lg shadow-xl max-h-48 overflow-y-auto"},_t=["onClick"],wt={key:0,class:"text-primary"},ht={key:1,class:"mt-1 flex items-center gap-1.5 text-xs text-primary font-bold"},yt={class:"grid grid-cols-2 gap-4"},kt={class:"grid gap-2"},Vt={class:"grid gap-2"},Ct={class:"grid grid-cols-2 gap-4"},St={class:"grid gap-2"},It={class:"grid gap-2"},Ut={class:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-none"},jt={class:"h-10 w-10 rounded-xl bg-indigo-50 flex items-center justify-center"},At={class:"text-xl font-bold text-slate-900"},qt={class:"h-10 w-10 rounded-xl bg-rose-50 flex items-center justify-center"},$t={class:"text-xl font-bold text-slate-900"},Et={class:"h-10 w-10 rounded-xl bg-amber-50 flex items-center justify-center"},Tt={class:"text-xl font-bold text-slate-900"},Nt={class:"h-10 w-10 rounded-xl bg-emerald-50 flex items-center justify-center"},zt={class:"text-xl font-bold text-slate-900"},Dt={class:"flex flex-col gap-4 flex-1 overflow-hidden"},Rt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-3 rounded-2xl border shadow-sm flex-none"},Gt={class:"flex flex-wrap items-center gap-3 w-full sm:w-auto"},Mt={class:"relative flex-1 sm:w-64"},Bt={class:"flex gap-2"},Ot={class:"flex-1 overflow-y-auto pr-2 custom-scrollbar"},Pt={key:0,class:"flex flex-col items-center justify-center h-64 border-2 border-dashed rounded-3xl bg-white/50 border-slate-200"},Lt={class:"h-16 w-16 bg-slate-100 rounded-full flex items-center justify-center mb-4"},Ft={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 pb-6"},Ht={class:"h-1.5 w-full bg-slate-100"},Qt={key:0,class:"h-full bg-primary/40"},Kt={key:1,class:"h-full bg-blue-400"},Wt={key:2,class:"h-full bg-orange-400"},Zt={key:3,class:"h-full bg-emerald-400"},Jt={class:"flex justify-between items-start gap-4"},Xt={class:"flex gap-3"},Yt={class:"min-w-0"},el={class:"mt-4 p-4 rounded-2xl bg-slate-50 flex items-center justify-between group-hover:bg-slate-100/50 transition-colors border border-transparent group-hover:border-slate-200"},tl={class:"flex items-baseline gap-1.5 text-slate-900"},ll={class:"text-3xl font-black leading-none"},sl={class:"flex flex-col items-end gap-1"},al={key:0,class:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100"},ol={key:1,class:"flex items-center gap-1 text-[10px] font-bold text-rose-600 bg-rose-50 px-2 py-0.5 rounded-full border border-rose-100"},dl={class:"mt-5 space-y-2.5"},il={class:"flex items-center justify-between text-[11px]"},nl={class:"text-slate-400 font-medium flex items-center gap-1.5"},rl={class:"text-slate-700 font-bold truncate max-w-[120px]"},ul={class:"flex items-center justify-between text-[11px]"},pl={class:"text-slate-400 font-medium flex items-center gap-1.5"},ml={class:"text-slate-700 font-bold truncate max-w-[120px]"},fl={class:"px-5 py-4 border-t border-slate-100 flex items-center justify-between bg-slate-50/10 group-hover:bg-slate-50/50 transition-colors"},cl={class:"text-[10px] font-black text-primary flex items-center gap-1 hover:gap-2 transition-all tracking-tighter uppercase"},vl={class:"p-4 border shadow-sm bg-white rounded-2xl text-xs text-slate-500 flex flex-col sm:flex-row justify-between items-center gap-4 flex-none border-slate-200"},gl={class:"flex items-center gap-6"},xl={class:"flex items-center gap-2"},bl={class:"font-semibold text-slate-700"},_l={class:"flex items-center gap-2 border-l border-slate-200 pl-6"},wl={class:"font-semibold text-slate-700"},hl={class:"flex items-center gap-4"},yl={class:"flex items-center gap-1.5 font-bold uppercase tracking-widest text-slate-400 text-[10px]"},kl=Ve({__name:"Index",props:{colors:{},cafes:{},headquarters:{},stocks:{}},setup(ve){const ge=ve,_=v("clothes"),B=v(""),z=v("all"),D=v("all"),te=Ce(()=>ge.stocks.filter(i=>{var E,ae;const e={clothes:"App\\Models\\Cloth",computer:"App\\Models\\ComputerEquipment",kitchen:"App\\Models\\KitchenEquipment",ingredients:"App\\Models\\Ingredient"};if(i.stockable_type!==e[_.value])return!1;const g=(((ae=(E=i.stockable)==null?void 0:E.name)==null?void 0:ae.toLowerCase())||"").includes(B.value.toLowerCase()),h=z.value==="all"||String(i.cafe_id)===z.value,G=D.value==="all"||String(i.headquarter_id)===D.value;return g&&h&&G})),R=v(!1),O=v(!1),P=v(!1),m=v({stockable_type:"cloth",stockable_id:"",headquarter_id:"none",cafe_id:"",quantity:0,action:"add"}),q=v(""),I=v([]),L=v(!1),$=v("");let le=null;const xe=async i=>{if(!i){I.value=[];return}L.value=!0;try{const e=await qe.get(route("inventory.items.search"),{params:{type:m.value.stockable_type,query:i}});I.value=e.data}catch(e){console.error("Error searching items",e)}finally{L.value=!1}};oe(q,i=>{clearTimeout(le),le=setTimeout(()=>{xe(i)},400)}),oe(()=>m.value.stockable_type,()=>{q.value="",I.value=[],m.value.stockable_id="",$.value=""});const be=i=>{m.value.stockable_id=String(i.id),$.value=i.name,I.value=[],q.value=""},_e=()=>{const i={...m.value};i.headquarter_id==="none"&&(i.headquarter_id=""),F.post(route("inventory.update"),i,{onSuccess:()=>{R.value=!1,we()},onFinish:()=>{setTimeout(()=>{R.value=!1},100)},preserveScroll:!0,preserveState:!0})},we=()=>{m.value={stockable_type:"cloth",stockable_id:"",headquarter_id:"none",cafe_id:"",quantity:0,action:"add"},$.value=""},p=v({type:"computer",name:"",brand:"",model:"",description:"",presentation:"",color:"",size:""}),w=v({name:"",hex_code:"#000000"}),he=()=>{F.post(route("inventory.items.store"),p.value,{onSuccess:()=>{O.value=!1,p.value={type:"computer",name:"",brand:"",model:"",description:"",presentation:"",color:"",size:""}}})},ye=()=>{F.post(route("inventory.colors.store"),w.value,{onSuccess:()=>{P.value=!1,w.value={name:"",hex_code:"#000000"}}})},se=i=>i<=0?{label:"Sin Stock",variant:"destructive"}:i<5?{label:"Crítico",variant:"destructive"}:i<15?{label:"Bajo Stock",variant:"secondary"}:{label:"En Stock",variant:"outline"},ke=i=>{switch(i){case"clothes":return me;case"computer":return fe;case"kitchen":return ce;case"ingredients":return ee;default:return Y}};return(i,e)=>(n(),r(x,null,[l(t(Se),{title:"Gestión de Inventario"}),l($e,{breadcrumbs:[{title:"Logística",href:i.route("logistics")},{title:"Inventario",href:i.route("inventory.index")}]},{default:s(()=>[a("div",He,[a("div",Qe,[a("div",Ke,[a("h1",We,[a("div",Ze,[l(t(Y),{class:"h-8 w-8 text-primary"})]),e[23]||(e[23]=a("span",null,"Gestión Multimodal de Inventario",-1))]),e[24]||(e[24]=a("p",{class:"text-muted-foreground text-sm mt-1"}," Control centralizado de suministros, equipos y materias primas ",-1))]),a("div",Je,[l(t(H),{open:P.value,"onUpdate:open":e[3]||(e[3]=o=>P.value=o)},{default:s(()=>[l(t(X),{"as-child":""},{default:s(()=>[l(t(y),{variant:"outline",size:"sm",class:"gap-2 bg-white shadow-sm border-slate-200"},{default:s(()=>[l(t(de),{class:"h-4 w-4"}),e[25]||(e[25]=d(" Colores "))]),_:1})]),_:1}),l(t(Q),null,{default:s(()=>[l(t(K),null,{default:s(()=>[l(t(W),null,{default:s(()=>e[26]||(e[26]=[d("Catálogo de Colores")])),_:1}),l(t(Z),null,{default:s(()=>e[27]||(e[27]=[d("Defina colores para la clasificación de prendas")])),_:1})]),_:1}),a("div",Xe,[a("div",Ye,[l(t(c),null,{default:s(()=>e[28]||(e[28]=[d("Nombre del Color")])),_:1}),l(t(b),{modelValue:w.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>w.value.name=o),placeholder:"Ej: Azul Corporativo"},null,8,["modelValue"])]),a("div",et,[l(t(c),null,{default:s(()=>e[29]||(e[29]=[d("Selección Visual")])),_:1}),a("div",tt,[l(t(b),{modelValue:w.value.hex_code,"onUpdate:modelValue":e[1]||(e[1]=o=>w.value.hex_code=o),type:"color",class:"w-12 h-10 p-1 cursor-pointer"},null,8,["modelValue"]),l(t(b),{modelValue:w.value.hex_code,"onUpdate:modelValue":e[2]||(e[2]=o=>w.value.hex_code=o),placeholder:"#000000",class:"flex-1"},null,8,["modelValue"])])])]),l(t(J),null,{default:s(()=>[l(t(y),{onClick:ye,disabled:!w.value.name,class:"w-full sm:w-auto"},{default:s(()=>e[30]||(e[30]=[d("Guardar Color")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(t(H),{open:O.value,"onUpdate:open":e[11]||(e[11]=o=>O.value=o)},{default:s(()=>[l(t(X),{"as-child":""},{default:s(()=>[l(t(y),{variant:"outline",size:"sm",class:"gap-2 bg-white shadow-sm border-slate-200"},{default:s(()=>[l(t(ne),{class:"h-4 w-4"}),e[31]||(e[31]=d(" Nuevo Equipo "))]),_:1})]),_:1}),l(t(Q),{class:"sm:max-w-[550px]"},{default:s(()=>[l(t(K),null,{default:s(()=>[l(t(W),null,{default:s(()=>e[32]||(e[32]=[d("Registro de Nuevo Activo")])),_:1}),l(t(Z),null,{default:s(()=>e[33]||(e[33]=[d("Complete los datos del equipo para ingresarlo al catálogo")])),_:1})]),_:1}),a("div",lt,[a("div",st,[l(t(c),null,{default:s(()=>e[34]||(e[34]=[d("Tipo de Equipo")])),_:1}),l(t(k),{modelValue:p.value.type,"onUpdate:modelValue":e[4]||(e[4]=o=>p.value.type=o)},{default:s(()=>[l(t(V),null,{default:s(()=>[l(t(C))]),_:1}),l(t(S),null,{default:s(()=>[l(t(f),{value:"computer"},{default:s(()=>e[35]||(e[35]=[d("Equipo Informático")])),_:1}),l(t(f),{value:"kitchen"},{default:s(()=>e[36]||(e[36]=[d("Equipo de Cocina")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),a("div",at,[a("div",ot,[l(t(c),null,{default:s(()=>e[37]||(e[37]=[d("Nombre / Modelo")])),_:1}),l(t(b),{modelValue:p.value.name,"onUpdate:modelValue":e[5]||(e[5]=o=>p.value.name=o),placeholder:"Ej: Laptop Dell G15"},null,8,["modelValue"])]),a("div",dt,[l(t(c),null,{default:s(()=>e[38]||(e[38]=[d("Marca")])),_:1}),l(t(b),{modelValue:p.value.brand,"onUpdate:modelValue":e[6]||(e[6]=o=>p.value.brand=o),placeholder:"Ej: Dell"},null,8,["modelValue"])])]),p.value.type==="computer"?(n(),r("div",it,[a("div",nt,[l(t(c),null,{default:s(()=>e[39]||(e[39]=[d("Presentación")])),_:1}),l(t(b),{modelValue:p.value.presentation,"onUpdate:modelValue":e[7]||(e[7]=o=>p.value.presentation=o),placeholder:"Ej: Caja"},null,8,["modelValue"])]),a("div",rt,[l(t(c),null,{default:s(()=>e[40]||(e[40]=[d("Color de Chasis")])),_:1}),l(t(b),{modelValue:p.value.color,"onUpdate:modelValue":e[8]||(e[8]=o=>p.value.color=o),placeholder:"Ej: Gris Espacial"},null,8,["modelValue"])])])):U("",!0),p.value.type==="kitchen"?(n(),r("div",ut,[l(t(c),null,{default:s(()=>e[41]||(e[41]=[d("Tamaño / Capacidad")])),_:1}),l(t(b),{modelValue:p.value.size,"onUpdate:modelValue":e[9]||(e[9]=o=>p.value.size=o),placeholder:"Ej: 50 Litros / Grande"},null,8,["modelValue"])])):U("",!0),a("div",pt,[l(t(c),null,{default:s(()=>e[42]||(e[42]=[d("Descripción Técnica")])),_:1}),Ie(a("textarea",{"onUpdate:modelValue":e[10]||(e[10]=o=>p.value.description=o),class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Especificaciones adicionales..."},null,512),[[Ue,p.value.description]])])]),l(t(J),null,{default:s(()=>[l(t(y),{onClick:he,disabled:!p.value.name,class:"w-full"},{default:s(()=>e[43]||(e[43]=[d("Registrar en Catálogo")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(t(H),{open:R.value,"onUpdate:open":e[18]||(e[18]=o=>R.value=o)},{default:s(()=>[l(t(X),{"as-child":""},{default:s(()=>[l(t(y),{size:"sm",class:"gap-2 shadow-lg shadow-primary/20"},{default:s(()=>[l(t(ne),{class:"h-4 w-4"}),e[44]||(e[44]=d(" Cargar Stock "))]),_:1})]),_:1}),l(t(Q),{class:"sm:max-w-[500px]"},{default:s(()=>[l(t(K),null,{default:s(()=>[l(t(W),null,{default:s(()=>e[45]||(e[45]=[d("Actualización de Existencias")])),_:1}),l(t(Z),null,{default:s(()=>e[46]||(e[46]=[d("Incremente o fije las cantidades en inventario")])),_:1})]),_:1}),a("div",mt,[a("div",ft,[a("div",ct,[l(t(c),null,{default:s(()=>e[47]||(e[47]=[d("Categoría")])),_:1}),l(t(k),{modelValue:m.value.stockable_type,"onUpdate:modelValue":e[12]||(e[12]=o=>m.value.stockable_type=o)},{default:s(()=>[l(t(V),null,{default:s(()=>[l(t(C))]),_:1}),l(t(S),null,{default:s(()=>[l(t(f),{value:"cloth"},{default:s(()=>e[48]||(e[48]=[d("Ropa")])),_:1}),l(t(f),{value:"computer"},{default:s(()=>e[49]||(e[49]=[d("Informática")])),_:1}),l(t(f),{value:"kitchen"},{default:s(()=>e[50]||(e[50]=[d("Cocina")])),_:1}),l(t(f),{value:"ingredient"},{default:s(()=>e[51]||(e[51]=[d("Ingredientes")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),a("div",vt,[l(t(c),null,{default:s(()=>e[52]||(e[52]=[d("Buscar Item")])),_:1}),a("div",gt,[l(t(re),{class:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l(t(b),{modelValue:q.value,"onUpdate:modelValue":e[13]||(e[13]=o=>q.value=o),placeholder:"Escribe para buscar...",class:"pl-9"},null,8,["modelValue"]),L.value?(n(),r("div",xt,[l(t(Oe),{class:"h-4 w-4 animate-spin text-primary"})])):U("",!0)]),I.value.length>0?(n(),r("div",bt,[(n(!0),r(x,null,j(I.value,o=>(n(),r("div",{key:o.id,onClick:g=>be(o),class:"px-4 py-2 hover:bg-slate-50 cursor-pointer flex items-center justify-between text-sm transition-colors border-b last:border-none"},[a("span",null,u(o.name),1),m.value.stockable_id===String(o.id)?(n(),r("div",wt,[l(t(ue),{class:"h-4 w-4"})])):U("",!0)],8,_t))),128))])):U("",!0),$.value?(n(),r("div",ht,[l(t(ue),{class:"h-3.5 w-3.5"}),d(" Seleccionado: "+u($.value),1)])):U("",!0)])]),a("div",yt,[a("div",kt,[l(t(c),null,{default:s(()=>e[53]||(e[53]=[d("Sede (Opcional)")])),_:1}),l(t(k),{modelValue:m.value.headquarter_id,"onUpdate:modelValue":e[14]||(e[14]=o=>m.value.headquarter_id=o)},{default:s(()=>[l(t(V),null,{default:s(()=>[l(t(C),{placeholder:"General"})]),_:1}),l(t(S),null,{default:s(()=>[l(t(f),{value:"none"},{default:s(()=>e[54]||(e[54]=[d("Ninguna (General)")])),_:1}),(n(!0),r(x,null,j(i.headquarters,o=>(n(),A(t(f),{key:o.id,value:String(o.id)},{default:s(()=>[d(u(o.business.name)+" - "+u(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),a("div",Vt,[l(t(c),null,{default:s(()=>e[55]||(e[55]=[d("Café / Unidad")])),_:1}),l(t(k),{modelValue:m.value.cafe_id,"onUpdate:modelValue":e[15]||(e[15]=o=>m.value.cafe_id=o)},{default:s(()=>[l(t(V),null,{default:s(()=>[l(t(C),{placeholder:"Seleccionar"})]),_:1}),l(t(S),null,{default:s(()=>[(n(!0),r(x,null,j(i.cafes,o=>(n(),A(t(f),{key:o.id,value:String(o.id)},{default:s(()=>[d(u(o.name)+" - "+u(o.unit.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),a("div",Ct,[a("div",St,[l(t(c),null,{default:s(()=>e[56]||(e[56]=[d("Cantidad")])),_:1}),l(t(b),{type:"number",modelValue:m.value.quantity,"onUpdate:modelValue":e[16]||(e[16]=o=>m.value.quantity=o),min:"0"},null,8,["modelValue"])]),a("div",It,[l(t(c),null,{default:s(()=>e[57]||(e[57]=[d("Acción")])),_:1}),l(t(k),{modelValue:m.value.action,"onUpdate:modelValue":e[17]||(e[17]=o=>m.value.action=o)},{default:s(()=>[l(t(V),null,{default:s(()=>[l(t(C))]),_:1}),l(t(S),null,{default:s(()=>[l(t(f),{value:"add"},{default:s(()=>e[58]||(e[58]=[d("Sumar al stock")])),_:1}),l(t(f),{value:"set"},{default:s(()=>e[59]||(e[59]=[d("Fijar cantidad")])),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),l(t(J),null,{default:s(()=>[l(t(y),{onClick:_e,disabled:!m.value.stockable_id,class:"w-full shadow-lg shadow-primary/30"},{default:s(()=>e[60]||(e[60]=[d(" Confirmar Operación ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),a("div",Ut,[l(t(T),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(N),{class:"p-4 flex items-center gap-4"},{default:s(()=>[a("div",jt,[l(t(ee),{class:"h-5 w-5 text-indigo-600"})]),a("div",null,[e[61]||(e[61]=a("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Items Registrados",-1)),a("p",At,u(i.stocks.length),1)])]),_:1})]),_:1}),l(t(T),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(N),{class:"p-4 flex items-center gap-4"},{default:s(()=>[a("div",qt,[l(t(Pe),{class:"h-5 w-5 text-rose-600"})]),a("div",null,[e[62]||(e[62]=a("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Sin Stock",-1)),a("p",$t,u(i.stocks.filter(o=>o.quantity<=0).length),1)])]),_:1})]),_:1}),l(t(T),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(N),{class:"p-4 flex items-center gap-4"},{default:s(()=>[a("div",Et,[l(t(pe),{class:"h-5 w-5 text-amber-600"})]),a("div",null,[e[63]||(e[63]=a("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Sedes Activas",-1)),a("p",Tt,u(i.headquarters.length),1)])]),_:1})]),_:1}),l(t(T),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(N),{class:"p-4 flex items-center gap-4"},{default:s(()=>[a("div",Nt,[l(t(Ge),{class:"h-5 w-5 text-emerald-600"})]),a("div",null,[e[64]||(e[64]=a("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Existencias Totales",-1)),a("p",zt,u(i.stocks.reduce((o,g)=>o+Number(g.quantity),0)),1)])]),_:1})]),_:1})]),a("div",Dt,[a("div",Rt,[l(t(De),{modelValue:_.value,"onUpdate:modelValue":e[19]||(e[19]=o=>_.value=o),class:"w-full sm:w-auto"},{default:s(()=>[l(t(Re),{class:"bg-slate-100 p-1"},{default:s(()=>[l(t(M),{value:"clothes",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(me),{class:"h-4 w-4"}),e[65]||(e[65]=a("span",{class:"hidden sm:inline"},"Ropa",-1))]),_:1}),l(t(M),{value:"computer",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(fe),{class:"h-4 w-4"}),e[66]||(e[66]=a("span",{class:"hidden sm:inline"},"IT",-1))]),_:1}),l(t(M),{value:"kitchen",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(ce),{class:"h-4 w-4"}),e[67]||(e[67]=a("span",{class:"hidden sm:inline"},"Cocina",-1))]),_:1}),l(t(M),{value:"ingredients",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(ee),{class:"h-4 w-4"}),e[68]||(e[68]=a("span",{class:"hidden sm:inline"},"Insumos",-1))]),_:1})]),_:1})]),_:1},8,["modelValue"]),a("div",Gt,[a("div",Mt,[l(t(re),{class:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),l(t(b),{modelValue:B.value,"onUpdate:modelValue":e[20]||(e[20]=o=>B.value=o),placeholder:"Buscar item...",class:"pl-9 h-10 rounded-xl bg-slate-50 border-none focus-visible:ring-1"},null,8,["modelValue"])]),a("div",Bt,[l(t(k),{modelValue:D.value,"onUpdate:modelValue":e[21]||(e[21]=o=>D.value=o)},{default:s(()=>[l(t(V),{class:"w-[140px] h-10 rounded-xl bg-white"},{default:s(()=>[l(t(C),{placeholder:"Sedes"})]),_:1}),l(t(S),null,{default:s(()=>[l(t(f),{value:"all"},{default:s(()=>e[69]||(e[69]=[d("Todas las Sedes")])),_:1}),(n(!0),r(x,null,j(i.headquarters,o=>(n(),A(t(f),{key:o.id,value:String(o.id)},{default:s(()=>[d(u(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),l(t(k),{modelValue:z.value,"onUpdate:modelValue":e[22]||(e[22]=o=>z.value=o)},{default:s(()=>[l(t(V),{class:"w-[140px] h-10 rounded-xl bg-white"},{default:s(()=>[l(t(C),{placeholder:"Cafés"})]),_:1}),l(t(S),null,{default:s(()=>[l(t(f),{value:"all"},{default:s(()=>e[70]||(e[70]=[d("Todos los Cafés")])),_:1}),(n(!0),r(x,null,j(i.cafes,o=>(n(),A(t(f),{key:o.id,value:String(o.id)},{default:s(()=>[d(u(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])])]),a("div",Ot,[te.value.length===0?(n(),r("div",Pt,[a("div",Lt,[l(t(Y),{class:"h-8 w-8 text-slate-300"})]),e[71]||(e[71]=a("p",{class:"text-slate-500 font-semibold text-lg"},"Sin resultados",-1)),e[72]||(e[72]=a("p",{class:"text-slate-400 text-sm mt-1"},"No hay existencias registradas para esta categoría",-1))])):(n(),r("div",Ft,[(n(!0),r(x,null,j(te.value,o=>(n(),A(t(T),{key:o.id,class:"group hover:shadow-xl hover:shadow-slate-200/50 transition-all duration-500 overflow-hidden border-slate-200 rounded-2xl bg-white flex flex-col"},{default:s(()=>[a("div",Ht,[o.stockable_type.includes("Cloth")?(n(),r("div",Qt)):o.stockable_type.includes("Computer")?(n(),r("div",Kt)):o.stockable_type.includes("Kitchen")?(n(),r("div",Wt)):(n(),r("div",Zt))]),l(t(Ne),{class:"p-5 pb-3"},{default:s(()=>[a("div",Jt,[a("div",Xt,[a("div",{class:je(["p-2.5 rounded-xl shadow-sm transition-transform group-hover:scale-110",_.value==="clothes"?"bg-indigo-50 text-indigo-600":_.value==="computer"?"bg-blue-50 text-blue-600":_.value==="kitchen"?"bg-orange-50 text-orange-600":"bg-emerald-50 text-emerald-600"])},[(n(),A(Ae(ke(_.value)),{class:"h-5 w-5"}))],2),a("div",Yt,[l(t(ze),{class:"text-base font-bold text-slate-900 truncate"},{default:s(()=>{var g;return[d(u((g=o.stockable)==null?void 0:g.name),1)]}),_:2},1024),l(t(Te),{class:"text-xs mt-0.5 flex items-center gap-1.5 truncate text-slate-500"},{default:s(()=>{var g,h,G,E;return[_.value==="clothes"?(n(),r(x,{key:0},[l(t(de),{class:"h-3 w-3"}),e[73]||(e[73]=d(" Prendas de Personal "))],64)):_.value==="computer"?(n(),r(x,{key:1},[d(u((g=o.stockable)==null?void 0:g.brand)+" | "+u(((h=o.stockable)==null?void 0:h.model)||"S/M"),1)],64)):_.value==="kitchen"?(n(),r(x,{key:2},[d(u((G=o.stockable)==null?void 0:G.brand)+" | "+u((E=o.stockable)==null?void 0:E.size),1)],64)):(n(),r(x,{key:3},[d(" Insumo / Ingrediente ")],64))]}),_:2},1024)])]),l(t(Ee),{variant:se(o.quantity).variant,class:"rounded-full px-2.5 shadow-none border-none text-[10px] uppercase font-bold"},{default:s(()=>[d(u(se(o.quantity).label),1)]),_:2},1032,["variant"])])]),_:2},1024),l(t(N),{class:"p-5 pt-0 flex-1"},{default:s(()=>{var g,h;return[a("div",el,[a("div",null,[e[75]||(e[75]=a("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1"},"Stock Disponible",-1)),a("div",tl,[a("span",ll,u(o.quantity),1),e[74]||(e[74]=a("span",{class:"text-xs font-bold text-slate-400 uppercase"},"Unidades",-1))])]),a("div",sl,[o.quantity>0?(n(),r("div",al,[l(t(ie),{class:"h-3 w-3"}),e[76]||(e[76]=d(" ACTIVO "))])):(n(),r("div",ol,[l(t(Me),{class:"h-3 w-3"}),e[77]||(e[77]=d(" AGOTADO "))]))])]),a("div",dl,[a("div",il,[a("span",nl,[l(t(pe),{class:"h-3 w-3"}),e[78]||(e[78]=d(" Gestión HQ"))]),a("span",rl,u(((g=o.headquarter)==null?void 0:g.name)||"Distribución Global"),1)]),a("div",ul,[a("span",pl,[l(t(Le),{class:"h-3 w-3"}),e[79]||(e[79]=d(" Punto de Venta"))]),a("span",ml,u(((h=o.cafe)==null?void 0:h.name)||"N/A"),1)])])]}),_:2},1024),a("div",fl,[e[81]||(e[81]=a("div",{class:"flex -space-x-1.5 overflow-hidden"},[a("div",{class:"h-6 w-6 rounded-full border-2 border-white bg-indigo-100 flex items-center justify-center text-[8px] font-bold text-indigo-600"},"HQ"),a("div",{class:"h-6 w-6 rounded-full border-2 border-white bg-amber-100 flex items-center justify-center text-[8px] font-bold text-amber-600"},"CF")],-1)),a("button",cl,[e[80]||(e[80]=d(" AUDITAR STOCK ")),l(t(ie),{class:"h-3.5 w-3.5"})])])]),_:2},1024))),128))]))])]),a("div",vl,[a("div",gl,[a("div",xl,[e[82]||(e[82]=a("div",{class:"h-2 w-2 rounded-full bg-rose-500 animate-pulse"},null,-1)),a("span",bl,u(i.stocks.filter(o=>o.quantity<=0).length)+" Alertas críticas",1)]),a("div",_l,[e[83]||(e[83]=a("div",{class:"h-2 w-2 rounded-full bg-amber-500"},null,-1)),a("span",wl,u(i.stocks.filter(o=>o.quantity>0&&o.quantity<15).length)+" Reposición necesaria",1)])]),a("div",hl,[a("div",yl,[l(t(Be),{class:"h-3.5 w-3.5"}),d(" ACTUALIZADO: "+u(new Date().toLocaleTimeString()),1)]),l(t(y),{variant:"ghost",size:"sm",class:"h-8 text-[10px] font-black tracking-widest text-primary hover:bg-slate-100 rounded-lg uppercase"},{default:s(()=>e[84]||(e[84]=[d(" DESCARGAR REPORTE ")])),_:1})])])])]),_:1},8,["breadcrumbs"])],64))}}),Vs=Fe(kl,[["__scopeId","data-v-4d1111c8"]]);export{Vs as default};
