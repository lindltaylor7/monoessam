import{d as T,j as h,C as V,g as _,o as d,w as r,a as t,b as i,u as s,m as E,e as a,c as f,i as w,F as g,p as C,t as l,P as L,n as B}from"./app-D_30lCPY.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-CFOBMdtu.js";import{_ as v}from"./index-QN4VJNje.js";import{e as z,_ as A,a as y,b as u,c as I,d as p}from"./TableHeader.vue_vue_type_script_setup_true_lang-C3A2Ui6i.js";import{_ as k}from"./index-DQ3_YrvK.js";import{_ as x}from"./Icon.vue_vue_type_script_setup_true_lang-CsvYRPHx.js";import S from"./DinnerModal-dHWTVkpJ.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BwyrFf5a.js";import"./Presence-BPVtuLwC.js";import"./Primitive-DPXPT-5q.js";import"./useForwardExpose-DVHaXJa7.js";import"./PopperContent-BtEsArwb.js";import"./Teleport-CWphWnx9.js";import"./VisuallyHidden-CfVhPomW.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-1-IISxSC.js";import"./utils-Cc_kZu4w.js";import"./useTypeahead-xGntZ5Yj.js";import"./RovingFocusGroup-DCuFZx63.js";import"./usePrimitiveElement-DJdzkk5d.js";import"./Collection-DZ4uY3RW.js";import"./utensils-b2iRzuqA.js";import"./createLucideIcon-yK0qzumI.js";import"./DialogTitle-DzGias3d.js";import"./x-BeqBtXx0.js";import"./DialogDescription-BSM7uzkb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-DVye06Mx.js";import"./building-2-BVeB84PC.js";import"./user-v9caxZgY.js";import"./chevron-right-BdYwrSSB.js";import"./sandwich-BxMj5Noy.js";import"./between-horizontal-start-BMFDnqIJ.js";import"./user-round-CimlckDS.js";import"./building-DbTLstTk.js";import"./person-standing-bU3q3XMU.js";import"./paperclip-BTFIDU4U.js";import"./calendar-DTbzER9Q.js";import"./check-Ls2929Rn.js";import"./chevron-down-CYZW4T6X.js";import"./chevron-left-BuWlhE3M.js";import"./chevron-up-Df9oSPJx.js";import"./circle-alert-XBx6QK5s.js";import"./triangle-alert-Dqsf-E40.js";import"./search-aqrmeJ3H.js";import"./circle-plus-uTsaTdZL.js";import"./tag-CDq2D0e1.js";import"./dollar-sign-6eSv5h7V.js";import"./upload-CxrrwCo5.js";import"./file-chart-column-GHgZ-8IE.js";import"./file-qN3D4EIv.js";import"./info-DoF28chO.js";import"./lamp-desk-Cu4N7auW.js";import"./list-check-BvTyWzpb.js";import"./list-gSm-t6OH.js";import"./loader-circle-DDY6uFfm.js";import"./lock-aK1yr6eY.js";import"./mail-Ccazw0bH.js";import"./sun-DuKS5hJP.js";import"./pencil-YZkXJf-G.js";import"./phone-BZK4F8Yo.js";import"./plus-CXcrgXm0.js";import"./sheet-Caru67Ba.js";import"./shield-BzLOkYwv.js";import"./shopping-cart-C0jk70-o.js";import"./soup-CwPl_U4r.js";import"./trash-2-CRTj_Xhk.js";import"./trash-BCE-XAgF.js";import"./user-plus-mRpPUE5U.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CKprfftn.js";import"./DialogDescription.vue_vue_type_script_setup_true_lang-_PRpYB-A.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-ojhWNjwX.js";import"./Input.vue_vue_type_script_setup_true_lang-CqLR2zgG.js";import"./Label.vue_vue_type_script_setup_true_lang-Cy694oer.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-C0PsXp7m.js";const F={class:"p-6"},P={class:"flex justify-between items-center mb-6"},U={class:"border bg-card overflow-hidden rounded-xl shadow-sm"},q={class:"flex items-center gap-3"},G={class:"h-9 w-9 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-primary font-semibold text-sm"},O={class:"flex flex-col"},J={class:"text-sm font-semibold"},K={class:"text-[10px] text-muted-foreground uppercase tracking-wider font-medium"},Q={class:"flex justify-end gap-1"},R={class:"flex flex-col items-center justify-center gap-2"},W={key:0,class:"flex items-center justify-between px-6 py-4 border-t bg-muted/20"},X={class:"text-sm text-muted-foreground text-xs"},Y={class:"font-medium"},Z={class:"font-medium"},ee={class:"font-medium"},te={class:"flex items-center gap-1"},se=["innerHTML"],Mt=T({__name:"Index",props:{dinners:{},cafes:{},subdealerships:{}},setup(re){const $=[{title:"Ventas",href:"/sales"},{title:"Comensales",href:"/sales"}],c=h(!1),b=h(null),M=V({}),j=()=>{b.value=null,c.value=!0},N=n=>{b.value=n,c.value=!0},D=n=>{confirm("¿Estás seguro de que deseas eliminar este comensal?")&&M.delete(route("dinners.destroy",n),{preserveScroll:!0})};return(n,e)=>(d(),_(H,{breadcrumbs:$},{default:r(()=>[t(s(E),{title:"Comensales - Ventas"}),i("div",F,[i("div",P,[e[2]||(e[2]=i("div",null,[i("h1",{class:"text-2xl font-bold tracking-tight"},"Gestión de Comensales"),i("p",{class:"text-muted-foreground text-sm"},"Administra los comensales, sus subconcesionarias y cafeterías asignadas.")],-1)),t(s(v),{onClick:j},{default:r(()=>[t(x,{name:"plus",class:"mr-2 h-4 w-4"}),e[1]||(e[1]=a(" Nuevo Comensal "))]),_:1})]),i("div",U,[t(s(z),null,{default:r(()=>[t(s(A),null,{default:r(()=>[t(s(y),{class:"bg-muted/30"},{default:r(()=>[t(s(u),{class:"w-[280px]"},{default:r(()=>e[3]||(e[3]=[a("Nombre")])),_:1}),t(s(u),null,{default:r(()=>e[4]||(e[4]=[a("DNI")])),_:1}),t(s(u),null,{default:r(()=>e[5]||(e[5]=[a("Teléfono")])),_:1}),t(s(u),null,{default:r(()=>e[6]||(e[6]=[a("Subconcesionaria")])),_:1}),t(s(u),null,{default:r(()=>e[7]||(e[7]=[a("Cafetería")])),_:1}),t(s(u),{class:"text-right"},{default:r(()=>e[8]||(e[8]=[a("Acciones")])),_:1})]),_:1})]),_:1}),t(s(I),null,{default:r(()=>[(d(!0),f(g,null,C(n.dinners.data,o=>(d(),_(s(y),{key:o.id,class:"hover:bg-muted/50 transition-colors"},{default:r(()=>[t(s(p),{class:"font-medium"},{default:r(()=>[i("div",q,[i("div",G,l(o.name.charAt(0).toUpperCase()),1),i("div",O,[i("span",J,l(o.name),1),i("span",K,"ID: "+l(o.id),1)])])]),_:2},1024),t(s(p),{class:"text-sm text-muted-foreground"},{default:r(()=>[a(l(o.dni),1)]),_:2},1024),t(s(p),{class:"text-sm text-muted-foreground"},{default:r(()=>[a(l(o.phone||"-"),1)]),_:2},1024),t(s(p),null,{default:r(()=>[t(s(k),{variant:"secondary",class:"font-normal px-2 py-0 h-5"},{default:r(()=>{var m;return[a(l((m=o.subdealership)==null?void 0:m.name),1)]}),_:2},1024)]),_:2},1024),t(s(p),null,{default:r(()=>[t(s(k),{variant:"outline",class:"font-normal border-primary/20 bg-primary/5 text-primary px-2 py-0 h-5"},{default:r(()=>{var m;return[a(l((m=o.cafe)==null?void 0:m.name),1)]}),_:2},1024)]),_:2},1024),t(s(p),{class:"text-right"},{default:r(()=>[i("div",Q,[t(s(v),{variant:"ghost",size:"icon",onClick:m=>N(o),title:"Editar",class:"h-8 w-8"},{default:r(()=>[t(x,{name:"pencil",class:"h-4 w-4 text-muted-foreground"})]),_:2},1032,["onClick"]),t(s(v),{variant:"ghost",size:"icon",class:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:m=>D(o.id),title:"Eliminar"},{default:r(()=>[t(x,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),n.dinners.data.length===0?(d(),_(s(y),{key:0},{default:r(()=>[t(s(p),{colspan:"6",class:"h-32 text-center text-muted-foreground"},{default:r(()=>[i("div",R,[t(x,{name:"users",class:"h-8 w-8 opacity-20"}),e[9]||(e[9]=i("p",{class:"text-sm"},"No se encontraron comensales registrados.",-1))])]),_:1})]),_:1})):w("",!0)]),_:1})]),_:1}),n.dinners.total>n.dinners.per_page?(d(),f("div",W,[i("div",X,[e[10]||(e[10]=a(" Mostrando ")),i("span",Y,l(n.dinners.from),1),e[11]||(e[11]=a(" a ")),i("span",Z,l(n.dinners.to),1),e[12]||(e[12]=a(" de ")),i("span",ee,l(n.dinners.total),1),e[13]||(e[13]=a(" resultados "))]),i("div",te,[(d(!0),f(g,null,C(n.dinners.links,(o,m)=>(d(),f(g,{key:m},[o.url===null?(d(),f("div",{key:0,class:"h-8 min-w-[32px] px-2 flex items-center justify-center text-xs text-muted-foreground/50 rounded-md border border-transparent",innerHTML:o.label},null,8,se)):(d(),_(s(L),{key:1,href:o.url,class:B(["h-8 min-w-[32px] px-2 flex items-center justify-center text-xs rounded-md border transition-all",{"bg-primary text-primary-foreground border-primary shadow-sm font-bold":o.active,"bg-background hover:bg-muted border-muted-foreground/20 text-muted-foreground":!o.active}]),innerHTML:o.label,"preserve-scroll":""},null,8,["href","class","innerHTML"]))],64))),128))])])):w("",!0)])]),t(S,{open:c.value,"onUpdate:open":e[0]||(e[0]=o=>c.value=o),dinner:b.value,cafes:n.cafes,subdealerships:n.subdealerships},null,8,["open","dinner","cafes","subdealerships"])]),_:1}))}});export{Mt as default};
