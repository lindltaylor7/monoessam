import{d as v,j as d,bZ as D,c as u,o as p,u as t,n as h,b as r,i as y,t as m,h as B,a as k,z as x}from"./app-BSYY2x3I.js";import{X as w}from"./x-DI0sEkZf.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./createLucideIcon-DQy2-422.js";const C=["aria-pressed","title"],E={class:"user-info"},U={class:"user-name"},$={class:"user-type"},N=v({__name:"Draggable",props:{user:{},showButtonDelete:{type:Boolean}},emits:["end","unassignUser"],setup(c,{emit:g}){d("Drag the item to the drop zone");const f=d(!1),s=c,o=g,{elementRef:_,handleDragStart:n,isDragging:i}=D({id:`user-${s.user.id}`,data:{user:s.user},events:{onEnd:()=>o("end")}}),b=a=>{confirm("¿Estás seguro de quitar este usuario de este rol?")&&x.delete(`guards/roles/user/${a}`).then(()=>{o("unassignUser",a)}).catch(e=>{console.log(e),alert("Hubo un error al eliminar el usuario del rol.")})};return(a,e)=>(p(),u("div",{ref_key:"elementRef",ref:_,onPointerdown:e[1]||(e[1]=(...l)=>t(n)&&t(n)(...l)),class:h(["user-card",{dragging:t(i),dropped:f.value}]),tabindex:"0",role:"button","aria-grabbed":"false","aria-pressed":t(i),title:`Arrastrar ${s.user.name}`},[e[2]||(e[2]=r("div",{class:"user-avatar"},null,-1)),r("div",E,[r("p",U,m(s.user.name),1),r("span",$,m(s.user.type===1?"Administrador":"Usuario"),1)]),s.showButtonDelete?(p(),u("button",{key:0,class:"delete-btn",onClick:e[0]||(e[0]=B(l=>b(s.user.id),["stop"])),title:"Eliminar usuario"},[k(t(w),{size:16})])):y("",!0),e[3]||(e[3]=r("div",{class:"drag-indicator"},null,-1))],42,C))}}),j=z(N,[["__scopeId","data-v-ad098515"]]);export{j as default};
