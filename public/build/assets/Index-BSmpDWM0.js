import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-B4hruhW3.js";import{d as j,r as g,c as y,o as v,a as t,u as e,m as I,w as a,b as l,e as o,t as m,F as S,l as R,g as U,W as F}from"./app-e41uP4XH.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-CZ8Fjncs.js";import{_ as f}from"./CardContent.vue_vue_type_script_setup_true_lang-CyiGQbOq.js";import{_ as b}from"./CardDescription.vue_vue_type_script_setup_true_lang-C9AVIsjH.js";import{_ as u,a as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-2E5dGV_l.js";import{_ as w}from"./index-BpsYYNp8.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-D8eSV_aU.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-B5PWVMDU.js";import{_ as q,a as W,b as L,c as O,d as h}from"./SelectValue.vue_vue_type_script_setup_true_lang-eX8XhJ-7.js";import{C as P,_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-D0p4akng.js";import{_ as A}from"./SalesReportTable.vue_vue_type_script_setup_true_lang-CbEN22Nc.js";import{_ as G}from"./index-DWmoTZm-.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DVjay5rY.js";import"./Presence-Ce0sSWhO.js";import"./Primitive--c3PVjK8.js";import"./useForwardExpose-6XUAW0Jx.js";import"./PopperContent-DJ-lBGp0.js";import"./Teleport-Be4EYJ4B.js";import"./VisuallyHidden-B6_0pN0q.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D_JhEm3F.js";import"./utils-B0xaVlFC.js";import"./useTypeahead-BH7H7yoE.js";import"./RovingFocusGroup-BYvrlhQ8.js";import"./usePrimitiveElement-CTyinFYO.js";import"./Collection-Bkyk1W9B.js";import"./utensils-LrDvIRGA.js";import"./createLucideIcon-CX35DNh4.js";import"./DialogTitle-Dd1XwC6I.js";import"./x-2uahxF--.js";import"./DialogDescription-Cte4m-IW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-CJvBcMFX.js";import"./building-2-CFGamF3A.js";import"./user-CXdYVU3d.js";import"./chevron-right-SF3zVFkH.js";import"./chevron-down-CfMhgecB.js";import"./chevron-up-B7JXB6Xi.js";import"./check-Dr8dvvSw.js";import"./useFormControl-CpaTYewf.js";import"./settings-2-BlBGXlv5.js";import"./briefcase-Sg6lE1kC.js";import"./lock-Cr_4HHAy.js";import"./shopping-bag-BfuG0T-2.js";import"./between-horizontal-start-CyoB0rJE.js";import"./user-round-CjU6HEBu.js";import"./person-standing-CNmIltui.js";import"./paperclip-CrnXCLe8.js";import"./calendar-CmyCmk0J.js";import"./chevron-left-CII-lbwn.js";import"./circle-alert-DOUMeUtG.js";import"./triangle-alert-CZGNEQzD.js";import"./circle-check-ByIyaelt.js";import"./circle-plus-CoXfsihC.js";import"./shirt-B4316wSB.js";import"./dollar-sign-Dk9qXc6l.js";import"./message-square-CgEypufv.js";import"./eye-DCS7e3kb.js";import"./file-chart-column-C2woR3-F.js";import"./upload-uhrbkKj9.js";import"./info-Aw58NUzh.js";import"./lamp-desk-BhqPxGFi.js";import"./list-check-YiPZcd4h.js";import"./sheet-CSVveV6u.js";import"./loader-circle-DJhqxK5k.js";import"./mail-C7Noonv2.js";import"./monitor-CkSjizPU.js";import"./sun-DDIzKEvx.js";import"./package-plus-COaHtUEG.js";import"./package-ClhaFOgQ.js";import"./pencil-MGHFSmRL.js";import"./phone-CbIGyvaF.js";import"./plus-DOVWPTEc.js";import"./search-Pf7Q6M2o.js";import"./shield-DI5cvBK8.js";import"./shopping-cart-FdywZle6.js";import"./soup-CZ7klbrs.js";import"./trash-2-BBWTD2Wu.js";import"./trash-FuH9E7tV.js";import"./truck-BUmSuomy.js";import"./user-plus-0soUj5h5.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-C7cw79Gl.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BKAOuAYO.js";const H={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6"},J={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},K={class:"flex items-center gap-3"},M={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30"},Q={class:"grid gap-4 md:grid-cols-3"},X={class:"text-3xl font-black text-emerald-600"},Y={class:"text-3xl font-black text-blue-600"},Z={class:"text-3xl font-black text-purple-600"},tt={class:"grid gap-4 md:grid-cols-4"},et={class:"space-y-2"},at={class:"space-y-2"},st={class:"space-y-2"},lt={class:"flex items-end gap-2"},ot={class:"flex items-center justify-between"},Re=j({__name:"Index",props:{sales:{},cafes:{},filters:{},statistics:{}},setup(B){var V;const x=B,c=g(x.filters.start_date),_=g(x.filters.end_date),n=g(((V=x.filters.cafe_id)==null?void 0:V.toString())||"all"),k=()=>{F.get(route("reportsales.index"),{start_date:c.value,end_date:_.value,cafe_id:n.value!=="all"?n.value:null},{preserveState:!0,preserveScroll:!0})},T=()=>{const r=new Date().toISOString().split("T")[0];c.value=r,_.value=r,n.value="all",k()},E=r=>{confirm("¿Estás seguro de que deseas eliminar esta venta? Esta acción no se puede deshacer.")&&F.delete(route("reportsales.destroy",r),{preserveScroll:!0})},D=()=>{alert("Funcionalidad de exportación en desarrollo")};return(r,s)=>(v(),y(S,null,[t(e(I),{title:"Reporte de ventas"}),t(N,null,{default:a(()=>[l("div",H,[l("div",J,[l("div",K,[l("div",M,[t(e(P),{class:"text-white"})]),s[3]||(s[3]=l("div",null,[l("h1",{class:"text-2xl font-bold tracking-tight text-slate-900"},"Reporte de Ventas"),l("p",{class:"text-sm text-slate-500"},"Consulta y gestiona las ventas registradas")],-1))]),t(e(w),{onClick:D,variant:"outline",class:"gap-2"},{default:a(()=>[t(d,{name:"download",size:"16"}),s[4]||(s[4]=o(" Exportar a Excel "))]),_:1})]),l("div",Q,[t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"currency-dollar",size:"14"}),s[5]||(s[5]=o(" Total Vendido "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",X," S/"+m(Number(r.statistics.total_amount).toFixed(2)),1)]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"shopping-cart",size:"14"}),s[6]||(s[6]=o(" Total de Ventas "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",Y,m(r.statistics.total_sales),1)]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"chart-line",size:"14"}),s[7]||(s[7]=o(" Promedio por Venta "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",Z," S/"+m(Number(r.statistics.average_sale).toFixed(2)),1)]),_:1})]),_:1})]),t(e(p),{class:"border-slate-200 shadow-sm"},{default:a(()=>[t(e(u),null,{default:a(()=>[t(e(C),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[t(d,{name:"filter",size:"18"}),s[8]||(s[8]=o(" Filtros de Búsqueda "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",tt,[l("div",et,[t(e($),{for:"start-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[9]||(s[9]=[o(" Fecha Inicio ")])),_:1}),t(e(z),{id:"start-date",modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=i=>c.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",at,[t(e($),{for:"end-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[10]||(s[10]=[o(" Fecha Fin ")])),_:1}),t(e(z),{id:"end-date",modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=i=>_.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",st,[t(e($),{for:"cafe",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[11]||(s[11]=[o(" Cafetería ")])),_:1}),t(e(q),{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=i=>n.value=i)},{default:a(()=>[t(e(W),{id:"cafe",class:"border-slate-300"},{default:a(()=>[t(e(L),{placeholder:"Todas las cafeterías"})]),_:1}),t(e(O),null,{default:a(()=>[t(e(h),{value:"all"},{default:a(()=>s[12]||(s[12]=[o("Todas las cafeterías")])),_:1}),(v(!0),y(S,null,R(r.cafes,i=>(v(),U(e(h),{key:i.id,value:i.id.toString()},{default:a(()=>[o(m(i.name)+" "+m(i.unit?`- ${i.unit.name}`:""),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",lt,[t(e(w),{onClick:k,class:"flex-1 gap-2"},{default:a(()=>[t(d,{name:"search",size:"16"}),s[13]||(s[13]=o(" Buscar "))]),_:1}),t(e(w),{onClick:T,variant:"outline",size:"icon"},{default:a(()=>[t(d,{name:"x",size:"16"})]),_:1})])])]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 shadow-sm"},{default:a(()=>[t(e(u),null,{default:a(()=>[l("div",ot,[t(e(C),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[t(d,{name:"table",size:"18"}),s[14]||(s[14]=o(" Ventas Registradas "))]),_:1}),t(e(G),{variant:"secondary",class:"font-bold"},{default:a(()=>[o(m(r.sales.total)+" resultados ",1)]),_:1})])]),_:1}),t(e(f),{class:"p-0"},{default:a(()=>[t(A,{sales:r.sales.data,"paginate-data":r.sales,onDeleteSale:E},null,8,["sales","paginate-data"])]),_:1})]),_:1})])]),_:1})],64))}});export{Re as default};
