import{d as D,C as E,s as z,g as b,o as d,u as e,w as s,a as t,b as l,e as n,t as m,c as u,i as c,n as f,p as v,F as x,h as I}from"./app-D1TBsDKU.js";import{_ as y}from"./index-BU5NN4gF.js";import{c as M,a as j,b as A,_ as F}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BDavC9JJ.js";import{_ as T}from"./DialogDescription.vue_vue_type_script_setup_true_lang-BY3ol2LS.js";import{_ as G}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DXUUZZeO.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-C0o28aTZ.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CgNASLuN.js";import{_ as k,a as w,b as V,c as $,d as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-CUo-8HPe.js";import{_ as S}from"./Icon.vue_vue_type_script_setup_true_lang-CvJgg6Rx.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Primitive-B2qh3Dgu.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-Dtbh02_1.js";import"./useForwardExpose-BXkdZlum.js";import"./DialogTitle-C9nmZxI2.js";import"./Teleport-CLualFHF.js";import"./utils-ByTR3Job.js";import"./x-BORb_Ea0.js";import"./createLucideIcon-C8ZZsLcQ.js";import"./DialogDescription-DvogDFor.js";import"./chevron-down-DGWk9AJg.js";import"./chevron-up-B-Nebyqh.js";import"./Collection-Cqii2Hgy.js";import"./usePrimitiveElement-DA5EuO97.js";import"./check-DShrhjgp.js";import"./PopperContent-zdXkPkJs.js";import"./useTypeahead-Dy9vddLJ.js";import"./VisuallyHidden-DA0jFf7C.js";import"./sandwich-B9jXdRb8.js";import"./between-horizontal-start-DqhRiOze.js";import"./user-round-Bo0MwCWJ.js";import"./building-2-BFNLd9RB.js";import"./building-CEZywOM3.js";import"./person-standing-Co7_SARF.js";import"./paperclip-CJBtoLmJ.js";import"./calendar-DafFcEPJ.js";import"./chevron-left-iNYOk4Mo.js";import"./chevron-right-DY_REj8i.js";import"./utensils-B_zkjJqe.js";import"./circle-alert-KcK1fSTp.js";import"./triangle-alert-D-iNTUVc.js";import"./search-BW5fJx9s.js";import"./circle-plus-Bgkiaxnt.js";import"./tag-C7p7MYrI.js";import"./dollar-sign-CuYhrFBj.js";import"./upload-BHodve6T.js";import"./file-chart-column-DUyAqV2A.js";import"./file-BqKfhdQb.js";import"./hand-helping-CuNUCha2.js";import"./info-D7TWHbNu.js";import"./lamp-desk-Bs25sx32.js";import"./list-check-B7BiQ53n.js";import"./list-AyYLKkBB.js";import"./loader-circle-BibNFkSu.js";import"./lock-Bf8TertC.js";import"./mail-Dm-jknAj.js";import"./sun-DE8zreQ2.js";import"./pencil-E55HsLOy.js";import"./phone-BEs5PuN5.js";import"./plus-88Dpm8hy.js";import"./sheet-BY9f9lZY.js";import"./shield-BZM1SvS9.js";import"./shopping-cart-mC9DQ9DG.js";import"./soup-kOqX-3vJ.js";import"./trash-2-2d7z4dC3.js";import"./trash-Cqs4hyxS.js";import"./user-plus-CsoZAgaM.js";import"./user-D9PZo0fU.js";const L={class:"bg-primary px-6 py-8 text-primary-foreground relative"},P={class:"absolute -bottom-6 right-6 h-12 w-12 rounded-full bg-background flex items-center justify-center shadow-lg border"},q={class:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},H={class:"grid gap-2"},K={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},O={class:"grid grid-cols-2 gap-4"},Q={class:"grid gap-2"},R={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},W={class:"grid gap-2"},X={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},Y={class:"grid gap-2"},Z={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},ee={class:"grid gap-2"},re={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},oe=D({__name:"DinnerModal",props:{open:{type:Boolean},dinner:{},cafes:{},subdealerships:{}},emits:["update:open","success"],setup(N,{emit:U}){const p=N,g=U,r=E({name:"",dni:"",phone:"",subdealership_id:"",cafe_id:""});z(()=>p.open,a=>{a&&(p.dinner?(r.name=p.dinner.name,r.dni=p.dinner.dni,r.phone=p.dinner.phone||"",r.subdealership_id=p.dinner.subdealership_id.toString(),r.cafe_id=p.dinner.cafe_id.toString()):r.reset(),r.clearErrors())});const B=()=>{p.dinner?r.put(route("dinners.update",p.dinner.id),{onSuccess:()=>{g("update:open",!1),g("success")}}):r.post(route("dinners.store"),{onSuccess:()=>{g("update:open",!1),g("success")}})};return(a,o)=>(d(),b(e(M),{open:a.open,"onUpdate:open":o[6]||(o[6]=i=>a.$emit("update:open",i))},{default:s(()=>[t(e(F),{class:"sm:max-w-[500px] overflow-hidden p-0 gap-0 border-none shadow-2xl"},{default:s(()=>[l("div",L,[t(e(j),null,{default:s(()=>[t(e(A),{class:"text-2xl font-bold"},{default:s(()=>[n(m(a.dinner?"Editar Comensal":"Nuevo Comensal"),1)]),_:1}),t(e(T),{class:"text-primary-foreground/70"},{default:s(()=>[n(m(a.dinner?"Actualiza la información del comensal.":"Ingresa los datos del nuevo comensal."),1)]),_:1})]),_:1}),l("div",P,[t(S,{name:(a.dinner,"user"),class:"h-6 w-6 text-primary"},null,8,["name"])])]),l("form",{onSubmit:I(B,["prevent"]),class:"px-6 pt-10 pb-6 bg-background"},[l("div",q,[l("div",H,[t(e(_),{for:"name",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[7]||(o[7]=[n("Nombre Completo")])),_:1}),t(e(h),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=i=>e(r).name=i),placeholder:"Ej. Juan Pérez",class:f([{"border-destructive shadow-sm":e(r).errors.name},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.name?(d(),u("p",K,m(e(r).errors.name),1)):c("",!0)]),l("div",O,[l("div",Q,[t(e(_),{for:"dni",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[8]||(o[8]=[n("DNI")])),_:1}),t(e(h),{id:"dni",modelValue:e(r).dni,"onUpdate:modelValue":o[1]||(o[1]=i=>e(r).dni=i),placeholder:"12345678",class:f([{"border-destructive shadow-sm":e(r).errors.dni},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.dni?(d(),u("p",R,m(e(r).errors.dni),1)):c("",!0)]),l("div",W,[t(e(_),{for:"phone",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[9]||(o[9]=[n("Teléfono")])),_:1}),t(e(h),{id:"phone",modelValue:e(r).phone,"onUpdate:modelValue":o[2]||(o[2]=i=>e(r).phone=i),placeholder:"987654321",class:f([{"border-destructive shadow-sm":e(r).errors.phone},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.phone?(d(),u("p",X,m(e(r).errors.phone),1)):c("",!0)])]),l("div",Y,[t(e(_),{for:"subdealership_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[10]||(o[10]=[n("Subconcesionaria")])),_:1}),t(e(k),{modelValue:e(r).subdealership_id,"onUpdate:modelValue":o[3]||(o[3]=i=>e(r).subdealership_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.subdealership_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.subdealerships,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.subdealership_id?(d(),u("p",Z,m(e(r).errors.subdealership_id),1)):c("",!0)]),l("div",ee,[t(e(_),{for:"cafe_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[11]||(o[11]=[n("Cafetería")])),_:1}),t(e(k),{modelValue:e(r).cafe_id,"onUpdate:modelValue":o[4]||(o[4]=i=>e(r).cafe_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.cafe_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.cafes,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.cafe_id?(d(),u("p",re,m(e(r).errors.cafe_id),1)):c("",!0)])]),t(e(G),{class:"pt-8 flex gap-2"},{default:s(()=>[t(e(y),{type:"button",variant:"ghost",onClick:o[5]||(o[5]=i=>a.$emit("update:open",!1)),class:"border"},{default:s(()=>o[12]||(o[12]=[n("Cancelar")])),_:1}),t(e(y),{type:"submit",disabled:e(r).processing,class:"flex-1 bg-primary hover:bg-primary/90 shadow-md"},{default:s(()=>[e(r).processing?(d(),b(S,{key:0,name:"loader-2",class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),n(" "+m(a.dinner?"Guardar Cambios":"Agregar Comensal"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),hr=J(oe,[["__scopeId","data-v-91cd2f2e"]]);export{hr as default};
