import{_ as H,a as b,b as x,c as P,d,e as S}from"./TableHeader.vue_vue_type_script_setup_true_lang-BfbmwJ-J.js";import{d as z,j as A,s as B,c,o as n,a as e,i as T,w as s,u as a,e as o,g,F as y,p as C,b as p,t as u,n as F,P as I}from"./app-C0nisf55.js";import{_ as M}from"./SaleDetailsPopover.vue_vue_type_script_setup_true_lang-CtpUw3DY.js";import{_ as j}from"./Icon.vue_vue_type_script_setup_true_lang-iRKls7Yn.js";import{_ as V}from"./index-DDc2gAUW.js";import{_ as q}from"./index-B-EeIOXl.js";const E={class:"overflow-x-auto"},O={class:"flex flex-col"},R={class:"text-[13px] font-bold text-slate-900"},G={class:"text-[10px] text-slate-400 font-medium uppercase tracking-tight"},J={class:"flex items-center gap-3"},K={class:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center text-primary font-bold text-xs"},Q=["title"],U={key:0,class:"px-4 py-3 border-t border-slate-100 bg-slate-50/50 flex items-center justify-center gap-1.5"},W=["innerHTML"],st=z({__name:"SalesTable",props:{sales:{type:Array,required:!0},paginateData:{type:Object,required:!0},cafeId:{type:Number,required:!0}},setup(m){const L=m,_=A([]);B(()=>L.sales,i=>{_.value=[...i]},{immediate:!0});const D=(i,r)=>{window.open("/print-ticket/"+i+"/"+r,"_blank")},k=i=>i.includes("Previous")?"Anterior":i.includes("Next")?"Siguiente":i;return(i,r)=>(n(),c("div",E,[e(a(S),null,{default:s(()=>[e(a(H),null,{default:s(()=>[e(a(b),{class:"bg-slate-50/80 hover:bg-slate-50/80 border-b-slate-200"},{default:s(()=>[e(a(x),{class:"py-4 text-slate-600 font-bold uppercase tracking-wider text-[11px]"},{default:s(()=>r[0]||(r[0]=[o("Hora / Fecha")])),_:1}),e(a(x),{class:"py-4 text-slate-600 font-bold uppercase tracking-wider text-[11px]"},{default:s(()=>r[1]||(r[1]=[o("Identificación")])),_:1}),e(a(x),{class:"py-4 text-slate-600 font-bold uppercase tracking-wider text-[11px]"},{default:s(()=>r[2]||(r[2]=[o("Comensal")])),_:1}),e(a(x),{class:"py-4 text-slate-600 font-bold uppercase tracking-wider text-[11px]"},{default:s(()=>r[3]||(r[3]=[o("Importe")])),_:1}),e(a(x),{class:"text-right py-4 text-slate-600 font-bold uppercase tracking-wider text-[11px]"},{default:s(()=>r[4]||(r[4]=[o("Acciones")])),_:1})]),_:1})]),_:1}),e(a(P),null,{default:s(()=>[(n(!0),c(y,null,C(_.value,t=>(n(),g(a(b),{key:t.id,class:"hover:bg-slate-50/50 transition-all border-b-slate-100 last:border-0 group"},{default:s(()=>[e(a(d),{class:"py-3"},{default:s(()=>[p("div",O,[p("span",R,u(t.date),1),p("span",G,"Registro #"+u(t.id),1)])]),_:2},1024),e(a(d),{class:"py-3"},{default:s(()=>[e(a(q),{variant:"secondary",class:"font-bold text-[10px] bg-slate-100 text-slate-600 border-none"},{default:s(()=>{var l,f;return[e(j,{name:"id-card",size:"10",class:"mr-1"}),o(" "+u((f=(l=t==null?void 0:t.tickets[0])==null?void 0:l.dinner)==null?void 0:f.dni),1)]}),_:2},1024)]),_:2},1024),e(a(d),{class:"py-3"},{default:s(()=>{var l,f,h,v,w,$,N;return[p("div",J,[p("div",K,u((h=(f=(l=t==null?void 0:t.tickets[0])==null?void 0:l.dinner)==null?void 0:f.name)==null?void 0:h.charAt(0)),1),p("span",{class:"text-[13px] font-bold text-slate-700 truncate max-w-[150px]",title:(w=(v=t==null?void 0:t.tickets[0])==null?void 0:v.dinner)==null?void 0:w.name},u((N=($=t==null?void 0:t.tickets[0])==null?void 0:$.dinner)==null?void 0:N.name),9,Q)])]}),_:2},1024),e(a(d),{class:"py-3 font-black text-slate-900 text-[13px]"},{default:s(()=>[o(" S/"+u(Number(t.total).toFixed(2)),1)]),_:2},1024),e(a(d),{class:"text-right py-3 space-x-1"},{default:s(()=>[e(a(V),{variant:"ghost",size:"icon",onClick:l=>D(t.id,1),title:"Imprimir Ticket",class:"h-8 w-8 rounded-lg hover:bg-primary/10 hover:text-primary transition-colors"},{default:s(()=>[e(j,{name:"printer",size:"14"})]),_:2},1032,["onClick"]),e(M,{ticket:t==null?void 0:t.tickets[0]},null,8,["ticket"])]),_:2},1024)]),_:2},1024))),128)),_.value.length===0?(n(),g(a(b),{key:0},{default:s(()=>[e(a(d),{colspan:"5",class:"h-32 text-center text-slate-400 text-sm italic font-medium"},{default:s(()=>r[5]||(r[5]=[o(" No hay ventas registradas en esta cafetería para el día de hoy. ")])),_:1})]),_:1})):T("",!0)]),_:1})]),_:1}),m.paginateData.links&&m.paginateData.links.length>3?(n(),c("div",U,[(n(!0),c(y,null,C(m.paginateData.links,t=>(n(),c(y,{key:t.label},[t.url?(n(),g(a(I),{key:0,href:t.url,class:F(["h-8 min-w-[32px] px-2.5 flex items-center justify-center text-[11px] font-bold rounded-lg transition-all border shadow-sm",{"bg-primary text-primary-foreground border-primary":t.active,"bg-white hover:bg-slate-50 border-slate-200 text-slate-600":!t.active}]),innerHTML:k(t.label),"preserve-scroll":""},null,8,["href","class","innerHTML"])):(n(),c("span",{key:1,class:"h-8 min-w-[32px] px-2.5 flex items-center justify-center text-[11px] font-bold text-slate-300 rounded-lg pointer-events-none",innerHTML:k(t.label)},null,8,W))],64))),128))])):T("",!0)]))}});export{st as _};
