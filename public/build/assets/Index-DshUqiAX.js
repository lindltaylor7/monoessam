import{_ as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-2zOl0_Zh.js";import{d as j,r as g,c as y,o as v,a as t,u as e,m as I,w as a,b as l,e as o,t as m,F as S,l as R,g as U,W as F}from"./app-fomrFkQZ.js";import{_ as p}from"./Card.vue_vue_type_script_setup_true_lang-82hn18b0.js";import{_ as f}from"./CardContent.vue_vue_type_script_setup_true_lang-zY5d-Imx.js";import{_ as b}from"./CardDescription.vue_vue_type_script_setup_true_lang-D1R2Zlbc.js";import{_ as u,a as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-BZZMiwDc.js";import{_ as w}from"./index-oFiWFObx.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-DofWQdID.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-C3yTw1Pb.js";import{_ as q,a as W,b as L,c as O,d as h}from"./SelectValue.vue_vue_type_script_setup_true_lang-Cvj8s7Xu.js";import{C as P,_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-BWUOCrbn.js";import{_ as A}from"./SalesReportTable.vue_vue_type_script_setup_true_lang-BlkjBJIv.js";import{_ as G}from"./index-Cq9iLCyo.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CR9hpfbb.js";import"./Presence-4WqpHu5s.js";import"./Primitive-D7UgADSq.js";import"./useForwardExpose-B3tvnT3L.js";import"./PopperContent-DFl8Tbjs.js";import"./Teleport-BpnHmCys.js";import"./VisuallyHidden-DcKVyGdI.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D_1z5tYj.js";import"./utils-Df-B55Kj.js";import"./useTypeahead-DZbV1e9K.js";import"./RovingFocusGroup-CUDDd4ho.js";import"./usePrimitiveElement-7YkADK9J.js";import"./Collection-CeR32Ioj.js";import"./utensils-BLD_WBR8.js";import"./createLucideIcon-CmUc2gDE.js";import"./DialogTitle-BStEHjuB.js";import"./x-BeCUyekq.js";import"./DialogDescription-C6cxIXKe.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-DHaLZYsh.js";import"./building-2-D-Caa-oC.js";import"./user-pWHUwIa8.js";import"./chevron-right-CTUv8GHm.js";import"./chevron-down-Bh29We2u.js";import"./chevron-up-DHaVaXfh.js";import"./check-DntI5MKS.js";import"./useFormControl-P_Julbyk.js";import"./settings-2-C5iviCkq.js";import"./briefcase-lRdtIWL4.js";import"./lock-C_QC4btr.js";import"./shopping-bag-BaBG7RoI.js";import"./between-horizontal-start-CEuLW_qB.js";import"./user-round-BWdp3VhI.js";import"./person-standing-BJjGaOlj.js";import"./paperclip-DSc6OBrR.js";import"./calendar-9um9zi_E.js";import"./chevron-left-C0idyhsB.js";import"./circle-alert-DErmaZdq.js";import"./triangle-alert-CLeOiyW6.js";import"./circle-check-Cvi0bJur.js";import"./circle-plus-Cjv5unGs.js";import"./shirt-HFvJpSdZ.js";import"./dollar-sign-C49-SkaV.js";import"./message-square-Bute3gfa.js";import"./eye-g-vRwkYj.js";import"./file-chart-column-C3ytEhqn.js";import"./upload-DSFQQPAb.js";import"./info-DMm1UW2z.js";import"./lamp-desk-DxmJMNFb.js";import"./list-check-BcGlDBQc.js";import"./sheet-M6y2hPb_.js";import"./loader-circle-_55xEDmY.js";import"./mail-BNAxlRV2.js";import"./monitor-dg20ySsn.js";import"./sun-xwYrWVb_.js";import"./package-plus-WmZqvhMJ.js";import"./package-Zzgn6RDH.js";import"./pencil-DBn6pxY4.js";import"./phone-DeHzuWt7.js";import"./plus-DOZgqZJu.js";import"./search-C4qGOhnv.js";import"./shield-9XKvWkkf.js";import"./shopping-cart-BBcwy94M.js";import"./soup-Dlcvac0p.js";import"./trash-2-Cs54w2it.js";import"./trash-DU0UIvQc.js";import"./truck-D07OfZmh.js";import"./user-plus-Ch9FhvZf.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-BsPTyF9M.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CLc7PbgQ.js";const H={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6"},J={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},K={class:"flex items-center gap-3"},M={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30"},Q={class:"grid gap-4 md:grid-cols-3"},X={class:"text-3xl font-black text-emerald-600"},Y={class:"text-3xl font-black text-blue-600"},Z={class:"text-3xl font-black text-purple-600"},tt={class:"grid gap-4 md:grid-cols-4"},et={class:"space-y-2"},at={class:"space-y-2"},st={class:"space-y-2"},lt={class:"flex items-end gap-2"},ot={class:"flex items-center justify-between"},Re=j({__name:"Index",props:{sales:{},cafes:{},filters:{},statistics:{}},setup(B){var V;const x=B,c=g(x.filters.start_date),_=g(x.filters.end_date),n=g(((V=x.filters.cafe_id)==null?void 0:V.toString())||"all"),k=()=>{F.get(route("reportsales.index"),{start_date:c.value,end_date:_.value,cafe_id:n.value!=="all"?n.value:null},{preserveState:!0,preserveScroll:!0})},T=()=>{const r=new Date().toISOString().split("T")[0];c.value=r,_.value=r,n.value="all",k()},E=r=>{confirm("¿Estás seguro de que deseas eliminar esta venta? Esta acción no se puede deshacer.")&&F.delete(route("reportsales.destroy",r),{preserveScroll:!0})},D=()=>{alert("Funcionalidad de exportación en desarrollo")};return(r,s)=>(v(),y(S,null,[t(e(I),{title:"Reporte de ventas"}),t(N,null,{default:a(()=>[l("div",H,[l("div",J,[l("div",K,[l("div",M,[t(e(P),{class:"text-white"})]),s[3]||(s[3]=l("div",null,[l("h1",{class:"text-2xl font-bold tracking-tight text-slate-900"},"Reporte de Ventas"),l("p",{class:"text-sm text-slate-500"},"Consulta y gestiona las ventas registradas")],-1))]),t(e(w),{onClick:D,variant:"outline",class:"gap-2"},{default:a(()=>[t(d,{name:"download",size:"16"}),s[4]||(s[4]=o(" Exportar a Excel "))]),_:1})]),l("div",Q,[t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"currency-dollar",size:"14"}),s[5]||(s[5]=o(" Total Vendido "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",X," S/"+m(Number(r.statistics.total_amount).toFixed(2)),1)]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"shopping-cart",size:"14"}),s[6]||(s[6]=o(" Total de Ventas "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",Y,m(r.statistics.total_sales),1)]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:a(()=>[t(e(u),{class:"pb-3"},{default:a(()=>[t(e(b),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:a(()=>[t(d,{name:"chart-line",size:"14"}),s[7]||(s[7]=o(" Promedio por Venta "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",Z," S/"+m(Number(r.statistics.average_sale).toFixed(2)),1)]),_:1})]),_:1})]),t(e(p),{class:"border-slate-200 shadow-sm"},{default:a(()=>[t(e(u),null,{default:a(()=>[t(e(C),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[t(d,{name:"filter",size:"18"}),s[8]||(s[8]=o(" Filtros de Búsqueda "))]),_:1})]),_:1}),t(e(f),null,{default:a(()=>[l("div",tt,[l("div",et,[t(e($),{for:"start-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[9]||(s[9]=[o(" Fecha Inicio ")])),_:1}),t(e(z),{id:"start-date",modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=i=>c.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",at,[t(e($),{for:"end-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[10]||(s[10]=[o(" Fecha Fin ")])),_:1}),t(e(z),{id:"end-date",modelValue:_.value,"onUpdate:modelValue":s[1]||(s[1]=i=>_.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",st,[t(e($),{for:"cafe",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:a(()=>s[11]||(s[11]=[o(" Cafetería ")])),_:1}),t(e(q),{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=i=>n.value=i)},{default:a(()=>[t(e(W),{id:"cafe",class:"border-slate-300"},{default:a(()=>[t(e(L),{placeholder:"Todas las cafeterías"})]),_:1}),t(e(O),null,{default:a(()=>[t(e(h),{value:"all"},{default:a(()=>s[12]||(s[12]=[o("Todas las cafeterías")])),_:1}),(v(!0),y(S,null,R(r.cafes,i=>(v(),U(e(h),{key:i.id,value:i.id.toString()},{default:a(()=>[o(m(i.name)+" "+m(i.unit?`- ${i.unit.name}`:""),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",lt,[t(e(w),{onClick:k,class:"flex-1 gap-2"},{default:a(()=>[t(d,{name:"search",size:"16"}),s[13]||(s[13]=o(" Buscar "))]),_:1}),t(e(w),{onClick:T,variant:"outline",size:"icon"},{default:a(()=>[t(d,{name:"x",size:"16"})]),_:1})])])]),_:1})]),_:1}),t(e(p),{class:"border-slate-200 shadow-sm"},{default:a(()=>[t(e(u),null,{default:a(()=>[l("div",ot,[t(e(C),{class:"flex items-center gap-2 text-lg"},{default:a(()=>[t(d,{name:"table",size:"18"}),s[14]||(s[14]=o(" Ventas Registradas "))]),_:1}),t(e(G),{variant:"secondary",class:"font-bold"},{default:a(()=>[o(m(r.sales.total)+" resultados ",1)]),_:1})])]),_:1}),t(e(f),{class:"p-0"},{default:a(()=>[t(A,{sales:r.sales.data,"paginate-data":r.sales,onDeleteSale:E},null,8,["sales","paginate-data"])]),_:1})]),_:1})])]),_:1})],64))}});export{Re as default};
