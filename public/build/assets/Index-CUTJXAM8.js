import{d as Se,r as g,s as je,q as de,c as u,o as i,a as l,u as t,m as Ue,w as s,b as o,e as d,i as w,G as Ie,bQ as Ee,F as _,l as I,t as p,g as E,n as Ae,N as qe,z as $e,W as H}from"./app-D-LqQbZa.js";import{_ as Te}from"./AppLayout.vue_vue_type_script_setup_true_lang-_WVNti4i.js";import{_ as j}from"./index-DpgMMlKQ.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-B6C72Mwn.js";import{_ as ie}from"./index-DaIYS-Aw.js";import{_ as N}from"./Card.vue_vue_type_script_setup_true_lang-DP9HkVF3.js";import{_ as D}from"./CardContent.vue_vue_type_script_setup_true_lang-Dp6epoJN.js";import{_ as Ne}from"./CardDescription.vue_vue_type_script_setup_true_lang-fjaidJtI.js";import{_ as De,a as ze}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dcsa9HDX.js";import{_ as k,a as h,b as V,c as C,d as f}from"./SelectValue.vue_vue_type_script_setup_true_lang-CToYXGco.js";import{_ as Re,a as Be,b as M}from"./TabsTrigger.vue_vue_type_script_setup_true_lang-B_BvddHV.js";import{c as Q,_ as K,a as W,b as Z}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DwCCe1VU.js";import{_ as J}from"./DialogDescription.vue_vue_type_script_setup_true_lang-LhN1IvpN.js";import{_ as X}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B0NV6Kd9.js";import{_ as Y}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-D0htdjR-.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-DM9lszr3.js";import{P as ee}from"./package-CR6_iB-i.js";import{P as ne,B as te,S as Ge,a as re,A as Me,H as Oe}from"./settings-2-B1OirUe9.js";import{P as ue}from"./plus-D4e7NBze.js";import{S as pe}from"./search-B5XbEvtW.js";import{L as Pe}from"./loader-circle-DpQTt_Uh.js";import{C as me}from"./check-DoDSKdKK.js";import{C as Fe}from"./circle-alert-52ZMIOm6.js";import{B as fe}from"./building-2-BVTNxSIJ.js";import{S as ce,C as Le}from"./shirt-D5iYOZ7I.js";import{M as ve}from"./monitor-CAzvVKRW.js";import{b as ge}from"./utensils-BSk9kXbm.js";import{_ as He}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DIcxem_I.js";import"./Presence-5rM4SnOx.js";import"./Primitive-D2E4zh-F.js";import"./useForwardExpose-C0s566w4.js";import"./PopperContent-BmDe8RlA.js";import"./Teleport-C90D5m2n.js";import"./VisuallyHidden-BMVg-pqG.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-ChRH62iI.js";import"./utils-DrB2bsOv.js";import"./useTypeahead-D3motRUW.js";import"./RovingFocusGroup-D3Tsaytf.js";import"./usePrimitiveElement-EZ5wwPph.js";import"./Collection-D9d2Sq_a.js";import"./DialogTitle-CIiJ2IkS.js";import"./x-b92faefF.js";import"./createLucideIcon-Ds2iLTpM.js";import"./DialogDescription-zqXnhQK4.js";import"./hand-helping-B2OrTdtM.js";import"./user-Cwyi-5P7.js";import"./chevron-right-Cq55BZVf.js";import"./chevron-down-CLUrzGV_.js";import"./chevron-up-a8bJVb19.js";import"./useFormControl-CdIo0Tlf.js";import"./RovingFocusItem-1ihwZVcP.js";const Qe={class:"flex flex-col h-full w-full overflow-hidden p-4 sm:p-6 gap-6 bg-slate-50/50"},Ke={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 flex-none"},We={class:"min-w-0 flex-1"},Ze={class:"text-2xl sm:text-3xl font-bold tracking-tight flex items-center gap-3 text-slate-900"},Je={class:"p-2 bg-primary/10 rounded-xl"},Xe={class:"flex flex-wrap gap-2"},Ye={class:"grid gap-4 py-4"},et={class:"grid gap-2"},tt={class:"grid gap-2"},lt={class:"flex gap-2"},st={class:"grid gap-6 py-4"},at={class:"grid gap-2"},ot={class:"grid grid-cols-2 gap-4"},dt={class:"grid gap-2"},it={class:"grid gap-2"},nt={key:0,class:"grid grid-cols-2 gap-4"},rt={class:"grid gap-2"},ut={class:"grid gap-2"},pt={key:1,class:"grid gap-4"},mt={class:"grid grid-cols-2 gap-4"},ft={class:"grid gap-2"},ct={class:"grid gap-2"},vt={class:"grid grid-cols-2 gap-4"},gt={class:"grid gap-2"},xt={class:"grid gap-2"},bt={class:"grid grid-cols-2 gap-4"},_t={class:"grid gap-2"},wt={class:"grid gap-2"},yt={class:"grid gap-2"},kt={class:"grid gap-2"},ht={class:"grid gap-5 py-4"},Vt={class:"grid grid-cols-2 gap-4"},Ct={class:"grid gap-2"},St={class:"grid gap-2 relative"},jt={class:"relative"},Ut={key:0,class:"absolute right-2.5 top-2.5"},It={key:0,class:"absolute z-50 w-full mt-1 top-full bg-white border rounded-lg shadow-xl max-h-48 overflow-y-auto"},Et=["onClick"],At={key:0,class:"text-primary"},qt={key:1,class:"mt-1 flex items-center gap-1.5 text-xs text-primary font-bold"},$t={class:"grid grid-cols-2 gap-4"},Tt={class:"grid gap-2"},Nt={class:"grid gap-2"},Dt={class:"grid grid-cols-2 gap-4"},zt={class:"grid gap-2"},Rt={class:"grid gap-2"},Bt={class:"grid grid-cols-2 md:grid-cols-4 gap-4 flex-none"},Gt={class:"h-10 w-10 rounded-xl bg-indigo-50 flex items-center justify-center"},Mt={class:"text-xl font-bold text-slate-900"},Ot={class:"h-10 w-10 rounded-xl bg-rose-50 flex items-center justify-center"},Pt={class:"text-xl font-bold text-slate-900"},Ft={class:"h-10 w-10 rounded-xl bg-amber-50 flex items-center justify-center"},Lt={class:"text-xl font-bold text-slate-900"},Ht={class:"h-10 w-10 rounded-xl bg-emerald-50 flex items-center justify-center"},Qt={class:"text-xl font-bold text-slate-900"},Kt={class:"flex flex-col gap-4 flex-1 overflow-hidden"},Wt={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-white p-3 rounded-2xl border shadow-sm flex-none"},Zt={class:"flex flex-wrap items-center gap-3 w-full sm:w-auto"},Jt={class:"relative flex-1 sm:w-64"},Xt={class:"flex gap-2"},Yt={class:"flex-1 overflow-y-auto pr-2 custom-scrollbar"},el={key:0,class:"flex flex-col items-center justify-center h-64 border-2 border-dashed rounded-3xl bg-white/50 border-slate-200"},tl={class:"h-16 w-16 bg-slate-100 rounded-full flex items-center justify-center mb-4"},ll={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5 pb-6"},sl={class:"h-1.5 w-full bg-slate-100"},al={key:0,class:"h-full bg-primary/40"},ol={key:1,class:"h-full bg-blue-400"},dl={key:2,class:"h-full bg-orange-400"},il={key:3,class:"h-full bg-emerald-400"},nl={class:"flex justify-between items-start gap-4"},rl={class:"flex gap-3"},ul={class:"min-w-0"},pl={key:0,class:"ml-1 text-[10px] text-slate-400 font-mono"},ml={class:"mt-4 p-4 rounded-2xl bg-slate-50 flex items-center justify-between group-hover:bg-slate-100/50 transition-colors border border-transparent group-hover:border-slate-200"},fl={class:"flex items-baseline gap-1.5 text-slate-900"},cl={class:"text-3xl font-black leading-none"},vl={class:"flex flex-col items-end gap-1"},gl={key:0,class:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100"},xl={key:1,class:"flex items-center gap-1 text-[10px] font-bold text-rose-600 bg-rose-50 px-2 py-0.5 rounded-full border border-rose-100"},bl={class:"mt-5 space-y-2.5"},_l={class:"flex items-center justify-between text-[11px]"},wl={class:"text-slate-400 font-medium flex items-center gap-1.5"},yl={class:"text-slate-700 font-bold truncate max-w-[120px]"},kl={class:"flex items-center justify-between text-[11px]"},hl={class:"text-slate-400 font-medium flex items-center gap-1.5"},Vl={class:"text-slate-700 font-bold truncate max-w-[120px]"},Cl={key:0,class:"mt-4 pt-4 border-t border-slate-100 grid grid-cols-2 gap-2 text-[10px]"},Sl={key:0,class:"flex flex-col"},jl={class:"font-bold text-slate-700 truncate"},Ul={key:1,class:"flex flex-col"},Il={class:"px-5 py-4 border-t border-slate-100 flex items-center justify-between bg-slate-50/10 group-hover:bg-slate-50/50 transition-colors"},El={class:"text-[10px] font-black text-primary flex items-center gap-1 hover:gap-2 transition-all tracking-tighter uppercase"},Al={class:"p-4 border shadow-sm bg-white rounded-2xl text-xs text-slate-500 flex flex-col sm:flex-row justify-between items-center gap-4 flex-none border-slate-200"},ql={class:"flex items-center gap-6"},$l={class:"flex items-center gap-2"},Tl={class:"font-semibold text-slate-700"},Nl={class:"flex items-center gap-2 border-l border-slate-200 pl-6"},Dl={class:"font-semibold text-slate-700"},zl={class:"flex items-center gap-4"},Rl={class:"flex items-center gap-1.5 font-bold uppercase tracking-widest text-slate-400 text-[10px]"},Bl=Se({__name:"Index",props:{colors:{},cafes:{},headquarters:{},stocks:{}},setup(xe){const be=xe,b=g("clothes"),O=g(""),z=g("all"),R=g("all"),le=je(()=>be.stocks.filter(n=>{var $,T;const e={clothes:"App\\Models\\Cloth",computer:"App\\Models\\ComputerEquipment",kitchen:"App\\Models\\KitchenEquipment",ingredients:"App\\Models\\Ingredient"};if(n.stockable_type!==e[b.value])return!1;const x=(((T=($=n.stockable)==null?void 0:$.name)==null?void 0:T.toLowerCase())||"").includes(O.value.toLowerCase()),S=z.value==="all"||String(n.cafe_id)===z.value,G=R.value==="all"||String(n.headquarter_id)===R.value;return x&&S&&G})),B=g(!1),P=g(!1),F=g(!1),c=g({stockable_type:"cloth",stockable_id:"",headquarter_id:"none",cafe_id:"",quantity:0,action:"add"}),A=g(""),U=g([]),L=g(!1),q=g("");let se=null;const _e=async n=>{if(!n){U.value=[];return}L.value=!0;try{const e=await $e.get(route("inventory.items.search"),{params:{type:c.value.stockable_type,query:n}});U.value=e.data}catch(e){console.error("Error searching items",e)}finally{L.value=!1}};de(A,n=>{clearTimeout(se),se=setTimeout(()=>{_e(n)},400)}),de(()=>c.value.stockable_type,()=>{A.value="",U.value=[],c.value.stockable_id="",q.value=""});const we=n=>{c.value.stockable_id=String(n.id),q.value=n.name,U.value=[],A.value=""},ye=()=>{const n={...c.value};n.headquarter_id==="none"&&(n.headquarter_id=""),H.post(route("inventory.update"),n,{onSuccess:()=>{B.value=!1,ke()},onFinish:()=>{setTimeout(()=>{B.value=!1},100)},preserveScroll:!0,preserveState:!0})},ke=()=>{c.value={stockable_type:"cloth",stockable_id:"",headquarter_id:"none",cafe_id:"",quantity:0,action:"add"},q.value=""},r=g({type:"computer",name:"",brand:"",model:"",description:"",presentation:"",color:"",size:"",current_type:"",series:"",manual:"",code:"",status:""}),y=g({name:"",hex_code:"#000000"}),he=()=>{H.post(route("inventory.items.store"),r.value,{onSuccess:()=>{P.value=!1,r.value={type:r.value.type,name:"",brand:"",model:"",description:"",presentation:"",color:"",size:"",current_type:"",series:"",manual:"",code:"",status:""}}})},Ve=()=>{H.post(route("inventory.colors.store"),y.value,{onSuccess:()=>{F.value=!1,y.value={name:"",hex_code:"#000000"}}})},ae=n=>n<=0?{label:"Sin Stock",variant:"destructive"}:n<5?{label:"Crítico",variant:"destructive"}:n<15?{label:"Bajo Stock",variant:"secondary"}:{label:"En Stock",variant:"outline"},Ce=n=>{switch(n){case"clothes":return ce;case"computer":return ve;case"kitchen":return ge;case"ingredients":return te;default:return ee}};return(n,e)=>(i(),u(_,null,[l(t(Ue),{title:"Gestión de Inventario"}),l(Te,{breadcrumbs:[{title:"Logística",href:n.route("logistics")},{title:"Inventario",href:n.route("inventory.index")}]},{default:s(()=>[o("div",Qe,[o("div",Ke,[o("div",We,[o("h1",Ze,[o("div",Je,[l(t(ee),{class:"h-8 w-8 text-primary"})]),e[29]||(e[29]=o("span",null,"Gestión Multimodal de Inventario",-1))]),e[30]||(e[30]=o("p",{class:"text-muted-foreground text-sm mt-1"}," Control centralizado de suministros, equipos y materias primas ",-1))]),o("div",Xe,[l(t(Q),{open:F.value,"onUpdate:open":e[3]||(e[3]=a=>F.value=a)},{default:s(()=>[l(t(Y),{"as-child":""},{default:s(()=>[l(t(j),{variant:"outline",size:"sm",class:"gap-2 bg-white shadow-sm border-slate-200"},{default:s(()=>[l(t(ne),{class:"h-4 w-4"}),e[31]||(e[31]=d(" Colores "))]),_:1})]),_:1}),l(t(K),null,{default:s(()=>[l(t(W),null,{default:s(()=>[l(t(Z),null,{default:s(()=>e[32]||(e[32]=[d("Catálogo de Colores")])),_:1}),l(t(J),null,{default:s(()=>e[33]||(e[33]=[d("Defina colores para la clasificación de prendas")])),_:1})]),_:1}),o("div",Ye,[o("div",et,[l(t(m),null,{default:s(()=>e[34]||(e[34]=[d("Nombre del Color")])),_:1}),l(t(v),{modelValue:y.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>y.value.name=a),placeholder:"Ej: Azul Corporativo"},null,8,["modelValue"])]),o("div",tt,[l(t(m),null,{default:s(()=>e[35]||(e[35]=[d("Selección Visual")])),_:1}),o("div",lt,[l(t(v),{modelValue:y.value.hex_code,"onUpdate:modelValue":e[1]||(e[1]=a=>y.value.hex_code=a),type:"color",class:"w-12 h-10 p-1 cursor-pointer"},null,8,["modelValue"]),l(t(v),{modelValue:y.value.hex_code,"onUpdate:modelValue":e[2]||(e[2]=a=>y.value.hex_code=a),placeholder:"#000000",class:"flex-1"},null,8,["modelValue"])])])]),l(t(X),null,{default:s(()=>[l(t(j),{onClick:Ve,disabled:!y.value.name,class:"w-full sm:w-auto"},{default:s(()=>e[36]||(e[36]=[d("Guardar Color")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(t(Q),{open:P.value,"onUpdate:open":e[17]||(e[17]=a=>P.value=a)},{default:s(()=>[l(t(Y),{"as-child":""},{default:s(()=>[l(t(j),{variant:"outline",size:"sm",class:"gap-2 bg-white shadow-sm border-slate-200"},{default:s(()=>[l(t(ue),{class:"h-4 w-4"}),e[37]||(e[37]=d(" Nuevo Equipo "))]),_:1})]),_:1}),l(t(K),{class:"sm:max-w-[550px]"},{default:s(()=>[l(t(W),null,{default:s(()=>[l(t(Z),null,{default:s(()=>e[38]||(e[38]=[d("Registro de Nuevo Activo")])),_:1}),l(t(J),null,{default:s(()=>e[39]||(e[39]=[d("Complete los datos del equipo para ingresarlo al catálogo")])),_:1})]),_:1}),o("div",st,[o("div",at,[l(t(m),null,{default:s(()=>e[40]||(e[40]=[d("Tipo de Equipo")])),_:1}),l(t(k),{modelValue:r.value.type,"onUpdate:modelValue":e[4]||(e[4]=a=>r.value.type=a)},{default:s(()=>[l(t(h),null,{default:s(()=>[l(t(V))]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"computer"},{default:s(()=>e[41]||(e[41]=[d("Equipo Informático")])),_:1}),l(t(f),{value:"kitchen"},{default:s(()=>e[42]||(e[42]=[d("Equipo de Cocina")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",ot,[o("div",dt,[l(t(m),null,{default:s(()=>e[43]||(e[43]=[d("Nombre / Modelo")])),_:1}),l(t(v),{modelValue:r.value.name,"onUpdate:modelValue":e[5]||(e[5]=a=>r.value.name=a),placeholder:"Ej: Laptop Dell G15"},null,8,["modelValue"])]),o("div",it,[l(t(m),null,{default:s(()=>e[44]||(e[44]=[d("Marca")])),_:1}),l(t(v),{modelValue:r.value.brand,"onUpdate:modelValue":e[6]||(e[6]=a=>r.value.brand=a),placeholder:"Ej: Dell"},null,8,["modelValue"])])]),r.value.type==="computer"?(i(),u("div",nt,[o("div",rt,[l(t(m),null,{default:s(()=>e[45]||(e[45]=[d("Presentación")])),_:1}),l(t(v),{modelValue:r.value.presentation,"onUpdate:modelValue":e[7]||(e[7]=a=>r.value.presentation=a),placeholder:"Ej: Caja"},null,8,["modelValue"])]),o("div",ut,[l(t(m),null,{default:s(()=>e[46]||(e[46]=[d("Color de Chasis")])),_:1}),l(t(v),{modelValue:r.value.color,"onUpdate:modelValue":e[8]||(e[8]=a=>r.value.color=a),placeholder:"Ej: Gris Espacial"},null,8,["modelValue"])])])):w("",!0),r.value.type==="kitchen"?(i(),u("div",pt,[o("div",mt,[o("div",ft,[l(t(m),null,{default:s(()=>e[47]||(e[47]=[d("Tamaño / Capacidad")])),_:1}),l(t(v),{modelValue:r.value.size,"onUpdate:modelValue":e[9]||(e[9]=a=>r.value.size=a),placeholder:"Ej: 50 Litros / Grande"},null,8,["modelValue"])]),o("div",ct,[l(t(m),null,{default:s(()=>e[48]||(e[48]=[d("Color")])),_:1}),l(t(v),{modelValue:r.value.color,"onUpdate:modelValue":e[10]||(e[10]=a=>r.value.color=a),placeholder:"Ej: Acero Inox"},null,8,["modelValue"])])]),o("div",vt,[o("div",gt,[l(t(m),null,{default:s(()=>e[49]||(e[49]=[d("Tipo de Corriente")])),_:1}),l(t(v),{modelValue:r.value.current_type,"onUpdate:modelValue":e[11]||(e[11]=a=>r.value.current_type=a),placeholder:"Ej: 220V / Trifásico"},null,8,["modelValue"])]),o("div",xt,[l(t(m),null,{default:s(()=>e[50]||(e[50]=[d("Serie")])),_:1}),l(t(v),{modelValue:r.value.series,"onUpdate:modelValue":e[12]||(e[12]=a=>r.value.series=a),placeholder:"Ej: SN-123456"},null,8,["modelValue"])])]),o("div",bt,[o("div",_t,[l(t(m),null,{default:s(()=>e[51]||(e[51]=[d("Instructivo")])),_:1}),l(t(v),{modelValue:r.value.manual,"onUpdate:modelValue":e[13]||(e[13]=a=>r.value.manual=a),placeholder:"Ej: Físico / Digital"},null,8,["modelValue"])]),o("div",wt,[l(t(m),null,{default:s(()=>e[52]||(e[52]=[d("Código")])),_:1}),l(t(v),{modelValue:r.value.code,"onUpdate:modelValue":e[14]||(e[14]=a=>r.value.code=a),placeholder:"Ej: COC-001"},null,8,["modelValue"])])]),o("div",yt,[l(t(m),null,{default:s(()=>e[53]||(e[53]=[d("Estado")])),_:1}),l(t(k),{modelValue:r.value.status,"onUpdate:modelValue":e[15]||(e[15]=a=>r.value.status=a)},{default:s(()=>[l(t(h),null,{default:s(()=>[l(t(V),{placeholder:"Seleccionar estado"})]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"nuevo"},{default:s(()=>e[54]||(e[54]=[d("Nuevo")])),_:1}),l(t(f),{value:"bueno"},{default:s(()=>e[55]||(e[55]=[d("Bueno")])),_:1}),l(t(f),{value:"regular"},{default:s(()=>e[56]||(e[56]=[d("Regular")])),_:1}),l(t(f),{value:"mantenimiento"},{default:s(()=>e[57]||(e[57]=[d("En Mantenimiento")])),_:1}),l(t(f),{value:"baja"},{default:s(()=>e[58]||(e[58]=[d("De Baja")])),_:1})]),_:1})]),_:1},8,["modelValue"])])])):w("",!0),o("div",kt,[l(t(m),null,{default:s(()=>e[59]||(e[59]=[d("Descripción Técnica")])),_:1}),Ie(o("textarea",{"onUpdate:modelValue":e[16]||(e[16]=a=>r.value.description=a),class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Especificaciones adicionales..."},null,512),[[Ee,r.value.description]])])]),l(t(X),null,{default:s(()=>[l(t(j),{onClick:he,disabled:!r.value.name,class:"w-full"},{default:s(()=>e[60]||(e[60]=[d("Registrar en Catálogo")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),l(t(Q),{open:B.value,"onUpdate:open":e[24]||(e[24]=a=>B.value=a)},{default:s(()=>[l(t(Y),{"as-child":""},{default:s(()=>[l(t(j),{size:"sm",class:"gap-2 shadow-lg shadow-primary/20"},{default:s(()=>[l(t(ue),{class:"h-4 w-4"}),e[61]||(e[61]=d(" Cargar Stock "))]),_:1})]),_:1}),l(t(K),{class:"sm:max-w-[500px]"},{default:s(()=>[l(t(W),null,{default:s(()=>[l(t(Z),null,{default:s(()=>e[62]||(e[62]=[d("Actualización de Existencias")])),_:1}),l(t(J),null,{default:s(()=>e[63]||(e[63]=[d("Incremente o fije las cantidades en inventario")])),_:1})]),_:1}),o("div",ht,[o("div",Vt,[o("div",Ct,[l(t(m),null,{default:s(()=>e[64]||(e[64]=[d("Categoría")])),_:1}),l(t(k),{modelValue:c.value.stockable_type,"onUpdate:modelValue":e[18]||(e[18]=a=>c.value.stockable_type=a)},{default:s(()=>[l(t(h),null,{default:s(()=>[l(t(V))]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"cloth"},{default:s(()=>e[65]||(e[65]=[d("Ropa")])),_:1}),l(t(f),{value:"computer"},{default:s(()=>e[66]||(e[66]=[d("Informática")])),_:1}),l(t(f),{value:"kitchen"},{default:s(()=>e[67]||(e[67]=[d("Cocina")])),_:1}),l(t(f),{value:"ingredient"},{default:s(()=>e[68]||(e[68]=[d("Ingredientes")])),_:1})]),_:1})]),_:1},8,["modelValue"])]),o("div",St,[l(t(m),null,{default:s(()=>e[69]||(e[69]=[d("Buscar Item")])),_:1}),o("div",jt,[l(t(pe),{class:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l(t(v),{modelValue:A.value,"onUpdate:modelValue":e[19]||(e[19]=a=>A.value=a),placeholder:"Escribe para buscar...",class:"pl-9"},null,8,["modelValue"]),L.value?(i(),u("div",Ut,[l(t(Pe),{class:"h-4 w-4 animate-spin text-primary"})])):w("",!0)]),U.value.length>0?(i(),u("div",It,[(i(!0),u(_,null,I(U.value,a=>(i(),u("div",{key:a.id,onClick:x=>we(a),class:"px-4 py-2 hover:bg-slate-50 cursor-pointer flex items-center justify-between text-sm transition-colors border-b last:border-none"},[o("span",null,p(a.name),1),c.value.stockable_id===String(a.id)?(i(),u("div",At,[l(t(me),{class:"h-4 w-4"})])):w("",!0)],8,Et))),128))])):w("",!0),q.value?(i(),u("div",qt,[l(t(me),{class:"h-3.5 w-3.5"}),d(" Seleccionado: "+p(q.value),1)])):w("",!0)])]),o("div",$t,[o("div",Tt,[l(t(m),null,{default:s(()=>e[70]||(e[70]=[d("Sede (Opcional)")])),_:1}),l(t(k),{modelValue:c.value.headquarter_id,"onUpdate:modelValue":e[20]||(e[20]=a=>c.value.headquarter_id=a)},{default:s(()=>[l(t(h),null,{default:s(()=>[l(t(V),{placeholder:"General"})]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"none"},{default:s(()=>e[71]||(e[71]=[d("Ninguna (General)")])),_:1}),(i(!0),u(_,null,I(n.headquarters,a=>(i(),E(t(f),{key:a.id,value:String(a.id)},{default:s(()=>[d(p(a.business.name)+" - "+p(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),o("div",Nt,[l(t(m),null,{default:s(()=>e[72]||(e[72]=[d("Café / Unidad")])),_:1}),l(t(k),{modelValue:c.value.cafe_id,"onUpdate:modelValue":e[21]||(e[21]=a=>c.value.cafe_id=a)},{default:s(()=>[l(t(h),null,{default:s(()=>[l(t(V),{placeholder:"Seleccionar"})]),_:1}),l(t(C),null,{default:s(()=>[(i(!0),u(_,null,I(n.cafes,a=>(i(),E(t(f),{key:a.id,value:String(a.id)},{default:s(()=>[d(p(a.name)+" - "+p(a.unit.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),o("div",Dt,[o("div",zt,[l(t(m),null,{default:s(()=>e[73]||(e[73]=[d("Cantidad")])),_:1}),l(t(v),{type:"number",modelValue:c.value.quantity,"onUpdate:modelValue":e[22]||(e[22]=a=>c.value.quantity=a),min:"0"},null,8,["modelValue"])]),o("div",Rt,[l(t(m),null,{default:s(()=>e[74]||(e[74]=[d("Acción")])),_:1}),l(t(k),{modelValue:c.value.action,"onUpdate:modelValue":e[23]||(e[23]=a=>c.value.action=a)},{default:s(()=>[l(t(h),null,{default:s(()=>[l(t(V))]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"add"},{default:s(()=>e[75]||(e[75]=[d("Sumar al stock")])),_:1}),l(t(f),{value:"set"},{default:s(()=>e[76]||(e[76]=[d("Fijar cantidad")])),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),l(t(X),null,{default:s(()=>[l(t(j),{onClick:ye,disabled:!c.value.stockable_id,class:"w-full shadow-lg shadow-primary/30"},{default:s(()=>e[77]||(e[77]=[d(" Confirmar Operación ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])])]),o("div",Bt,[l(t(N),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(D),{class:"p-4 flex items-center gap-4"},{default:s(()=>[o("div",Gt,[l(t(te),{class:"h-5 w-5 text-indigo-600"})]),o("div",null,[e[78]||(e[78]=o("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Items Registrados",-1)),o("p",Mt,p(n.stocks.length),1)])]),_:1})]),_:1}),l(t(N),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(D),{class:"p-4 flex items-center gap-4"},{default:s(()=>[o("div",Ot,[l(t(Fe),{class:"h-5 w-5 text-rose-600"})]),o("div",null,[e[79]||(e[79]=o("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Sin Stock",-1)),o("p",Pt,p(n.stocks.filter(a=>a.quantity<=0).length),1)])]),_:1})]),_:1}),l(t(N),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(D),{class:"p-4 flex items-center gap-4"},{default:s(()=>[o("div",Ft,[l(t(fe),{class:"h-5 w-5 text-amber-600"})]),o("div",null,[e[80]||(e[80]=o("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Sedes Activas",-1)),o("p",Lt,p(n.headquarters.length),1)])]),_:1})]),_:1}),l(t(N),{class:"bg-white border-slate-200"},{default:s(()=>[l(t(D),{class:"p-4 flex items-center gap-4"},{default:s(()=>[o("div",Ht,[l(t(Ge),{class:"h-5 w-5 text-emerald-600"})]),o("div",null,[e[81]||(e[81]=o("p",{class:"text-xs font-semibold text-slate-500 uppercase"},"Existencias Totales",-1)),o("p",Qt,p(n.stocks.reduce((a,x)=>a+Number(x.quantity),0)),1)])]),_:1})]),_:1})]),o("div",Kt,[o("div",Wt,[l(t(Re),{modelValue:b.value,"onUpdate:modelValue":e[25]||(e[25]=a=>b.value=a),class:"w-full sm:w-auto"},{default:s(()=>[l(t(Be),{class:"bg-slate-100 p-1"},{default:s(()=>[l(t(M),{value:"clothes",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(ce),{class:"h-4 w-4"}),e[82]||(e[82]=o("span",{class:"hidden sm:inline"},"Ropa",-1))]),_:1}),l(t(M),{value:"computer",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(ve),{class:"h-4 w-4"}),e[83]||(e[83]=o("span",{class:"hidden sm:inline"},"IT",-1))]),_:1}),l(t(M),{value:"kitchen",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(ge),{class:"h-4 w-4"}),e[84]||(e[84]=o("span",{class:"hidden sm:inline"},"Cocina",-1))]),_:1}),l(t(M),{value:"ingredients",class:"gap-2 rounded-lg data-[state=active]:bg-white data-[state=active]:shadow-sm"},{default:s(()=>[l(t(te),{class:"h-4 w-4"}),e[85]||(e[85]=o("span",{class:"hidden sm:inline"},"Insumos",-1))]),_:1})]),_:1})]),_:1},8,["modelValue"]),o("div",Zt,[o("div",Jt,[l(t(pe),{class:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),l(t(v),{modelValue:O.value,"onUpdate:modelValue":e[26]||(e[26]=a=>O.value=a),placeholder:"Buscar item...",class:"pl-9 h-10 rounded-xl bg-slate-50 border-none focus-visible:ring-1"},null,8,["modelValue"])]),o("div",Xt,[l(t(k),{modelValue:R.value,"onUpdate:modelValue":e[27]||(e[27]=a=>R.value=a)},{default:s(()=>[l(t(h),{class:"w-[140px] h-10 rounded-xl bg-white"},{default:s(()=>[l(t(V),{placeholder:"Sedes"})]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"all"},{default:s(()=>e[86]||(e[86]=[d("Todas las Sedes")])),_:1}),(i(!0),u(_,null,I(n.headquarters,a=>(i(),E(t(f),{key:a.id,value:String(a.id)},{default:s(()=>[d(p(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),l(t(k),{modelValue:z.value,"onUpdate:modelValue":e[28]||(e[28]=a=>z.value=a)},{default:s(()=>[l(t(h),{class:"w-[140px] h-10 rounded-xl bg-white"},{default:s(()=>[l(t(V),{placeholder:"Cafés"})]),_:1}),l(t(C),null,{default:s(()=>[l(t(f),{value:"all"},{default:s(()=>e[87]||(e[87]=[d("Todos los Cafés")])),_:1}),(i(!0),u(_,null,I(n.cafes,a=>(i(),E(t(f),{key:a.id,value:String(a.id)},{default:s(()=>[d(p(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])])]),o("div",Yt,[le.value.length===0?(i(),u("div",el,[o("div",tl,[l(t(ee),{class:"h-8 w-8 text-slate-300"})]),e[88]||(e[88]=o("p",{class:"text-slate-500 font-semibold text-lg"},"Sin resultados",-1)),e[89]||(e[89]=o("p",{class:"text-slate-400 text-sm mt-1"},"No hay existencias registradas para esta categoría",-1))])):(i(),u("div",ll,[(i(!0),u(_,null,I(le.value,a=>(i(),E(t(N),{key:a.id,class:"group hover:shadow-xl hover:shadow-slate-200/50 transition-all duration-500 overflow-hidden border-slate-200 rounded-2xl bg-white flex flex-col"},{default:s(()=>[o("div",sl,[a.stockable_type.includes("Cloth")?(i(),u("div",al)):a.stockable_type.includes("Computer")?(i(),u("div",ol)):a.stockable_type.includes("Kitchen")?(i(),u("div",dl)):(i(),u("div",il))]),l(t(De),{class:"p-5 pb-3"},{default:s(()=>[o("div",nl,[o("div",rl,[o("div",{class:Ae(["p-2.5 rounded-xl shadow-sm transition-transform group-hover:scale-110",b.value==="clothes"?"bg-indigo-50 text-indigo-600":b.value==="computer"?"bg-blue-50 text-blue-600":b.value==="kitchen"?"bg-orange-50 text-orange-600":"bg-emerald-50 text-emerald-600"])},[(i(),E(qe(Ce(b.value)),{class:"h-5 w-5"}))],2),o("div",ul,[l(t(ze),{class:"text-base font-bold text-slate-900 truncate"},{default:s(()=>{var x;return[d(p((x=a.stockable)==null?void 0:x.name),1)]}),_:2},1024),l(t(Ne),{class:"text-xs mt-0.5 flex items-center gap-1.5 truncate text-slate-500"},{default:s(()=>{var x,S,G,$,T,oe;return[b.value==="clothes"?(i(),u(_,{key:0},[l(t(ne),{class:"h-3 w-3"}),e[90]||(e[90]=d(" Prendas de Personal "))],64)):b.value==="computer"?(i(),u(_,{key:1},[d(p((x=a.stockable)==null?void 0:x.brand)+" | "+p(((S=a.stockable)==null?void 0:S.model)||"S/M"),1)],64)):b.value==="kitchen"?(i(),u(_,{key:2},[d(p((G=a.stockable)==null?void 0:G.brand)+" | "+p(($=a.stockable)==null?void 0:$.size)+" ",1),(T=a.stockable)!=null&&T.code?(i(),u("span",pl,"#"+p((oe=a.stockable)==null?void 0:oe.code),1)):w("",!0)],64)):(i(),u(_,{key:3},[d(" Insumo / Ingrediente ")],64))]}),_:2},1024)])]),l(t(ie),{variant:ae(a.quantity).variant,class:"rounded-full px-2.5 shadow-none border-none text-[10px] uppercase font-bold"},{default:s(()=>[d(p(ae(a.quantity).label),1)]),_:2},1032,["variant"])])]),_:2},1024),l(t(D),{class:"p-5 pt-0 flex-1"},{default:s(()=>{var x,S;return[o("div",ml,[o("div",null,[e[92]||(e[92]=o("p",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1"},"Stock Disponible",-1)),o("div",fl,[o("span",cl,p(a.quantity),1),e[91]||(e[91]=o("span",{class:"text-xs font-bold text-slate-400 uppercase"},"Unidades",-1))])]),o("div",vl,[a.quantity>0?(i(),u("div",gl,[l(t(re),{class:"h-3 w-3"}),e[93]||(e[93]=d(" ACTIVO "))])):(i(),u("div",xl,[l(t(Me),{class:"h-3 w-3"}),e[94]||(e[94]=d(" AGOTADO "))]))])]),o("div",bl,[o("div",_l,[o("span",wl,[l(t(fe),{class:"h-3 w-3"}),e[95]||(e[95]=d(" Gestión HQ"))]),o("span",yl,p(((x=a.headquarter)==null?void 0:x.name)||"Distribución Global"),1)]),o("div",kl,[o("span",hl,[l(t(Le),{class:"h-3 w-3"}),e[96]||(e[96]=d(" Punto de Venta"))]),o("span",Vl,p(((S=a.cafe)==null?void 0:S.name)||"N/A"),1)])]),b.value==="kitchen"&&a.stockable?(i(),u("div",Cl,[a.stockable.series?(i(),u("div",Sl,[e[97]||(e[97]=o("span",{class:"text-slate-400 uppercase tracking-tighter"},"Serie",-1)),o("span",jl,p(a.stockable.series),1)])):w("",!0),a.stockable.status?(i(),u("div",Ul,[e[98]||(e[98]=o("span",{class:"text-slate-400 uppercase tracking-tighter"},"Estado",-1)),l(t(ie),{variant:"outline",class:"h-4 text-[8px] px-1 w-fit font-bold uppercase bg-white border-slate-200"},{default:s(()=>[d(p(a.stockable.status),1)]),_:2},1024)])):w("",!0)])):w("",!0)]}),_:2},1024),o("div",Il,[e[100]||(e[100]=o("div",{class:"flex -space-x-1.5 overflow-hidden"},[o("div",{class:"h-6 w-6 rounded-full border-2 border-white bg-indigo-100 flex items-center justify-center text-[8px] font-bold text-indigo-600"},"HQ"),o("div",{class:"h-6 w-6 rounded-full border-2 border-white bg-amber-100 flex items-center justify-center text-[8px] font-bold text-amber-600"},"CF")],-1)),o("button",El,[e[99]||(e[99]=d(" AUDITAR STOCK ")),l(t(re),{class:"h-3.5 w-3.5"})])])]),_:2},1024))),128))]))])]),o("div",Al,[o("div",ql,[o("div",$l,[e[101]||(e[101]=o("div",{class:"h-2 w-2 rounded-full bg-rose-500 animate-pulse"},null,-1)),o("span",Tl,p(n.stocks.filter(a=>a.quantity<=0).length)+" Alertas críticas",1)]),o("div",Nl,[e[102]||(e[102]=o("div",{class:"h-2 w-2 rounded-full bg-amber-500"},null,-1)),o("span",Dl,p(n.stocks.filter(a=>a.quantity>0&&a.quantity<15).length)+" Reposición necesaria",1)])]),o("div",zl,[o("div",Rl,[l(t(Oe),{class:"h-3.5 w-3.5"}),d(" ACTUALIZADO: "+p(new Date().toLocaleTimeString()),1)]),l(t(j),{variant:"ghost",size:"sm",class:"h-8 text-[10px] font-black tracking-widest text-primary hover:bg-slate-100 rounded-lg uppercase"},{default:s(()=>e[103]||(e[103]=[d(" DESCARGAR REPORTE ")])),_:1})])])])]),_:1},8,["breadcrumbs"])],64))}}),Gs=He(Bl,[["__scopeId","data-v-30cea8b0"]]);export{Gs as default};
