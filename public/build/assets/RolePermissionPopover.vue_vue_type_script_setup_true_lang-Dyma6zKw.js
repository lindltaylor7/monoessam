import{_ as m}from"./index-mPAs2Hgw.js";import{b as y,_ as k,a as w}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CcUDLUBH.js";import{d as C,j as u,s as b,C as $,g as P,o as l,u as c,w as r,a as n,e as f,b as d,c as _,p as B,t as V,F as N}from"./app-CLPGJr9j.js";const S={class:"max-h-64 space-y-2 overflow-y-auto"},E=["id","checked","onChange"],F=["for"],D=C({__name:"RolePermissionPopover",props:{role:{},permissions:{}},setup(v){const p=v,i=u(!1),a=u({});b(()=>p.role,o=>{a.value={},o.permissions&&o.permissions.forEach(e=>{a.value[e.id]=!0})},{immediate:!0});const t=$({roleId:0,permissions:{}});function g(o,e){a.value[o]=e}const h=()=>{i.value=!1,t.roleId=p.role.id,t.permissions=a.value,t.post(route("role-permissions"),{onSuccess:()=>{t.reset()}})};return(o,e)=>(l(),P(c(y),{open:i.value,"onUpdate:open":e[0]||(e[0]=s=>i.value=s)},{default:r(()=>[n(c(k),{asChild:""},{default:r(()=>[n(m,{variant:"outline",class:"flex items-center gap-2 bg-yellow-400 text-white"},{default:r(()=>e[1]||(e[1]=[f(" Ver permisos ")])),_:1})]),_:1}),n(c(w),{class:"w-64 space-y-3 p-4"},{default:r(()=>[d("div",S,[(l(!0),_(N,null,B(o.permissions,s=>(l(),_("div",{key:s.id,class:"flex items-center space-x-2 rounded p-2 transition-colors hover:bg-gray-50"},[d("input",{class:"text-primary focus:ring-primary h-4 w-4 rounded border-gray-300",type:"checkbox",id:`permission-${s.id}`,checked:a.value[s.id]||!1,onChange:x=>g(s.id,x.target.checked)},null,40,E),d("label",{class:"cursor-pointer text-sm font-medium text-gray-700",for:`permission-${s.id}`},V(s.name),9,F)]))),128))]),n(m,{onClick:h,class:"mt-2 w-full"},{default:r(()=>e[2]||(e[2]=[f(" Sincronizar ")])),_:1})]),_:1})]),_:1},8,["open"]))}});export{D as _};
