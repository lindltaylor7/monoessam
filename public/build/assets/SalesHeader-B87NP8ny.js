import{c as Z,u as ee,a as te}from"./Presence-CSQnosAz.js";import{u as ae}from"./usePrimitiveElement-B_8q4JJ0.js";import{i as j,u as O}from"./useFormControl-CyRv7QWe.js";import{b as J,u as $}from"./useForwardExpose-Dg33A9vK.js";import{P as G}from"./Primitive-BaxYTMe3.js";import{i as K,V as L}from"./Checkbox.vue_vue_type_script_setup_true_lang-BdS3pJoN.js";import{s as k,d as C,D as se,g as h,o as c,w as g,a as v,u as e,j as F,i as P,M as Q,H as R,I,J as E,bb as oe,K as W,aQ as re,r as w,q as A,y as le,c as x,b as p,e as S,F as T,l as D,t as B,n as ie}from"./app-CkZEfMms.js";import{R as ne}from"./RovingFocusGroup-D1FZjDRA.js";import{c as X}from"./utils-bRKmu4jq.js";import{R as de}from"./RovingFocusItem-CqXlQw-W.js";import{c as ue}from"./index-dkW4UkYo.js";import{_ as pe}from"./DatePicker.vue_vue_type_script_setup_true_lang-CXPxv_nS.js";import{_ as me}from"./DinnersTable.vue_vue_type_script_setup_true_lang-ClTOJnye.js";import{_ as ce}from"./ReportDialog.vue_vue_type_script_setup_true_lang-B-wBqDBY.js";import{_ as q}from"./Icon.vue_vue_type_script_setup_true_lang-bs5SyUx5.js";import{_ as M}from"./Card.vue_vue_type_script_setup_true_lang-BaU2CocA.js";import{_ as U}from"./CardContent.vue_vue_type_script_setup_true_lang-BmVcY8-Q.js";import{S as fe}from"./utensils-CdPC0c8Z.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisuallyHidden-BZmJHXuN.js";import"./check-DkZocY_5.js";import"./createLucideIcon-Bo8ztqDM.js";import"./Collection-wDR0_nmv.js";import"./useCalendar-Bi_FjUMa.js";import"./index-DfCtkBzz.js";import"./CalendarPrevButton.vue_vue_type_script_setup_true_lang-CdDkTRpq.js";import"./chevron-right-CtiWMolp.js";import"./chevron-left-BUz8IyMu.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BO7ctYzQ.js";import"./Teleport-D3oEZkhi.js";import"./PopperContent-BGTebBo7.js";import"./calendar-C3NxLC78.js";import"./Input.vue_vue_type_script_setup_true_lang-BzXStTK3.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CcJAm2Qy.js";import"./DialogTitle-DcdfjZkw.js";import"./utils-BES3iSsD.js";import"./x-B92Fb9I8.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-8fQ-tYPC.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-BrB3Wp72.js";import"./file-chart-column-Dp2EThS8.js";import"./loader-circle-BSbc2epk.js";import"./settings-2-BqiszGLb.js";import"./briefcase-CoxSbumQ.js";import"./lock-CLq6KRW1.js";import"./shopping-bag-eEEIiP6X.js";import"./between-horizontal-start-Cia5GEmq.js";import"./user-round-Dpb1kCzW.js";import"./building-2-DqusJzvr.js";import"./person-standing-DhLj_56C.js";import"./paperclip-Sps4vgT4.js";import"./chevron-down-DKw0lhjU.js";import"./chevron-up-Deixdta0.js";import"./circle-alert-T2HUwl98.js";import"./triangle-alert-t5sysKYT.js";import"./circle-check-R1VETfAZ.js";import"./circle-plus-L0fXo91h.js";import"./shirt-BHNzc64a.js";import"./dollar-sign-Cs95Z8B_.js";import"./message-square-BtEcIzeS.js";import"./eye-BdlVyVjo.js";import"./upload-DP6W9hHI.js";import"./hand-helping-Dpc7uywk.js";import"./info-D2cq1YmI.js";import"./lamp-desk-CACLQIVA.js";import"./list-check-CPbZBhc9.js";import"./sheet-DTLQXV0k.js";import"./mail-CL7OKKgi.js";import"./monitor-Cno1amJP.js";import"./sun-lr3WMyR_.js";import"./package-plus-PX3HB7j2.js";import"./package-CE3kN_hB.js";import"./pencil-DLdYFmEa.js";import"./phone-BCa1wzAL.js";import"./plus-DOjgi2MK.js";import"./search-BzUbHnwH.js";import"./shield-pkJ7UL7e.js";import"./shopping-cart-B5qnC-4j.js";import"./soup-BDIzeBuS.js";import"./trash-2-3kSnzmJY.js";import"./trash-SDlQ9bHe.js";import"./truck-Dmw15o_w.js";import"./user-plus-CI9pQRXA.js";import"./user-CNvsYSp_.js";function ge({type:s,defaultValue:o,modelValue:t}){const n=t||o;return t!==void 0||o!==void 0?Array.isArray(n)?"multiple":"single":s??"single"}function _e({type:s,defaultValue:o,modelValue:t}){return s||ge({type:s,defaultValue:o,modelValue:t})}function be({type:s,defaultValue:o}){return o!==void 0?o:s==="single"?void 0:[]}function he(s,o){const t=k(()=>_e(s)),n=J(s,"modelValue",o,{defaultValue:be(s),passive:s.modelValue===void 0,deep:!0});function u(a){if(t.value==="single")n.value=j(a,n.value)?void 0:a;else{const r=Array.isArray(n.value)?[...n.value||[]]:[n.value].filter(Boolean);if(K(r,a)){const m=r.findIndex(b=>j(b,a));r.splice(m,1)}else r.push(a);n.value=r}}const i=k(()=>t.value==="single");return{modelValue:n,changeModelValue:u,isSingle:i}}const[Y,ye]=Z("ToggleGroupRoot");var xe=C({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,n=o,{loop:u,rovingFocus:i,disabled:a,dir:r}=se(t),m=ae(r),{forwardRef:b,currentElement:y}=$(),{modelValue:f,changeModelValue:_,isSingle:d}=he(t,n),z=O(y);return ye({isSingle:d,modelValue:f,changeModelValue:_,dir:m,orientation:t.orientation,loop:u,rovingFocus:i,disabled:a}),(l,V)=>(c(),h(Q(e(i)?e(ne):e(G)),{"as-child":"",orientation:e(i)?l.orientation:void 0,dir:e(m),loop:e(i)?e(u):void 0},{default:g(()=>[v(e(G),{ref:e(b),role:"group","as-child":l.asChild,as:l.as},{default:g(()=>[F(l.$slots,"default",{modelValue:e(f)}),e(z)&&l.name?(c(),h(L,{key:0,name:l.name,required:l.required,value:e(f)},null,8,["name","required","value"])):P("v-if",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),we=xe,Ve=C({__name:"Toggle",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,n=o,{forwardRef:u,currentElement:i}=$(),a=Y(null),r=J(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0});function m(){r.value=!r.value}const b=k(()=>r.value?"on":"off"),y=O(i);return(f,_)=>(c(),h(e(G),{ref:e(u),type:f.as==="button"?"button":void 0,"as-child":t.asChild,as:f.as,"aria-pressed":e(r),"data-state":b.value,"data-disabled":f.disabled?"":void 0,disabled:f.disabled,onClick:m},{default:g(()=>[F(f.$slots,"default",{modelValue:e(r),disabled:f.disabled,pressed:e(r),state:b.value}),e(y)&&f.name&&!e(a)?(c(),h(L,{key:0,type:"checkbox",name:f.name,value:e(r),required:f.required},null,8,["name","value","required"])):P("v-if",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Se=Ve,qe=C({__name:"ToggleGroupItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(s){const o=s,t=Y(),n=k(()=>{var a;return((a=t.disabled)==null?void 0:a.value)||o.disabled}),u=k(()=>K(t.modelValue.value,o.value)),{forwardRef:i}=$();return(a,r)=>(c(),h(Q(e(t).rovingFocus.value?e(de):e(G)),R({"as-child":""},e(t).rovingFocus.value?{focusable:!n.value,active:u.value}:{}),{default:g(()=>[v(e(Se),R(o,{ref:e(i),disabled:n.value,"model-value":u.value,"onUpdate:modelValue":r[0]||(r[0]=m=>e(t).changeModelValue(a.value))}),{default:g(m=>[F(a.$slots,"default",I(E(m)))]),_:3},16,["disabled","model-value"])]),_:3},16))}}),Ce=qe;const H=C({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,n=o;oe("toggleGroup",{variant:t.variant,size:t.size});const u=W(t,"class","size","variant"),i=ee(u,n);return(a,r)=>(c(),h(e(we),R({"data-slot":"toggle-group","data-size":a.size,"data-variant":a.variant},e(i),{class:e(X)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",t.class)}),{default:g(m=>[F(a.$slots,"default",I(E(m)))]),_:3},16,["data-size","data-variant","class"]))}}),ze=ue("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=C({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(s){const o=s,t=re("toggleGroup"),n=W(o,"class","size","variant"),u=te(n);return(i,a)=>{var r,m,b,y;return c(),h(e(Ce),R({"data-slot":"toggle-group-item","data-variant":((r=e(t))==null?void 0:r.variant)||i.variant,"data-size":((m=e(t))==null?void 0:m.size)||i.size},e(u),{class:e(X)(e(ze)({variant:((b=e(t))==null?void 0:b.variant)||i.variant,size:((y=e(t))==null?void 0:y.size)||i.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",o.class)}),{default:g(f=>[F(i.$slots,"default",I(E(f)))]),_:3},16,["data-variant","data-size","class"])}}}),Be={class:"space-y-6"},ke={class:"bg-red-600 px-6 py-4 flex items-center gap-3"},Fe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Te={class:"space-y-2"},De={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},Ge={class:"space-y-2"},Re={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},$e={class:"space-y-3"},Pe={class:"flex items-center gap-2 text-[11px] font-bold text-slate-400 uppercase tracking-widest"},Ie={class:"space-y-4 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar"},Ee={class:"flex items-center gap-2"},je={class:"text-[10px] font-black uppercase text-slate-900 bg-slate-100 px-2 py-0.5 rounded"},Ae={class:"grid grid-cols-2 gap-2"},Me=["onClick"],Ue={class:"truncate"},He={key:0,class:"text-[10px] italic text-slate-400 pl-2"},Ne={class:"pt-4 border-t border-slate-100 grid grid-cols-2 gap-3"},Oe={class:"bg-emerald-600 px-6 py-4 flex items-center justify-between"},Je={class:"flex items-center gap-3 text-white"},Ke={class:"grid grid-cols-2 gap-4"},Le=C({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{},subdealerships:{},units:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(s,{emit:o}){const t=o,n=s;w(!1);const u=w(0),i=w(0),a=w([]),r=w([]),m=w(0);w(!1);const b=()=>{t("updateFormData",{receipt_type_id:m.value,sale_type_id:i.value,cafe_id:u.value})};A(u,_=>{const d=n.cafes.find(z=>z.id===_);d?(a.value=d.services||[],r.value=d.sales||[],t("showServicesFromCafeSelected",a.value,_)):(a.value=[],t("showServicesFromCafeSelected",a.value))}),A([m,i,u],()=>{b()});const y=_=>{t("updateDate",_)},f=_=>{t("addServiceSelected",_)};return(_,d)=>{const z=le("Badge");return c(),x("div",Be,[v(e(M),{class:"border-none shadow-sm bg-white overflow-hidden py-0"},{default:g(()=>[p("div",ke,[v(e(fe),{class:"text-white"}),d[2]||(d[2]=p("h3",{class:"text-white font-bold tracking-tight text-sm uppercase"},"Configuración de Venta",-1))]),v(e(U),{class:"p-6 space-y-6"},{default:g(()=>[p("div",Fe,[p("div",Te,[p("label",De,[v(q,{name:"file-text",size:"12",class:"text-blue-500"}),d[3]||(d[3]=S(" Documento "))]),v(e(H),{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=l=>m.value=l),type:"single",class:"flex flex-wrap gap-1 bg-slate-50 p-1 rounded-xl"},{default:g(()=>[(c(!0),x(T,null,D(_.receipt_types,l=>(c(),h(e(N),{value:l.id,key:l.id,class:"flex-1 h-9 rounded-lg text-xs font-bold transition-all data-[state=on]:bg-blue-600 data-[state=on]:text-white data-[state=on]:shadow-md"},{default:g(()=>[S(B(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),p("div",Ge,[p("label",Re,[v(q,{name:"tag",size:"12",class:"text-purple-500"}),d[4]||(d[4]=S(" Categoría "))]),v(e(H),{modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=l=>i.value=l),type:"single",class:"flex flex-wrap gap-1 bg-slate-50 p-1 rounded-xl"},{default:g(()=>[(c(!0),x(T,null,D(_.sale_types,l=>(c(),h(e(N),{value:l.id,key:l.id,class:"flex-1 h-9 rounded-lg text-xs font-bold transition-all data-[state=on]:bg-purple-600 data-[state=on]:text-white data-[state=on]:shadow-md"},{default:g(()=>[S(B(l.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),p("div",$e,[p("label",Pe,[v(q,{name:"map-pin",size:"12",class:"text-amber-500"}),d[5]||(d[5]=S(" Punto de Servicio (Unidad / Cafetería) "))]),p("div",Ie,[(c(!0),x(T,null,D(_.units,l=>(c(),x("div",{key:l.id,class:"space-y-2"},[p("div",Ee,[p("span",je,B(l.name),1),d[6]||(d[6]=p("div",{class:"h-[1px] flex-1 bg-slate-100"},null,-1))]),p("div",Ae,[(c(!0),x(T,null,D(l.cafes,V=>(c(),x("button",{key:V.id,onClick:Qe=>u.value=V.id,class:ie(["text-left px-3 py-2.5 rounded-xl text-xs font-bold border transition-all flex items-center justify-between group",u.value===V.id?"bg-amber-500 border-amber-500 text-white shadow-lg shadow-amber-200":"bg-white border-slate-200 text-slate-600 hover:border-amber-300 hover:bg-amber-50"])},[p("span",Ue,B(V.name),1),u.value===V.id?(c(),h(q,{key:0,name:"check-circle",size:"14"})):(c(),h(q,{key:1,name:"coffee",size:"14",class:"text-slate-300 group-hover:text-amber-500 transition-colors"}))],10,Me))),128))]),l.cafes.length===0?(c(),x("p",He,"Sin cafeterías asignadas")):P("",!0)]))),128))])]),p("div",Ne,[v(pe,{onUpdateDate:y,class:"w-full h-11"})])]),_:1})]),_:1}),v(e(M),{class:"border-none shadow-sm bg-white overflow-hidden py-0"},{default:g(()=>[p("div",Oe,[p("div",Je,[v(q,{name:"utensils",class:"h-5 w-5"}),d[7]||(d[7]=p("h3",{class:"font-bold tracking-tight text-sm uppercase"},"Servicios Disponibles",-1))]),v(z,{variant:"outline",class:"bg-white/20 text-white border-white/20 font-bold border-none rounded p-1"},{default:g(()=>[S(B(a.value.length),1)]),_:1})]),v(e(U),{class:"p-0"},{default:g(()=>[v(me,{services:a.value,onAddServiceSelected:f},null,8,["services"])]),_:1})]),_:1}),p("div",Ke,[v(ce,{class:"w-full"})])])}}}),qa=ve(Le,[["__scopeId","data-v-b2a45d23"]]);export{qa as default};
