import{d as T,j as y,c as l,o,a as i,u as r,m as z,w as n,b as e,P as x,e as f,i as _,F as m,p as g,g as v,t as c,n as N,W as P}from"./app-DQ0sg1ny.js";import{a as S,b as j,c as B,_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CATc5WwR.js";import{_ as h}from"./index-CzpGNwk8.js";import{c as R,_ as V,a as E,b as L}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C1S457e7.js";import{_ as D}from"./DialogDescription.vue_vue_type_script_setup_true_lang--evU5lfn.js";import{_ as F}from"./DialogFooter.vue_vue_type_script_setup_true_lang-SuVbo-Nw.js";import{E as H}from"./eye-Bqeu5E5T.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BORlaWwT.js";import"./Presence-CShDhlNS.js";import"./Primitive-kGOPBYwy.js";import"./useForwardExpose-ChMFdOMr.js";import"./PopperContent-COgd21zS.js";import"./Teleport-CZroiPvM.js";import"./VisuallyHidden-Bt322vYE.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DHbd6Haj.js";import"./utils-86tuz8kW.js";import"./useTypeahead-DZ731KFK.js";import"./RovingFocusGroup-DPs4ygyJ.js";import"./usePrimitiveElement-CqOKtb7x.js";import"./Collection-1-RrEqC9.js";import"./utensils-BOTVgzzb.js";import"./createLucideIcon-DPCh1A22.js";import"./DialogTitle-CyWL4X31.js";import"./x-D1ofBEVi.js";import"./DialogDescription-DAM8JllB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-Bj9jwZG7.js";import"./building-2-MfI_jPDs.js";import"./user-Cq7Hfd0F.js";import"./chevron-right-CEGm_TwL.js";const I={class:"p-6 space-y-8 max-w-7xl mx-auto"},U={class:"flex justify-between items-center"},W={class:"bg-white rounded-xl border shadow-sm overflow-hidden"},A={class:"overflow-x-auto"},G={class:"w-full text-sm text-left"},O={class:"divide-y divide-gray-100"},q={class:"p-4"},J={class:"flex items-center gap-3"},K={class:"font-medium text-gray-900"},Q={class:"p-4"},X={key:0,class:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10"},Y={key:1,class:"text-gray-400 italic"},Z={class:"p-4"},tt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},et={class:"text-xs font-medium text-gray-500"},st=["value","onChange"],at={key:1,class:"text-xs text-gray-400 italic"},ot={class:"p-4 text-right"},lt={key:0},rt={key:0,class:"p-4 border-t border-gray-100 flex justify-center"},it={class:"flex gap-1"},nt={key:0,class:"grid gap-4 py-4"},dt={key:0,class:"border rounded-lg overflow-hidden"},ct={class:"w-full text-sm"},ut={class:"divide-y"},ft={class:"px-4 py-2"},mt={class:"px-4 py-2 text-right font-medium"},pt={key:1,class:"text-center py-6 text-gray-500 bg-gray-50 rounded-lg border border-dashed"},Jt=T({__name:"Index",props:{staff:{},roleClothes:{}},setup(_t){const p=y(!1),u=y(null),b=a=>{u.value=a,p.value=!0},k=(a,s,t)=>{P.post(route("clothes.staff-size"),{staff_id:a,cloth_id:s,clothing_size:t},{preserveScroll:!0,preserveState:!0,only:["staff"]})},w=(a,s)=>{const t=a.staff_clothes.find(d=>d.cloth_id===s);return t?t.clothing_size:""},C=a=>a.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return(a,s)=>(o(),l(m,null,[i(r(z),{title:"Registro de Tallas"}),i(M,{breadcrumbs:[{title:"Personal",href:a.route("staff.index")},{title:"Tallas",href:a.route("clothes.index")}]},{default:n(()=>[e("div",I,[e("div",U,[s[3]||(s[3]=e("div",null,[e("h1",{class:"text-3xl font-bold tracking-tight"},"Registro de Tallas"),e("p",{class:"text-muted-foreground mt-1"}," Gestiona las tallas del personal según las prendas asignadas a su cargo. ")],-1)),i(r(x),{href:a.route("clothes.manage")},{default:n(()=>[i(r(h),null,{default:n(()=>s[2]||(s[2]=[f("Configurar Prendas y Roles")])),_:1})]),_:1},8,["href"])]),e("div",W,[e("div",A,[e("table",G,[s[5]||(s[5]=e("thead",{class:"bg-gray-50 text-gray-500 border-b"},[e("tr",null,[e("th",{class:"p-4 font-medium"},"Personal"),e("th",{class:"p-4 font-medium"},"Cargo"),e("th",{class:"p-4 font-medium"},"Tallas"),e("th",{class:"p-4 font-medium w-16"})])],-1)),e("tbody",O,[(o(!0),l(m,null,g(a.staff.data,t=>(o(),l("tr",{key:t.id,class:"hover:bg-gray-50/50"},[e("td",q,[e("div",J,[i(r(S),{class:"h-9 w-9 border"},{default:n(()=>[t.photo?(o(),v(r(j),{key:0,src:`/storage/${t.photo.date_path_photo}`,class:"object-cover"},null,8,["src"])):_("",!0),i(r(B),null,{default:n(()=>[f(c(C(t.name)),1)]),_:2},1024)]),_:2},1024),e("div",K,c(t.name),1)])]),e("td",Q,[t.role?(o(),l("span",X,c(t.role.name),1)):(o(),l("span",Y,"Sin cargo"))]),e("td",Z,[t.role_id&&a.roleClothes[t.role_id]&&a.roleClothes[t.role_id].length>0?(o(),l("div",tt,[(o(!0),l(m,null,g(a.roleClothes[t.role_id],d=>(o(),l("div",{key:d.id,class:"flex flex-col gap-1"},[e("label",et,c(d.name),1),e("input",{type:"text",class:"h-8 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:w(t,d.id),placeholder:"Talla...",onChange:$=>k(t.id,d.id,$.target.value)},null,40,st)]))),128))])):(o(),l("div",at," No hay prendas configuradas para este cargo. "))]),e("td",ot,[i(r(h),{variant:"ghost",size:"icon",onClick:d=>b(t)},{default:n(()=>[i(r(H),{class:"h-4 w-4 text-gray-500"})]),_:2},1032,["onClick"])])]))),128)),a.staff.data.length===0?(o(),l("tr",lt,s[4]||(s[4]=[e("td",{colspan:"4",class:"p-8 text-center text-gray-500"}," No se encontró personal. ",-1)]))):_("",!0)])])]),a.staff.links&&a.staff.links.length>3?(o(),l("div",rt,[e("div",it,[(o(!0),l(m,null,g(a.staff.links,(t,d)=>(o(),v(r(x),{key:d,href:t.url||"#",innerHTML:t.label,class:N(["px-3 py-1 rounded text-sm transition-colors",{"bg-black text-white":t.active,"text-gray-500 hover:bg-gray-100":!t.active,"opacity-50 pointer-events-none":!t.url}])},null,8,["href","innerHTML","class"]))),128))])])):_("",!0)])]),i(r(R),{open:p.value,"onUpdate:open":s[1]||(s[1]=t=>p.value=t)},{default:n(()=>[i(r(V),{class:"sm:max-w-[425px]"},{default:n(()=>[i(r(E),null,{default:n(()=>[i(r(L),null,{default:n(()=>s[6]||(s[6]=[f("Tallas Asignadas")])),_:1}),i(r(D),null,{default:n(()=>{var t;return[f(" Resumen de tallas para "+c((t=u.value)==null?void 0:t.name),1)]}),_:1})]),_:1}),u.value?(o(),l("div",nt,[u.value.staff_clothes&&u.value.staff_clothes.length>0?(o(),l("div",dt,[e("table",ct,[s[7]||(s[7]=e("thead",{class:"bg-gray-50 border-b"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left font-medium text-gray-500"},"Prenda"),e("th",{class:"px-4 py-2 text-right font-medium text-gray-500"},"Talla")])],-1)),e("tbody",ut,[(o(!0),l(m,null,g(u.value.staff_clothes,t=>(o(),l("tr",{key:t.id},[e("td",ft,c(t.cloth?t.cloth.name:t.clothe_name||"Prenda Desconocida"),1),e("td",mt,c(t.clothing_size||"-"),1)]))),128))])])])):(o(),l("div",pt," No hay tallas registradas. "))])):_("",!0),i(r(F),null,{default:n(()=>[i(r(h),{variant:"outline",onClick:s[0]||(s[0]=t=>p.value=!1)},{default:n(()=>s[8]||(s[8]=[f(" Cerrar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1},8,["breadcrumbs"])],64))}});export{Jt as default};
