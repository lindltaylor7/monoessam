import{c as le,a as oe,u as re}from"./Presence-CB-Dymo4.js";import{u as ie}from"./usePrimitiveElement-BFG8dDL3.js";import{i as H,u as Q}from"./check-BQ94wCsN.js";import{b as W,u as E}from"./useForwardExpose-CSfGAhbF.js";import{P as T}from"./Primitive-FDlRDWG8.js";import{i as X,V as Y}from"./Checkbox.vue_vue_type_script_setup_true_lang-BRf4xhMT.js";import{y as C,d as S,B as ne,g as h,o as f,w as _,a as v,u as e,k,i as q,M as Z,G as D,I as U,J as A,bc as de,O as ee,aR as ue,j as w,s as N,c as x,b as m,F as P,p as $,e as B,t as V}from"./app-5LHZ_M4f.js";import{R as pe}from"./RovingFocusGroup-rWhnjBw7.js";import{c as ae}from"./utils-bRKmu4jq.js";import{R as ce}from"./RovingFocusItem-CzBMCJpl.js";import{c as fe}from"./index-dkW4UkYo.js";import{_ as me}from"./DatePicker.vue_vue_type_script_setup_true_lang-CyEm2bOS.js";import{_ as ve}from"./DinnersTable.vue_vue_type_script_setup_true_lang-rneBE_t9.js";import{_ as ge}from"./ExcelDialog.vue_vue_type_script_setup_true_lang-CgDNv3ey.js";import{_ as ye}from"./NewDinnerDialog.vue_vue_type_script_setup_true_lang-HljsoEN7.js";import{_ as _e}from"./OtherUnitDialog.vue_vue_type_script_setup_true_lang-DZqzahUh.js";import{_ as be}from"./ReportDialog.vue_vue_type_script_setup_true_lang-DYPyMFsW.js";import{F as L}from"./file-D5uGwGXR.js";import{c as te}from"./createLucideIcon-C4MKDa7l.js";function he({type:l,defaultValue:o,modelValue:a}){const n=a||o;return a!==void 0||o!==void 0?Array.isArray(n)?"multiple":"single":l??"single"}function xe({type:l,defaultValue:o,modelValue:a}){return l||he({type:l,defaultValue:o,modelValue:a})}function we({type:l,defaultValue:o}){return o!==void 0?o:l==="single"?void 0:[]}function Ve(l,o){const a=C(()=>xe(l)),n=W(l,"modelValue",o,{defaultValue:we(l),passive:l.modelValue===void 0,deep:!0});function g(s){if(a.value==="single")n.value=H(s,n.value)?void 0:s;else{const t=Array.isArray(n.value)?[...n.value||[]]:[n.value].filter(Boolean);if(X(t,s)){const d=t.findIndex(b=>H(b,s));t.splice(d,1)}else t.push(s);n.value=t}}const u=C(()=>a.value==="single");return{modelValue:n,changeModelValue:g,isSingle:u}}const[se,qe]=le("ToggleGroupRoot");var Se=S({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,n=o,{loop:g,rovingFocus:u,disabled:s,dir:t}=ne(a),d=ie(t),{forwardRef:b,currentElement:y}=E(),{modelValue:c,changeModelValue:z,isSingle:G}=Ve(a,n),R=Q(y);return qe({isSingle:G,modelValue:c,changeModelValue:z,dir:d,orientation:a.orientation,loop:g,rovingFocus:u,disabled:s}),(r,p)=>(f(),h(Z(e(u)?e(pe):e(T)),{"as-child":"",orientation:e(u)?r.orientation:void 0,dir:e(d),loop:e(u)?e(g):void 0},{default:_(()=>[v(e(T),{ref:e(b),role:"group","as-child":r.asChild,as:r.as},{default:_(()=>[k(r.$slots,"default",{modelValue:e(c)}),e(R)&&r.name?(f(),h(Y,{key:0,name:r.name,required:r.required,value:e(c)},null,8,["name","required","value"])):q("v-if",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),Be=Se,Ce=S({__name:"Toggle",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,n=o,{forwardRef:g,currentElement:u}=E(),s=se(null),t=W(a,"modelValue",n,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function d(){t.value=!t.value}const b=C(()=>t.value?"on":"off"),y=Q(u);return(c,z)=>(f(),h(e(T),{ref:e(g),type:c.as==="button"?"button":void 0,"as-child":a.asChild,as:c.as,"aria-pressed":e(t),"data-state":b.value,"data-disabled":c.disabled?"":void 0,disabled:c.disabled,onClick:d},{default:_(()=>[k(c.$slots,"default",{modelValue:e(t),disabled:c.disabled,pressed:e(t),state:b.value}),e(y)&&c.name&&!e(s)?(f(),h(Y,{key:0,type:"checkbox",name:c.name,value:e(t),required:c.required},null,8,["name","value","required"])):q("v-if",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),ke=Ce,ze=S({__name:"ToggleGroupItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(l){const o=l,a=se(),n=C(()=>{var s;return((s=a.disabled)==null?void 0:s.value)||o.disabled}),g=C(()=>X(a.modelValue.value,o.value)),{forwardRef:u}=E();return(s,t)=>(f(),h(Z(e(a).rovingFocus.value?e(ce):e(T)),D({"as-child":""},e(a).rovingFocus.value?{focusable:!n.value,active:g.value}:{}),{default:_(()=>[v(e(ke),D(o,{ref:e(u),disabled:n.value,"model-value":g.value,"onUpdate:modelValue":t[0]||(t[0]=d=>e(a).changeModelValue(s.value))}),{default:_(d=>[k(s.$slots,"default",U(A(d)))]),_:3},16,["disabled","model-value"])]),_:3},16))}}),Fe=ze;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=te("CoffeeIcon",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=te("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),I=S({__name:"ToggleGroup",props:{rovingFocus:{type:Boolean},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},type:{},modelValue:{},defaultValue:{},class:{},variant:{},size:{}},emits:["update:modelValue"],setup(l,{emit:o}){const a=l,n=o;de("toggleGroup",{variant:a.variant,size:a.size});const g=ee(a,"class","size","variant"),u=oe(g,n);return(s,t)=>(f(),h(e(Be),D({"data-slot":"toggle-group","data-size":s.size,"data-variant":s.variant},e(u),{class:e(ae)("group/toggle-group flex w-fit items-center rounded-md data-[variant=outline]:shadow-xs",a.class)}),{default:_(d=>[k(s.$slots,"default",U(A(d)))]),_:3},16,["data-size","data-variant","class"]))}}),Te=fe("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),M=S({__name:"ToggleGroupItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},variant:{},size:{}},setup(l){const o=l,a=ue("toggleGroup"),n=ee(o,"class","size","variant"),g=re(n);return(u,s)=>{var t,d,b,y;return f(),h(e(Fe),D({"data-slot":"toggle-group-item","data-variant":((t=e(a))==null?void 0:t.variant)||u.variant,"data-size":((d=e(a))==null?void 0:d.size)||u.size},e(g),{class:e(ae)(e(Te)({variant:((b=e(a))==null?void 0:b.variant)||u.variant,size:((y=e(a))==null?void 0:y.size)||u.size}),"min-w-0 flex-1 shrink-0 rounded-none shadow-none first:rounded-l-md last:rounded-r-md focus:z-10 focus-visible:z-10 data-[variant=outline]:border-l-0 data-[variant=outline]:first:border-l",o.class)}),{default:_(c=>[k(u.$slots,"default",U(A(c)))]),_:3},16,["data-variant","data-size","class"])}}}),De={class:"flex flex-col gap-3 rounded-xl bg-white p-4 shadow-md"},Ge={class:"flex flex-col gap-3 md:flex-row"},Re={class:"min-w-0 flex-1 space-y-3"},Pe={class:"space-y-1"},$e={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ie={class:"space-y-1"},Me={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ee={class:"space-y-1"},Ue={class:"flex items-center gap-2 text-sm font-medium text-gray-700"},Ae={class:"truncate"},Oe={class:"flex min-w-0 flex-1 flex-col gap-3"},je={class:"flex min-w-0 flex-1 flex-col gap-3"},He={class:"flex w-full flex-col items-center space-y-1"},Ne={class:"flex flex-wrap items-center gap-2 rounded-lg bg-gray-50 px-3 py-2 text-sm"},Le={key:0,class:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-1 text-blue-800"},Je={key:1,class:"flex items-center gap-1 rounded-full bg-purple-100 px-2 py-1 text-purple-800"},Ke={key:2,class:"flex items-center gap-1 rounded-full bg-amber-100 px-2 py-1 text-amber-800"},Qe={key:3,class:"ml-auto text-gray-500"},va=S({__name:"SalesHeader",props:{cafes:{},services:{},receipt_types:{},sale_types:{},subdealerships:{}},emits:["showServicesFromCafeSelected","updateDate","updateFormData","addServiceSelected"],setup(l,{emit:o}){const a=o,n=()=>{const r={receipt_type_id:y.value,sale_type_id:t.value,cafe_id:s.value};a("updateFormData",r)},g=l,u=w(!1),s=w(0),t=w(0),d=w([]),b=w([]),y=w(0),c=w(!1),z=()=>{u.value=!0,c.value=!1};N(s,r=>{const p=g.cafes.find(F=>F.id===r);console.log(p),p?(d.value=p.services,b.value=p.sales,a("showServicesFromCafeSelected",d.value,b.value)):(d.value=[],a("showServicesFromCafeSelected",d.value))}),N([y,t,s],()=>{n()});const G=r=>{a("updateDate",r)},R=r=>{a("addServiceSelected",r)};return(r,p)=>{var F,O,j;return f(),x("header",De,[m("div",Ge,[m("div",Re,[m("div",Pe,[m("label",$e,[v(e(L),{class:"h-4 w-4 text-blue-500"}),p[3]||(p[3]=m("span",null,"Tipo de Documento",-1))]),v(e(I),{modelValue:y.value,"onUpdate:modelValue":p[0]||(p[0]=i=>y.value=i),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:_(()=>[(f(!0),x(P,null,$(r.receipt_types,i=>(f(),h(e(M),{value:i.id,key:i.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-blue-50 hover:text-blue-600 data-[state=on]:bg-blue-500 data-[state=on]:text-white"},{default:_(()=>[B(V(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),m("div",Ie,[m("label",Me,[v(e(K),{class:"h-4 w-4 text-purple-500"}),p[4]||(p[4]=m("span",null,"Tipo de Venta",-1))]),v(e(I),{modelValue:t.value,"onUpdate:modelValue":p[1]||(p[1]=i=>t.value=i),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:_(()=>[(f(!0),x(P,null,$(r.sale_types,i=>(f(),h(e(M),{value:i.id,key:i.id,class:"min-w-[100px] flex-1 rounded-md px-3 py-2 text-center text-sm transition-all hover:bg-purple-50 hover:text-purple-600 data-[state=on]:bg-purple-500 data-[state=on]:text-white"},{default:_(()=>[B(V(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),m("div",Ee,[m("label",Ue,[v(e(J),{class:"h-4 w-4 text-amber-500"}),p[5]||(p[5]=m("span",null,"CafeterÃ­a",-1))]),v(e(I),{modelValue:s.value,"onUpdate:modelValue":p[2]||(p[2]=i=>s.value=i),type:"single",class:"flex flex-wrap gap-1 rounded-lg bg-gray-50 p-1"},{default:_(()=>[(f(!0),x(P,null,$(r.cafes,i=>(f(),h(e(M),{value:i.id,key:i.id,class:"min-w-[120px] flex-1 rounded-md px-2 py-2 text-center text-sm transition-all hover:bg-amber-50 hover:text-amber-600 data-[state=on]:bg-amber-500 data-[state=on]:text-white"},{default:_(()=>[m("span",Ae,V(i.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),v(me,{onUpdateDate:G,class:"w-full"})]),m("div",Oe,[v(ve,{services:d.value,onAddServiceSelected:R},null,8,["services"])]),m("div",je,[m("div",He,[v(ge,{class:"w-full"}),v(be,{class:"w-full"}),v(ye,{cafes:r.cafes,subdealerships:r.subdealerships},null,8,["cafes","subdealerships"]),v(_e,{showOtherUnitDialog:c.value,onDoublePriceSave:z,class:"w-full"},null,8,["showOtherUnitDialog"])]),p[6]||(p[6]=m("div",{class:"flex w-full flex-col gap-2"},null,-1))])]),m("div",Ne,[y.value?(f(),x("span",Le,[v(e(L),{class:"h-3 w-3"}),B(" "+V((F=r.receipt_types.find(i=>i.id===y.value))==null?void 0:F.name),1)])):q("",!0),t.value?(f(),x("span",Je,[v(e(K),{class:"h-3 w-3"}),B(" "+V((O=r.sale_types.find(i=>i.id===t.value))==null?void 0:O.name),1)])):q("",!0),s.value?(f(),x("span",Ke,[v(e(J),{class:"h-3 w-3"}),B(" "+V((j=r.cafes.find(i=>i.id===s.value))==null?void 0:j.name),1)])):q("",!0),d.value.length?(f(),x("span",Qe,V(d.value.length)+" servicios disponibles ",1)):q("",!0)])])}}});export{va as _};
