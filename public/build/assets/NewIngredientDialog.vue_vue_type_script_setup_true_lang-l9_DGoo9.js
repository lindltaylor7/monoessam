import{d as I,j as r,C as P,g as A,o as u,w as a,a as s,u as o,e as m,b as t,D as _,c as f,F as y,p as x,t as k,bP as V}from"./app-b9Q6WyoX.js";import{_ as b}from"./index-DP0zSKu9.js";import{_ as B,a as D,b as F,c as L}from"./DialogTitle.vue_vue_type_script_setup_true_lang-DCmGcyu6.js";import{_ as S}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Dk4vx6cu.js";import{_ as M}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-Co-0CexR.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-Cj83MUYn.js";import{P as j}from"./plus-DUGwwboH.js";const E=["value"],G=I({__name:"NewIngredientDialog",props:{providers:{},ingredients:{}},setup($){const p=r(!1),d=r([]),g=r("");r(0),r(0),r(0);const n=P({ingredient_id:0,provider_id:0,city_id:0,cost_price:0}),v=$,w=()=>{n.post(route("providers.assign"),{onSuccess:()=>{p.value=!1,n.reset()}})},N=i=>{var l;const e=i.target;(e==null?void 0:e.value)==""?d.value=[]:d.value=(l=v.ingredients)==null?void 0:l.filter(c=>c.name.toLowerCase().includes(e==null?void 0:e.value)).slice(0,10)},U=i=>{g.value=i.name,d.value=[],n.ingredient_id=i.id};return(i,e)=>(u(),A(o(L),{open:p.value,"onUpdate:open":e[4]||(e[4]=l=>p.value=l)},{default:a(()=>[s(o(M),null,{default:a(()=>[s(b,{title:"Agregar Usuario",class:"h-full w-auto bg-blue-600"},{default:a(()=>[s(o(j)),e[5]||(e[5]=m(" Nueva asignación"))]),_:1})]),_:1}),s(o(B),null,{default:a(()=>[s(o(D),null,{default:a(()=>[s(o(F),null,{default:a(()=>e[6]||(e[6]=[m("Nueva asignación")])),_:1}),t("div",null,[e[7]||(e[7]=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Proveedor",-1)),_(t("select",{class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none","onUpdate:modelValue":e[0]||(e[0]=l=>o(n).provider_id=l)},[(u(!0),f(y,null,x(v.providers,l=>(u(),f("option",{key:l.id,value:l.id},k(l.name),9,E))),128))],512),[[V,o(n).provider_id]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Ciudad",-1)),_(t("select",{class:"w-full rounded-md border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none","onUpdate:modelValue":e[1]||(e[1]=l=>o(n).city_id=l)},e[8]||(e[8]=[t("option",{value:"1"},"LIMA",-1),t("option",{value:"2"},"HUANCAYO",-1)]),512),[[V,o(n).city_id]])]),e[10]||(e[10]=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Ingrediente",-1)),s(o(C),{type:"text",placeholder:"Nombre de ingrediente",onKeyup:N,modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=l=>g.value=l)},null,8,["modelValue"]),t("table",null,[t("tbody",null,[(u(!0),f(y,null,x(d.value,l=>(u(),f("tr",{key:l.id},[s(b,{onClick:c=>U(l)},{default:a(()=>[m(k(l.name),1)]),_:2},1032,["onClick"])]))),128))])]),e[11]||(e[11]=t("label",{class:"mb-1 block text-sm font-medium text-gray-700"},"Precio de Costo",-1)),s(o(C),{type:"number",placeholder:"Precio",modelValue:o(n).cost_price,"onUpdate:modelValue":e[3]||(e[3]=l=>o(n).cost_price=l)},null,8,["modelValue"])]),_:1}),s(o(S),null,{default:a(()=>[s(b,{onClick:w},{default:a(()=>e[12]||(e[12]=[m("Agregar")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{G as _};
