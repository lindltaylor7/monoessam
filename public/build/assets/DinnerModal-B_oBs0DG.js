import{d as D,C as E,s as z,g as b,o as d,u as e,w as s,a as t,b as l,e as n,t as m,c as u,i as c,n as f,p as v,F as x,h as I}from"./app-DHaWASGs.js";import{_ as y}from"./index-DugFCX-b.js";import{c as M,a as j,b as A,_ as F}from"./DialogTitle.vue_vue_type_script_setup_true_lang-0mbjowD6.js";import{_ as T}from"./DialogDescription.vue_vue_type_script_setup_true_lang-DK5vTktY.js";import{_ as G}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DsyqJLQZ.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-Bfjd_9Oz.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-DZmw_v8h.js";import{_ as k,a as w,b as V,c as $,d as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-ajK6f8PH.js";import{_ as S}from"./Icon.vue_vue_type_script_setup_true_lang-DTerDolt.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Primitive-tBCOSnLX.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-C3SvcCxZ.js";import"./useForwardExpose-Bro4_Myj.js";import"./DialogTitle-Cd2TOZBO.js";import"./Teleport-nRBCHDkQ.js";import"./utils-CIsYqnC8.js";import"./x-DiRws2QM.js";import"./createLucideIcon-CwVU_XBn.js";import"./DialogDescription-BqAPQkLQ.js";import"./chevron-down-DNYKOvr8.js";import"./Collection-2QV-Wjc-.js";import"./usePrimitiveElement-BXxKKAKx.js";import"./check-DG9H7RV-.js";import"./PopperContent-BHJV5yJC.js";import"./useTypeahead-BpWzT4GM.js";import"./VisuallyHidden-BqOzgzWc.js";import"./sandwich-LQPJ_2BJ.js";import"./between-horizontal-start-D1gFDSIy.js";import"./user-round-C1Wts4hU.js";import"./building-2-DFOIrQD-.js";import"./building-YtZ4Bd5c.js";import"./person-standing-CoFLATjM.js";import"./paperclip-DuwVUeC0.js";import"./calendar-BYBGSNwQ.js";import"./chevron-left-CRJhaYdN.js";import"./chevron-right-tpyrcjJw.js";import"./utensils-CMSHCEnc.js";import"./circle-alert-Way-lIMf.js";import"./triangle-alert-MWOmAk3X.js";import"./search-DH__hV28.js";import"./circle-plus-Bnvy9ueP.js";import"./tag-DUPe3KyA.js";import"./dollar-sign-Cw2afZJG.js";import"./upload-DL7K1Yal.js";import"./file-chart-column-CITc0Q3Y.js";import"./file-Ce5EUqHw.js";import"./hand-helping-D-x7MPlQ.js";import"./info-DXAXYm5o.js";import"./lamp-desk-B6-ogNx9.js";import"./list-check-B5hrXAK-.js";import"./list-B4KGL_GS.js";import"./loader-circle-BZUXqJgO.js";import"./lock-D8YOZq2E.js";import"./mail-BV3eQDyT.js";import"./sun-CGoxGlZs.js";import"./pencil-BG0mzKe6.js";import"./phone-Duv4noxC.js";import"./plus-3sYIKzVS.js";import"./sheet-BRFN6Ha6.js";import"./shield-DtkHsUAo.js";import"./shopping-cart-DmX6wcNg.js";import"./soup-B5ebva0u.js";import"./trash-2-vkcGeRRe.js";import"./trash-CeWi2HHZ.js";import"./user-plus-CxwED8fw.js";import"./user-BPmdqIWL.js";const L={class:"bg-primary px-6 py-8 text-primary-foreground relative"},P={class:"absolute -bottom-6 right-6 h-12 w-12 rounded-full bg-background flex items-center justify-center shadow-lg border"},q={class:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},H={class:"grid gap-2"},K={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},O={class:"grid grid-cols-2 gap-4"},Q={class:"grid gap-2"},R={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},W={class:"grid gap-2"},X={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},Y={class:"grid gap-2"},Z={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},ee={class:"grid gap-2"},re={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},oe=D({__name:"DinnerModal",props:{open:{type:Boolean},dinner:{},cafes:{},subdealerships:{}},emits:["update:open","success"],setup(N,{emit:U}){const p=N,g=U,r=E({name:"",dni:"",phone:"",subdealership_id:"",cafe_id:""});z(()=>p.open,a=>{a&&(p.dinner?(r.name=p.dinner.name,r.dni=p.dinner.dni,r.phone=p.dinner.phone||"",r.subdealership_id=p.dinner.subdealership_id.toString(),r.cafe_id=p.dinner.cafe_id.toString()):r.reset(),r.clearErrors())});const B=()=>{p.dinner?r.put(route("dinners.update",p.dinner.id),{onSuccess:()=>{g("update:open",!1),g("success")}}):r.post(route("dinners.store"),{onSuccess:()=>{g("update:open",!1),g("success")}})};return(a,o)=>(d(),b(e(M),{open:a.open,"onUpdate:open":o[6]||(o[6]=i=>a.$emit("update:open",i))},{default:s(()=>[t(e(F),{class:"sm:max-w-[500px] overflow-hidden p-0 gap-0 border-none shadow-2xl"},{default:s(()=>[l("div",L,[t(e(j),null,{default:s(()=>[t(e(A),{class:"text-2xl font-bold"},{default:s(()=>[n(m(a.dinner?"Editar Comensal":"Nuevo Comensal"),1)]),_:1}),t(e(T),{class:"text-primary-foreground/70"},{default:s(()=>[n(m(a.dinner?"Actualiza la información del comensal.":"Ingresa los datos del nuevo comensal."),1)]),_:1})]),_:1}),l("div",P,[t(S,{name:a.dinner?"user-cog":"user-plus",class:"h-6 w-6 text-primary"},null,8,["name"])])]),l("form",{onSubmit:I(B,["prevent"]),class:"px-6 pt-10 pb-6 bg-background"},[l("div",q,[l("div",H,[t(e(_),{for:"name",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[7]||(o[7]=[n("Nombre Completo")])),_:1}),t(e(h),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=i=>e(r).name=i),placeholder:"Ej. Juan Pérez",class:f([{"border-destructive shadow-sm":e(r).errors.name},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.name?(d(),u("p",K,m(e(r).errors.name),1)):c("",!0)]),l("div",O,[l("div",Q,[t(e(_),{for:"dni",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[8]||(o[8]=[n("DNI")])),_:1}),t(e(h),{id:"dni",modelValue:e(r).dni,"onUpdate:modelValue":o[1]||(o[1]=i=>e(r).dni=i),placeholder:"12345678",class:f([{"border-destructive shadow-sm":e(r).errors.dni},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.dni?(d(),u("p",R,m(e(r).errors.dni),1)):c("",!0)]),l("div",W,[t(e(_),{for:"phone",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[9]||(o[9]=[n("Teléfono")])),_:1}),t(e(h),{id:"phone",modelValue:e(r).phone,"onUpdate:modelValue":o[2]||(o[2]=i=>e(r).phone=i),placeholder:"987654321",class:f([{"border-destructive shadow-sm":e(r).errors.phone},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.phone?(d(),u("p",X,m(e(r).errors.phone),1)):c("",!0)])]),l("div",Y,[t(e(_),{for:"subdealership_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[10]||(o[10]=[n("Subconcesionaria")])),_:1}),t(e(k),{modelValue:e(r).subdealership_id,"onUpdate:modelValue":o[3]||(o[3]=i=>e(r).subdealership_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.subdealership_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.subdealerships,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.subdealership_id?(d(),u("p",Z,m(e(r).errors.subdealership_id),1)):c("",!0)]),l("div",ee,[t(e(_),{for:"cafe_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[11]||(o[11]=[n("Cafetería")])),_:1}),t(e(k),{modelValue:e(r).cafe_id,"onUpdate:modelValue":o[4]||(o[4]=i=>e(r).cafe_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.cafe_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.cafes,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.cafe_id?(d(),u("p",re,m(e(r).errors.cafe_id),1)):c("",!0)])]),t(e(G),{class:"pt-8 flex gap-2"},{default:s(()=>[t(e(y),{type:"button",variant:"ghost",onClick:o[5]||(o[5]=i=>a.$emit("update:open",!1)),class:"border"},{default:s(()=>o[12]||(o[12]=[n("Cancelar")])),_:1}),t(e(y),{type:"submit",disabled:e(r).processing,class:"flex-1 bg-primary hover:bg-primary/90 shadow-md"},{default:s(()=>[e(r).processing?(d(),b(S,{key:0,name:"loader-2",class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),n(" "+m(a.dinner?"Guardar Cambios":"Agregar Comensal"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),br=J(oe,[["__scopeId","data-v-14093b71"]]);export{br as default};
