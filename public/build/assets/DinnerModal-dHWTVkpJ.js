import{d as D,C as E,s as z,g as b,o as d,u as e,w as s,a as t,b as l,e as n,t as m,c as u,i as c,n as f,p as v,F as x,h as I}from"./app-D_30lCPY.js";import{_ as y}from"./index-QN4VJNje.js";import{c as M,a as j,b as A,_ as F}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CKprfftn.js";import{_ as T}from"./DialogDescription.vue_vue_type_script_setup_true_lang-_PRpYB-A.js";import{_ as G}from"./DialogFooter.vue_vue_type_script_setup_true_lang-ojhWNjwX.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-CqLR2zgG.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-Cy694oer.js";import{_ as k,a as w,b as V,c as $,d as C}from"./SelectValue.vue_vue_type_script_setup_true_lang-C0PsXp7m.js";import{_ as S}from"./Icon.vue_vue_type_script_setup_true_lang-CsvYRPHx.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Primitive-DPXPT-5q.js";import"./utils-bRKmu4jq.js";import"./index-dkW4UkYo.js";import"./Presence-BPVtuLwC.js";import"./useForwardExpose-DVHaXJa7.js";import"./DialogTitle-DzGias3d.js";import"./Teleport-CWphWnx9.js";import"./utils-Cc_kZu4w.js";import"./x-BeqBtXx0.js";import"./createLucideIcon-yK0qzumI.js";import"./DialogDescription-BSM7uzkb.js";import"./chevron-down-CYZW4T6X.js";import"./chevron-up-Df9oSPJx.js";import"./Collection-DZ4uY3RW.js";import"./usePrimitiveElement-DJdzkk5d.js";import"./check-Ls2929Rn.js";import"./PopperContent-BtEsArwb.js";import"./useTypeahead-xGntZ5Yj.js";import"./VisuallyHidden-CfVhPomW.js";import"./sandwich-BxMj5Noy.js";import"./between-horizontal-start-BMFDnqIJ.js";import"./user-round-CimlckDS.js";import"./building-2-BVeB84PC.js";import"./building-DbTLstTk.js";import"./person-standing-bU3q3XMU.js";import"./paperclip-BTFIDU4U.js";import"./calendar-DTbzER9Q.js";import"./chevron-left-BuWlhE3M.js";import"./chevron-right-BdYwrSSB.js";import"./utensils-b2iRzuqA.js";import"./circle-alert-XBx6QK5s.js";import"./triangle-alert-Dqsf-E40.js";import"./search-aqrmeJ3H.js";import"./circle-plus-uTsaTdZL.js";import"./tag-CDq2D0e1.js";import"./dollar-sign-6eSv5h7V.js";import"./upload-CxrrwCo5.js";import"./file-chart-column-GHgZ-8IE.js";import"./file-qN3D4EIv.js";import"./hand-helping-DVye06Mx.js";import"./info-DoF28chO.js";import"./lamp-desk-Cu4N7auW.js";import"./list-check-BvTyWzpb.js";import"./list-gSm-t6OH.js";import"./loader-circle-DDY6uFfm.js";import"./lock-aK1yr6eY.js";import"./mail-Ccazw0bH.js";import"./sun-DuKS5hJP.js";import"./pencil-YZkXJf-G.js";import"./phone-BZK4F8Yo.js";import"./plus-CXcrgXm0.js";import"./sheet-Caru67Ba.js";import"./shield-BzLOkYwv.js";import"./shopping-cart-C0jk70-o.js";import"./soup-CwPl_U4r.js";import"./trash-2-CRTj_Xhk.js";import"./trash-BCE-XAgF.js";import"./user-plus-mRpPUE5U.js";import"./user-v9caxZgY.js";const L={class:"bg-primary px-6 py-8 text-primary-foreground relative"},P={class:"absolute -bottom-6 right-6 h-12 w-12 rounded-full bg-background flex items-center justify-center shadow-lg border"},q={class:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar"},H={class:"grid gap-2"},K={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},O={class:"grid grid-cols-2 gap-4"},Q={class:"grid gap-2"},R={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},W={class:"grid gap-2"},X={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},Y={class:"grid gap-2"},Z={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},ee={class:"grid gap-2"},re={key:0,class:"text-[0.7rem] font-semibold text-destructive uppercase tracking-tight"},oe=D({__name:"DinnerModal",props:{open:{type:Boolean},dinner:{},cafes:{},subdealerships:{}},emits:["update:open","success"],setup(N,{emit:U}){const p=N,g=U,r=E({name:"",dni:"",phone:"",subdealership_id:"",cafe_id:""});z(()=>p.open,a=>{a&&(p.dinner?(r.name=p.dinner.name,r.dni=p.dinner.dni,r.phone=p.dinner.phone||"",r.subdealership_id=p.dinner.subdealership_id.toString(),r.cafe_id=p.dinner.cafe_id.toString()):r.reset(),r.clearErrors())});const B=()=>{p.dinner?r.put(route("dinners.update",p.dinner.id),{onSuccess:()=>{g("update:open",!1),g("success")}}):r.post(route("dinners.store"),{onSuccess:()=>{g("update:open",!1),g("success")}})};return(a,o)=>(d(),b(e(M),{open:a.open,"onUpdate:open":o[6]||(o[6]=i=>a.$emit("update:open",i))},{default:s(()=>[t(e(F),{class:"sm:max-w-[500px] overflow-hidden p-0 gap-0 border-none shadow-2xl"},{default:s(()=>[l("div",L,[t(e(j),null,{default:s(()=>[t(e(A),{class:"text-2xl font-bold"},{default:s(()=>[n(m(a.dinner?"Editar Comensal":"Nuevo Comensal"),1)]),_:1}),t(e(T),{class:"text-primary-foreground/70"},{default:s(()=>[n(m(a.dinner?"Actualiza la información del comensal.":"Ingresa los datos del nuevo comensal."),1)]),_:1})]),_:1}),l("div",P,[t(S,{name:a.dinner?"user-cog":"user-plus",class:"h-6 w-6 text-primary"},null,8,["name"])])]),l("form",{onSubmit:I(B,["prevent"]),class:"px-6 pt-10 pb-6 bg-background"},[l("div",q,[l("div",H,[t(e(_),{for:"name",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[7]||(o[7]=[n("Nombre Completo")])),_:1}),t(e(h),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":o[0]||(o[0]=i=>e(r).name=i),placeholder:"Ej. Juan Pérez",class:f([{"border-destructive shadow-sm":e(r).errors.name},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.name?(d(),u("p",K,m(e(r).errors.name),1)):c("",!0)]),l("div",O,[l("div",Q,[t(e(_),{for:"dni",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[8]||(o[8]=[n("DNI")])),_:1}),t(e(h),{id:"dni",modelValue:e(r).dni,"onUpdate:modelValue":o[1]||(o[1]=i=>e(r).dni=i),placeholder:"12345678",class:f([{"border-destructive shadow-sm":e(r).errors.dni},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.dni?(d(),u("p",R,m(e(r).errors.dni),1)):c("",!0)]),l("div",W,[t(e(_),{for:"phone",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[9]||(o[9]=[n("Teléfono")])),_:1}),t(e(h),{id:"phone",modelValue:e(r).phone,"onUpdate:modelValue":o[2]||(o[2]=i=>e(r).phone=i),placeholder:"987654321",class:f([{"border-destructive shadow-sm":e(r).errors.phone},"h-10 border-muted-foreground/20 focus-visible:ring-primary"])},null,8,["modelValue","class"]),e(r).errors.phone?(d(),u("p",X,m(e(r).errors.phone),1)):c("",!0)])]),l("div",Y,[t(e(_),{for:"subdealership_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[10]||(o[10]=[n("Subconcesionaria")])),_:1}),t(e(k),{modelValue:e(r).subdealership_id,"onUpdate:modelValue":o[3]||(o[3]=i=>e(r).subdealership_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.subdealership_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.subdealerships,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.subdealership_id?(d(),u("p",Z,m(e(r).errors.subdealership_id),1)):c("",!0)]),l("div",ee,[t(e(_),{for:"cafe_id",class:"text-xs font-bold uppercase tracking-wider text-muted-foreground"},{default:s(()=>o[11]||(o[11]=[n("Cafetería")])),_:1}),t(e(k),{modelValue:e(r).cafe_id,"onUpdate:modelValue":o[4]||(o[4]=i=>e(r).cafe_id=i)},{default:s(()=>[t(e(w),{class:f([{"border-destructive shadow-sm":e(r).errors.cafe_id},"h-10 border-muted-foreground/20 focus:ring-primary"])},{default:s(()=>[t(e(V),{placeholder:"Seleccionar"})]),_:1},8,["class"]),t(e($),null,{default:s(()=>[(d(!0),u(x,null,v(a.cafes,i=>(d(),b(e(C),{key:i.id,value:i.id.toString()},{default:s(()=>[n(m(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.cafe_id?(d(),u("p",re,m(e(r).errors.cafe_id),1)):c("",!0)])]),t(e(G),{class:"pt-8 flex gap-2"},{default:s(()=>[t(e(y),{type:"button",variant:"ghost",onClick:o[5]||(o[5]=i=>a.$emit("update:open",!1)),class:"border"},{default:s(()=>o[12]||(o[12]=[n("Cancelar")])),_:1}),t(e(y),{type:"submit",disabled:e(r).processing,class:"flex-1 bg-primary hover:bg-primary/90 shadow-md"},{default:s(()=>[e(r).processing?(d(),b(S,{key:0,name:"loader-2",class:"mr-2 h-4 w-4 animate-spin"})):c("",!0),n(" "+m(a.dinner?"Guardar Cambios":"Agregar Comensal"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}}),hr=J(oe,[["__scopeId","data-v-a2c7a430"]]);export{hr as default};
