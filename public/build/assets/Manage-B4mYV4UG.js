import{d as y,j as w,c as r,o as a,a as i,u as d,m as k,w as m,b as e,P as C,e as h,v as P,F as u,p,t as x,W as c}from"./app-DQ0sg1ny.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-CATc5WwR.js";import{_ as b}from"./index-CzpGNwk8.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-BQHpixUx.js";import"./utils-bRKmu4jq.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BORlaWwT.js";import"./Presence-CShDhlNS.js";import"./Primitive-kGOPBYwy.js";import"./useForwardExpose-ChMFdOMr.js";import"./PopperContent-COgd21zS.js";import"./Teleport-CZroiPvM.js";import"./VisuallyHidden-Bt322vYE.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DHbd6Haj.js";import"./utils-86tuz8kW.js";import"./useTypeahead-DZ731KFK.js";import"./RovingFocusGroup-DPs4ygyJ.js";import"./usePrimitiveElement-CqOKtb7x.js";import"./Collection-1-RrEqC9.js";import"./utensils-BOTVgzzb.js";import"./createLucideIcon-DPCh1A22.js";import"./DialogTitle-CyWL4X31.js";import"./x-D1ofBEVi.js";import"./DialogDescription-DAM8JllB.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-Bj9jwZG7.js";import"./building-2-MfI_jPDs.js";import"./user-Cq7Hfd0F.js";import"./chevron-right-CEGm_TwL.js";const N={class:"p-6 space-y-8 max-w-7xl mx-auto"},S={class:"flex justify-between items-center"},$={class:"bg-card text-card-foreground rounded-xl border shadow-sm p-6 bg-white"},j={class:"flex gap-4 max-w-md"},A={class:"bg-card text-card-foreground rounded-xl border shadow-sm overflow-hidden bg-white"},B={class:"overflow-x-auto"},E={class:"w-full text-sm text-left"},F={class:"bg-muted/50 text-muted-foreground bg-gray-50"},G={class:"divide-y divide-border"},K={class:"p-4 font-medium"},M={class:"flex justify-center"},T=["checked","onChange"],W={class:"p-4 text-right"},q=["onClick"],ve=y({__name:"Manage",props:{roles:{},clothes:{}},setup(D){const n=w(""),f=()=>{n.value&&c.post(route("clothes.store"),{name:n.value},{onSuccess:()=>n.value=""})},v=s=>{confirm("¿Seguro que deseas eliminar esta prenda?")&&c.delete(route("clothes.destroy",s),{preserveScroll:!0})},_=(s,t,o)=>{c.post(route("clothes.assign-role"),{cloth_id:s,role_id:t,action:o?"detach":"attach"},{preserveScroll:!0})},g=(s,t)=>s.roles.some(o=>o.id===t);return(s,t)=>(a(),r(u,null,[i(d(k),{title:"Gestión de Ropa por Rol"}),i(R,{breadcrumbs:[{title:"Personal",href:s.route("staff.index")},{title:"Ropa",href:s.route("clothes.index")},{title:"Configuración",href:s.route("clothes.manage")}]},{default:m(()=>[e("div",N,[e("div",S,[t[2]||(t[2]=e("h1",{class:"text-3xl font-bold tracking-tight"},"Gestión de Ropa y Perfiles",-1)),i(d(C),{href:s.route("clothes.index")},{default:m(()=>[i(d(b),{variant:"outline"},{default:m(()=>t[1]||(t[1]=[h("Volver a Registro de Tallas")])),_:1})]),_:1},8,["href"])]),e("div",$,[t[4]||(t[4]=e("h2",{class:"text-lg font-semibold mb-4"},"Agregar Nueva Prenda",-1)),e("div",j,[i(d(V),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=o=>n.value=o),placeholder:"Nombre (ej. Pantalón, Camisa)",onKeyup:P(f,["enter"])},null,8,["modelValue"]),i(d(b),{onClick:f},{default:m(()=>t[3]||(t[3]=[h("Agregar")])),_:1})])]),e("div",A,[t[7]||(t[7]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-lg font-semibold"},"Asignación de Prendas a Roles"),e("p",{class:"text-sm text-muted-foreground"},"Marca las casillas para asignar prendas permitidas a cada rol.")],-1)),e("div",B,[e("table",E,[e("thead",F,[e("tr",null,[t[5]||(t[5]=e("th",{class:"p-4 font-medium text-gray-500"},"Prenda",-1)),(a(!0),r(u,null,p(s.roles,o=>(a(),r("th",{key:o.id,class:"p-4 font-medium text-center text-gray-500 whitespace-nowrap"},x(o.name),1))),128)),t[6]||(t[6]=e("th",{class:"p-4 font-medium text-right text-gray-500"},"Acciones",-1))])]),e("tbody",G,[(a(!0),r(u,null,p(s.clothes,o=>(a(),r("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors"},[e("td",K,x(o.name),1),(a(!0),r(u,null,p(s.roles,l=>(a(),r("td",{key:l.id,class:"p-4 text-center"},[e("div",M,[e("input",{type:"checkbox",checked:g(o,l.id),onChange:L=>_(o.id,l.id,g(o,l.id)),class:"h-5 w-5 rounded border-gray-300 text-black focus:ring-black cursor-pointer accent-black"},null,40,T)])]))),128)),e("td",W,[e("button",{onClick:l=>v(o.id),class:"text-red-500 hover:text-red-700 hover:underline text-xs"}," Eliminar ",8,q)])]))),128))])])])])])]),_:1},8,["breadcrumbs"])],64))}});export{ve as default};
