import{_ as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-S3OvKnBc.js";import{d as T,c as V,o as g,n as I,u as e,k as R,j as b,a as t,m as U,w as s,b as l,e as o,t as m,F as C,p as q,g as W,W as F}from"./app-CLPGJr9j.js";import{_ as c}from"./Card.vue_vue_type_script_setup_true_lang-BY10tF7T.js";import{_}from"./CardContent.vue_vue_type_script_setup_true_lang-BMNQX0Qx.js";import{c as L}from"./utils-bRKmu4jq.js";import{_ as x,a as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-BV9Ue3j2.js";import{_ as w}from"./index-mPAs2Hgw.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-CDqHbCWH.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-DNKdC1qr.js";import{_ as O,a as P,b as A,c as G,d as B}from"./SelectValue.vue_vue_type_script_setup_true_lang-CRK3vKtT.js";import{C as H,_ as d}from"./Icon.vue_vue_type_script_setup_true_lang-Cmlez0oG.js";import{_ as J}from"./SalesReportTable.vue_vue_type_script_setup_true_lang-DRdJ7Jyq.js";import{_ as K}from"./index-DSFLzY5t.js";import"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DP-WG4vN.js";import"./Presence-_HbSWBax.js";import"./Primitive-C_1Ni1p2.js";import"./useForwardExpose-NYINLg6g.js";import"./PopperContent-BRdhnxBj.js";import"./Teleport-CjqnhN7V.js";import"./VisuallyHidden-DQ7lG3b4.js";import"./index-dkW4UkYo.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-Byv-8Yn1.js";import"./utils-ByEdbxTd.js";import"./useTypeahead-CwJ36Pjx.js";import"./RovingFocusGroup-CtGX3hoi.js";import"./usePrimitiveElement-B5fD54A2.js";import"./Collection-BDohul1d.js";import"./utensils-kLYhvmdR.js";import"./createLucideIcon-DmVwMrXX.js";import"./DialogTitle-0dBA3Oyf.js";import"./x-DirYxpuW.js";import"./DialogDescription-CUCq3P9S.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./hand-helping-CTL5Eb_a.js";import"./building-2-8hkYBK3t.js";import"./user-BVXFPozl.js";import"./chevron-right-BB6eRWvH.js";import"./chevron-down-OogD8I67.js";import"./chevron-up-PFroOHGr.js";import"./check-Cg9Fh0i4.js";import"./useFormControl-BwcSTihR.js";import"./between-horizontal-start-JD59fiGB.js";import"./user-round-Bg41COjj.js";import"./person-standing-BO1e4ODf.js";import"./paperclip-_ey9oYMS.js";import"./calendar--1kXyWkP.js";import"./chevron-left-CMyUDg10.js";import"./circle-alert-D7O6hQWd.js";import"./triangle-alert-BfncTfFV.js";import"./search-C5sNJ63w.js";import"./circle-plus-C8tFYff_.js";import"./dollar-sign-DCYvEMHI.js";import"./eye-yZG0vx56.js";import"./file-chart-column-7DaL2BhA.js";import"./upload--hRqBNi1.js";import"./info-3_XXpNam.js";import"./lamp-desk-w9cCkKlS.js";import"./list-check-xhofCd3y.js";import"./sheet-BS5UlvNm.js";import"./loader-circle-Cx82ngp8.js";import"./lock-DUYGYIDK.js";import"./mail-BlOsVqsR.js";import"./sun-CPpxROZd.js";import"./pencil-01tnZ0Eq.js";import"./plus-C_GV3ZjD.js";import"./shield-CP6UBF-w.js";import"./shopping-cart-C_EX3tA6.js";import"./soup-DAwxRrBm.js";import"./trash-2-CKryjFDo.js";import"./trash-q9Tij9Mc.js";import"./user-plus-Dk6B4L2s.js";import"./TableHeader.vue_vue_type_script_setup_true_lang-CVaNjvUc.js";import"./PopoverTrigger.vue_vue_type_script_setup_true_lang-CcUDLUBH.js";const k=T({__name:"CardDescription",props:{class:{}},setup(v){const p=v;return(n,f)=>(g(),V("p",{"data-slot":"card-description",class:I(e(L)("text-muted-foreground text-sm",p.class))},[R(n.$slots,"default")],2))}}),M={class:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6"},Q={class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},X={class:"flex items-center gap-3"},Y={class:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 shadow-lg shadow-emerald-500/30"},Z={class:"grid gap-4 md:grid-cols-3"},tt={class:"text-3xl font-black text-emerald-600"},et={class:"text-3xl font-black text-blue-600"},st={class:"text-3xl font-black text-purple-600"},at={class:"grid gap-4 md:grid-cols-4"},lt={class:"space-y-2"},ot={class:"space-y-2"},rt={class:"space-y-2"},it={class:"flex items-end gap-2"},dt={class:"flex items-center justify-between"},ze=T({__name:"Index",props:{sales:{},cafes:{},filters:{},statistics:{}},setup(v){var S;const p=v,n=b(p.filters.start_date),f=b(p.filters.end_date),u=b(((S=p.filters.cafe_id)==null?void 0:S.toString())||"all"),y=()=>{F.get(route("reportsales.index"),{start_date:n.value,end_date:f.value,cafe_id:u.value!=="all"?u.value:null},{preserveState:!0,preserveScroll:!0})},D=()=>{const r=new Date().toISOString().split("T")[0];n.value=r,f.value=r,u.value="all",y()},E=r=>{confirm("¿Estás seguro de que deseas eliminar esta venta? Esta acción no se puede deshacer.")&&F.delete(route("reportsales.destroy",r),{preserveScroll:!0})},N=()=>{alert("Funcionalidad de exportación en desarrollo")};return(r,a)=>(g(),V(C,null,[t(e(U),{title:"Reporte de ventas"}),t(j,null,{default:s(()=>[l("div",M,[l("div",Q,[l("div",X,[l("div",Y,[t(e(H),{class:"text-white"})]),a[3]||(a[3]=l("div",null,[l("h1",{class:"text-2xl font-bold tracking-tight text-slate-900"},"Reporte de Ventas"),l("p",{class:"text-sm text-slate-500"},"Consulta y gestiona las ventas registradas")],-1))]),t(e(w),{onClick:N,variant:"outline",class:"gap-2"},{default:s(()=>[t(d,{name:"download",size:"16"}),a[4]||(a[4]=o(" Exportar a Excel "))]),_:1})]),l("div",Z,[t(e(c),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:s(()=>[t(e(x),{class:"pb-3"},{default:s(()=>[t(e(k),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:s(()=>[t(d,{name:"currency-dollar",size:"14"}),a[5]||(a[5]=o(" Total Vendido "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[l("div",tt," S/"+m(Number(r.statistics.total_amount).toFixed(2)),1)]),_:1})]),_:1}),t(e(c),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:s(()=>[t(e(x),{class:"pb-3"},{default:s(()=>[t(e(k),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:s(()=>[t(d,{name:"shopping-cart",size:"14"}),a[6]||(a[6]=o(" Total de Ventas "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[l("div",et,m(r.statistics.total_sales),1)]),_:1})]),_:1}),t(e(c),{class:"border-slate-200 bg-gradient-to-br from-white to-slate-50"},{default:s(()=>[t(e(x),{class:"pb-3"},{default:s(()=>[t(e(k),{class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500"},{default:s(()=>[t(d,{name:"chart-line",size:"14"}),a[7]||(a[7]=o(" Promedio por Venta "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[l("div",st," S/"+m(Number(r.statistics.average_sale).toFixed(2)),1)]),_:1})]),_:1})]),t(e(c),{class:"border-slate-200 shadow-sm"},{default:s(()=>[t(e(x),null,{default:s(()=>[t(e(z),{class:"flex items-center gap-2 text-lg"},{default:s(()=>[t(d,{name:"filter",size:"18"}),a[8]||(a[8]=o(" Filtros de Búsqueda "))]),_:1})]),_:1}),t(e(_),null,{default:s(()=>[l("div",at,[l("div",lt,[t(e($),{for:"start-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:s(()=>a[9]||(a[9]=[o(" Fecha Inicio ")])),_:1}),t(e(h),{id:"start-date",modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=i=>n.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",ot,[t(e($),{for:"end-date",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:s(()=>a[10]||(a[10]=[o(" Fecha Fin ")])),_:1}),t(e(h),{id:"end-date",modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=i=>f.value=i),type:"date",class:"border-slate-300"},null,8,["modelValue"])]),l("div",rt,[t(e($),{for:"cafe",class:"text-xs font-bold uppercase tracking-wider text-slate-600"},{default:s(()=>a[11]||(a[11]=[o(" Cafetería ")])),_:1}),t(e(O),{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=i=>u.value=i)},{default:s(()=>[t(e(P),{id:"cafe",class:"border-slate-300"},{default:s(()=>[t(e(A),{placeholder:"Todas las cafeterías"})]),_:1}),t(e(G),null,{default:s(()=>[t(e(B),{value:"all"},{default:s(()=>a[12]||(a[12]=[o("Todas las cafeterías")])),_:1}),(g(!0),V(C,null,q(r.cafes,i=>(g(),W(e(B),{key:i.id,value:i.id.toString()},{default:s(()=>[o(m(i.name)+" "+m(i.unit?`- ${i.unit.name}`:""),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",it,[t(e(w),{onClick:y,class:"flex-1 gap-2"},{default:s(()=>[t(d,{name:"search",size:"16"}),a[13]||(a[13]=o(" Buscar "))]),_:1}),t(e(w),{onClick:D,variant:"outline",size:"icon"},{default:s(()=>[t(d,{name:"x",size:"16"})]),_:1})])])]),_:1})]),_:1}),t(e(c),{class:"border-slate-200 shadow-sm"},{default:s(()=>[t(e(x),null,{default:s(()=>[l("div",dt,[t(e(z),{class:"flex items-center gap-2 text-lg"},{default:s(()=>[t(d,{name:"table",size:"18"}),a[14]||(a[14]=o(" Ventas Registradas "))]),_:1}),t(e(K),{variant:"secondary",class:"font-bold"},{default:s(()=>[o(m(r.sales.total)+" resultados ",1)]),_:1})])]),_:1}),t(e(_),{class:"p-0"},{default:s(()=>[t(J,{sales:r.sales.data,"paginate-data":r.sales,onDeleteSale:E},null,8,["sales","paginate-data"])]),_:1})]),_:1})])]),_:1})],64))}});export{ze as default};
