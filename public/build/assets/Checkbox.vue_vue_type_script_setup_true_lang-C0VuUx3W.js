import{c as M}from"./utils-bRKmu4jq.js";import{c as F,P as O,u as L}from"./Presence-BGW-MhGw.js";import{a as V,i as C,u as K,C as N}from"./check-D6jufp2J.js";import{u as P,b as z}from"./useForwardExpose-OCefkK9g.js";import{P as j}from"./Primitive-XO7syFOX.js";import{R as D}from"./RovingFocusItem-DIJUSrnf.js";import{a as T}from"./usePrimitiveElement-Cs7P3h_e.js";import{V as W}from"./VisuallyHidden-BSDMDi2v.js";import{d as b,y as v,s as Y,g as f,o as d,G as m,c as S,i as x,F as A,p as J,w as y,k as w,u as t,Y as Q,h as U,L as X,a as B}from"./app-b9Q6WyoX.js";function R(u,e){return V(u)?!1:Array.isArray(u)?u.some(r=>C(r,e)):C(u,e)}var Z=b({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(u){const e=u,{primitiveElement:r,currentElement:o}=T(),n=v(()=>e.checked??e.value);return Y(n,(s,a)=>{if(!o.value)return;const i=o.value,c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(h&&s!==a){const k=new Event("input",{bubbles:!0}),g=new Event("change",{bubbles:!0});h.call(i,s),i.dispatchEvent(k),i.dispatchEvent(g)}}),(s,a)=>(d(),f(W,m({ref_key:"primitiveElement",ref:r},{...e,...s.$attrs},{as:"input"}),null,16))}}),I=Z,G=b({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(u){const e=u,r=v(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),o=v(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((n,s)=>typeof n=="object"?Object.entries(n).map(([a,i])=>({name:`${e.name}[${s}][${a}]`,value:i})):{name:`${e.name}[${s}]`,value:n}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([n,s])=>({name:`${e.name}[${n}]`,value:s})):[]);return(n,s)=>(d(),S(A,null,[x(" We render single input if it's required "),r.value?(d(),f(I,m({key:n.name},{...e,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(d(!0),S(A,{key:1},J(o.value,a=>(d(),f(I,m({key:a.name},{ref_for:!0},{...e,...n.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))],2112))}}),ee=G;const[ae,be]=F("CheckboxGroupRoot");function q(u){return u==="indeterminate"}function H(u){return q(u)?"indeterminate":u?"checked":"unchecked"}const[te,re]=F("CheckboxRoot");var le=b({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(u,{emit:e}){const r=u,o=e,{forwardRef:n,currentElement:s}=P(),a=ae(null),i=z(r,"modelValue",o,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),c=v(()=>(a==null?void 0:a.disabled.value)||r.disabled),p=v(()=>V(a==null?void 0:a.modelValue.value)?i.value==="indeterminate"?"indeterminate":i.value:R(a.modelValue.value,r.value));function h(){if(V(a==null?void 0:a.modelValue.value))i.value=q(i.value)?!0:!i.value;else{const l=[...a.modelValue.value||[]];if(R(l,r.value)){const E=l.findIndex(_=>C(_,r.value));l.splice(E,1)}else l.push(r.value);a.modelValue.value=l}}const k=K(s),g=v(()=>{var l;return r.id&&s.value?(l=document.querySelector(`[for="${r.id}"]`))==null?void 0:l.innerText:void 0});return re({disabled:c,state:p}),(l,E)=>{var _,$;return d(),f(X((_=t(a))!=null&&_.rovingFocus.value?t(D):t(j)),m(l.$attrs,{id:l.id,ref:t(n),role:"checkbox","as-child":l.asChild,as:l.as,type:l.as==="button"?"button":void 0,"aria-checked":t(q)(p.value)?"mixed":p.value,"aria-required":l.required,"aria-label":l.$attrs["aria-label"]||g.value,"data-state":t(H)(p.value),"data-disabled":c.value?"":void 0,disabled:c.value,focusable:($=t(a))!=null&&$.rovingFocus.value?!c.value:void 0,onKeydown:Q(U(()=>{},["prevent"]),["enter"]),onClick:h}),{default:y(()=>[w(l.$slots,"default",{modelValue:t(i),state:p.value}),t(k)&&l.name&&!t(a)?(d(),f(t(ee),{key:0,type:"checkbox",checked:!!p.value,name:l.name,value:l.value,disabled:c.value,required:l.required},null,8,["checked","name","value","disabled","required"])):x("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),ue=le,ne=b({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(u){const{forwardRef:e}=P(),r=te();return(o,n)=>(d(),f(t(O),{present:o.forceMount||t(q)(t(r).state.value)||t(r).state.value===!0},{default:y(()=>[B(t(j),m({ref:t(e),"data-state":t(H)(t(r).state.value),"data-disabled":t(r).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:y(()=>[w(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),se=ne;const he=b({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(u,{emit:e}){const r=u,o=e,n=v(()=>{const{class:a,...i}=r;return i}),s=L(n,o);return(a,i)=>(d(),f(t(ue),m({"data-slot":"checkbox"},t(s),{class:t(M)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r.class)}),{default:y(()=>[B(t(se),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:y(()=>[w(a.$slots,"default",{},()=>[B(t(N),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{ee as V,he as _,R as i};
